var je=Object.defineProperty;var ze=(n,e,t)=>e in n?je(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ie=(n,e,t)=>ze(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function V(){}function xe(n){return n()}function Fe(){return Object.create(null)}function $(n){n.forEach(xe)}function Re(n){return typeof n=="function"}function j(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let te;function J(n,e){return n===e?!0:(te||(te=document.createElement("a")),te.href=e,n===te.href)}function Ge(n){return Object.keys(n).length===0}function He(n,...e){if(n==null){for(const o of e)o(void 0);return V}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Qe(n,e,t){n.$$.on_destroy.push(He(e,t))}function ne(n){return n??""}function _(n,e){n.appendChild(e)}function P(n,e,t){n.insertBefore(e,t||null)}function k(n){n.parentNode&&n.parentNode.removeChild(n)}function ce(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function C(n){return document.createElement(n)}function Ce(n){return document.createTextNode(n)}function A(){return Ce(" ")}function Le(){return Ce("")}function O(n,e,t,o){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function We(n){return Array.from(n.childNodes)}function Je(n,e){e=""+e,n.data!==e&&(n.data=e)}function q(n,e,t,o){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function N(n,e,t){n.classList.toggle(e,!!t)}function Ze(n,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:o})}let G;function z(n){G=n}function we(){if(!G)throw new Error("Function called outside component initialization");return G}function Ye(n){we().$$.on_mount.push(n)}function Ke(n){we().$$.on_destroy.push(n)}function Xe(){const n=we();return(e,t,{cancelable:o=!1}={})=>{const s=n.$$.callbacks[e];if(s){const r=Ze(e,t,{cancelable:o});return s.slice().forEach(l=>{l.call(n,r)}),!r.defaultPrevented}return!0}}const Y=[],oe=[];let U=[];const ke=[],et=Promise.resolve();let fe=!1;function tt(){fe||(fe=!0,et.then(qe))}function de(n){U.push(n)}const le=new Set;let H=0;function qe(){if(H!==0)return;const n=G;do{try{for(;H<Y.length;){const e=Y[H];H++,z(e),nt(e.$$)}}catch(e){throw Y.length=0,H=0,e}for(z(null),Y.length=0,H=0;oe.length;)oe.pop()();for(let e=0;e<U.length;e+=1){const t=U[e];le.has(t)||(le.add(t),t())}U.length=0}while(Y.length);for(;ke.length;)ke.pop()();fe=!1,le.clear(),z(n)}function nt(n){if(n.fragment!==null){n.update(),$(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(de)}}function rt(n){const e=[],t=[];U.forEach(o=>n.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),U=e}const re=new Set;let R;function Be(){R={r:0,c:[],p:R}}function Ue(){R.r||$(R.c),R=R.p}function I(n,e){n&&n.i&&(re.delete(n),n.i(e))}function T(n,e,t,o){if(n&&n.o){if(re.has(n))return;re.add(n),R.c.push(()=>{re.delete(n),o&&(t&&n.d(1),o())}),n.o(e)}else o&&o()}function B(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function se(n){n&&n.c()}function Q(n,e,t){const{fragment:o,after_update:s}=n.$$;o&&o.m(e,t),de(()=>{const r=n.$$.on_mount.map(xe).filter(Re);n.$$.on_destroy?n.$$.on_destroy.push(...r):$(r),n.$$.on_mount=[]}),s.forEach(de)}function W(n,e){const t=n.$$;t.fragment!==null&&(rt(t.after_update),$(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ot(n,e){n.$$.dirty[0]===-1&&(Y.push(n),tt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Z(n,e,t,o,s,r,l=null,c=[-1]){const d=G;z(n);const a=n.$$={fragment:null,ctx:[],props:r,update:V,not_equal:s,bound:Fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Fe(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};l&&l(a.root);let i=!1;if(a.ctx=t?t(n,e.props||{},(u,f,...v)=>{const w=v.length?v[0]:f;return a.ctx&&s(a.ctx[u],a.ctx[u]=w)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](w),i&&ot(n,u)),f}):[],a.update(),i=!0,$(a.before_update),a.fragment=o?o(a.ctx):!1,e.target){if(e.hydrate){const u=We(e.target);a.fragment&&a.fragment.l(u),u.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&I(n.$$.fragment),Q(n,e.target,e.anchor),qe()}z(d)}class K{constructor(){ie(this,"$$");ie(this,"$$set")}$destroy(){W(this,1),this.$destroy=V}$on(e,t){if(!Re(t))return V;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const s=o.indexOf(t);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!Ge(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const L=[];function it(n,e=V){let t;const o=new Set;function s(c){if(j(n,c)&&(n=c,t)){const d=!L.length;for(const a of o)a[1](),L.push(a,n);if(d){for(let a=0;a<L.length;a+=2)L[a][0](L[a+1]);L.length=0}}}function r(c){s(c(n))}function l(c,d=V){const a=[c,d];return o.add(a),o.size===1&&(t=e(s,r)||V),c(n),()=>{o.delete(a),o.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:l}}const D=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",language:"en",incomplete:!0,openings:[{name:"Opening",id:"1070bnqHcHY",source:"dub"}],episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY",source:"dub"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU",source:"dub"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs",source:"dub"},{name:"The Black Ambulance",id:"52W_cb1f1ao",source:"dub"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI",source:"dub"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0",source:"dub"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ",source:"dub"},{name:"The Secret is Out!",id:"jzz3UOpvuV0",source:"dub"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw",source:"dub"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk",source:"dub"},{name:"The Mysterious Transfer Student",id:"sfh5bi5Njtc",source:"dub"},{name:"Blue Cop's Special Training!",id:"aU5wLVRQIWQ",source:"dub"},{name:"Guardian of the Forest",id:"PkNgHFctIIg",source:"dub"},{name:"Operation Underground Battle",id:"5igwoiB4sAE",source:"dub"},{name:"A Metal Cardbot from the Sky!",id:"8wpIPp7c094",source:"dub"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",language:"en",incomplete:!0,openings:[],episodes:[]}];function Pe(n,e,t){const o=n.slice();return o[4]=e[t],o[6]=t,o}function Ee(n,e,t){const o=n.slice();return o[7]=e[t],o[6]=t,o}function Se(n){let e,t,o,s,r,l,c,d,a,i,u,f,v;function w(){return n[2](n[7])}return{c(){e=C("button"),t=C("img"),s=A(),r=C("div"),l=C("h3"),l.textContent=`${n[7].name}`,c=A(),d=C("div"),a=C("span"),a.textContent="OP",i=A(),u=C("span"),u.textContent=`CC: ${n[7].source}`,J(t.src,o=`https://img.youtube.com/vi/${n[7].id}/0.jpg`)||m(t,"src",o),m(t,"class","svelte-aironl"),m(l,"class","svelte-aironl"),m(a,"class","tag svelte-aironl"),m(u,"class","tag svelte-aironl"),q(u,"background-color","#777"),m(d,"class","tags"),m(r,"class","text svelte-aironl"),m(e,"class","episode svelte-aironl"),N(e,"active",n[1]===n[7])},m(g,h){P(g,e,h),_(e,t),_(e,s),_(e,r),_(r,l),_(r,c),_(r,d),_(d,a),_(d,i),_(d,u),f||(v=O(e,"click",w),f=!0)},p(g,h){n=g,h&2&&N(e,"active",n[1]===n[7])},d(g){g&&k(e),f=!1,v()}}}function Ae(n){let e,t,o,s,r,l,c,d,a,i,u,f,v;function w(){return n[3](n[4])}return{c(){e=C("button"),t=C("img"),s=A(),r=C("div"),l=C("h3"),l.textContent=`${n[4].name}`,c=A(),d=C("div"),a=C("span"),a.textContent=`Episode ${n[6]+1}`,i=A(),u=C("span"),u.textContent=`CC: ${n[4].source}`,J(t.src,o=`https://img.youtube.com/vi/${n[4].id}/0.jpg`)||m(t,"src",o),m(t,"class","svelte-aironl"),m(l,"class","svelte-aironl"),m(a,"class","tag svelte-aironl"),m(u,"class","tag svelte-aironl"),q(u,"background-color","#777"),m(d,"class","tags"),m(r,"class","text svelte-aironl"),m(e,"class","episode svelte-aironl"),N(e,"active",n[1]===n[4])},m(g,h){P(g,e,h),_(e,t),_(e,s),_(e,r),_(r,l),_(r,c),_(r,d),_(d,a),_(d,i),_(d,u),f||(v=O(e,"click",w),f=!0)},p(g,h){n=g,h&2&&N(e,"active",n[1]===n[4])},d(g){g&&k(e),f=!1,v()}}}function lt(n){let e;return{c(){e=C("i"),e.textContent="Check back next week for new episodes!",q(e,"text-align","center"),q(e,"width","100%"),q(e,"display","block"),q(e,"padding","10px 0")},m(t,o){P(t,e,o)},d(t){t&&k(e)}}}function at(n){let e,t,o,s,r,l,c,d,a,i,u,f,v,w=B(D[x].openings),g=[];for(let p=0;p<w.length;p+=1)g[p]=Se(Ee(n,w,p));let h=B(D[x].episodes),b=[];for(let p=0;p<h.length;p+=1)b[p]=Ae(Pe(n,h,p));let F=lt();return{c(){e=C("div"),t=C("header"),o=C("img"),r=A(),l=C("div"),c=C("h2"),c.textContent=`${D[x].title}`,d=A(),a=C("p"),a.textContent=`${D[x].subtitle}`,i=A(),u=C("div");for(let p=0;p<g.length;p+=1)g[p].c();f=A();for(let p=0;p<b.length;p+=1)b[p].c();v=A(),F&&F.c(),J(o.src,s=D[x].icon)||m(o,"src",s),m(o,"class","svelte-aironl"),m(c,"class","svelte-aironl"),m(a,"class","svelte-aironl"),m(l,"class","text svelte-aironl"),m(t,"class","svelte-aironl"),m(u,"class","episodes svelte-aironl"),m(e,"class","playlist svelte-aironl")},m(p,E){P(p,e,E),_(e,t),_(t,o),_(t,r),_(t,l),_(l,c),_(l,d),_(l,a),_(e,i),_(e,u);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(u,null);_(u,f);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(u,null);_(u,v),F&&F.m(u,null)},p(p,[E]){if(E&3){w=B(D[x].openings);let y;for(y=0;y<w.length;y+=1){const S=Ee(p,w,y);g[y]?g[y].p(S,E):(g[y]=Se(S),g[y].c(),g[y].m(u,f))}for(;y<g.length;y+=1)g[y].d(1);g.length=w.length}if(E&3){h=B(D[x].episodes);let y;for(y=0;y<h.length;y+=1){const S=Pe(p,h,y);b[y]?b[y].p(S,E):(b[y]=Ae(S),b[y].c(),b[y].m(u,v))}for(;y<b.length;y+=1)b[y].d(1);b.length=h.length}},i:V,o:V,d(p){p&&k(e),ce(g,p),ce(b,p),F&&F.d()}}}let x=0;function ut(n,e,t){let o,s=V,r=()=>(s(),s=He(l,a=>t(1,o=a)),l);n.$$.on_destroy.push(()=>s());let{video:l}=e;r();const c=a=>l.set(a),d=a=>l.set(a);return n.$$set=a=>{"video"in a&&r(t(0,l=a.video))},[l,o,c,d]}class ct extends K{constructor(e){super(),Z(this,e,ut,at,j,{video:0})}}function ft(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pe={exports:{}},$e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/$e=function(){var n={},e={};return n.on=function(t,o){var s={name:t,handler:o};return e[t]=e[t]||[],e[t].unshift(s),s},n.off=function(t){var o=e[t.name].indexOf(t);o!==-1&&e[t.name].splice(o,1)},n.trigger=function(t,o){var s=e[t],r;if(s)for(r=s.length;r--;)s[r].handler(o)},n};var dt=$e,he={exports:{}},ge={exports:{}},ae,Ve;function pt(){if(Ve)return ae;Ve=1;var n=1e3,e=n*60,t=e*60,o=t*24,s=o*7,r=o*365.25;ae=function(i,u){u=u||{};var f=typeof i;if(f==="string"&&i.length>0)return l(i);if(f==="number"&&isFinite(i))return u.long?d(i):c(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function l(i){if(i=String(i),!(i.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(u){var f=parseFloat(u[1]),v=(u[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return f*r;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*o;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function c(i){var u=Math.abs(i);return u>=o?Math.round(i/o)+"d":u>=t?Math.round(i/t)+"h":u>=e?Math.round(i/e)+"m":u>=n?Math.round(i/n)+"s":i+"ms"}function d(i){var u=Math.abs(i);return u>=o?a(i,u,o,"day"):u>=t?a(i,u,t,"hour"):u>=e?a(i,u,e,"minute"):u>=n?a(i,u,n,"second"):i+" ms"}function a(i,u,f,v){var w=u>=f*1.5;return Math.round(i/f)+" "+v+(w?"s":"")}return ae}function ht(n){t.debug=t,t.default=t,t.coerce=d,t.disable=r,t.enable=s,t.enabled=l,t.humanize=pt(),t.destroy=a,Object.keys(n).forEach(i=>{t[i]=n[i]}),t.names=[],t.skips=[],t.formatters={};function e(i){let u=0;for(let f=0;f<i.length;f++)u=(u<<5)-u+i.charCodeAt(f),u|=0;return t.colors[Math.abs(u)%t.colors.length]}t.selectColor=e;function t(i){let u,f=null,v,w;function g(...h){if(!g.enabled)return;const b=g,F=Number(new Date),p=F-(u||F);b.diff=p,b.prev=u,b.curr=F,u=F,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let E=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(S,M)=>{if(S==="%%")return"%";E++;const X=t.formatters[M];if(typeof X=="function"){const ee=h[E];S=X.call(b,ee),h.splice(E,1),E--}return S}),t.formatArgs.call(b,h),(b.log||t.log).apply(b,h)}return g.namespace=i,g.useColors=t.useColors(),g.color=t.selectColor(i),g.extend=o,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(v!==t.namespaces&&(v=t.namespaces,w=t.enabled(i)),w),set:h=>{f=h}}),typeof t.init=="function"&&t.init(g),g}function o(i,u){const f=t(this.namespace+(typeof u>"u"?":":u)+i);return f.log=this.log,f}function s(i){t.save(i),t.namespaces=i,t.names=[],t.skips=[];let u;const f=(typeof i=="string"?i:"").split(/[\s,]+/),v=f.length;for(u=0;u<v;u++)f[u]&&(i=f[u].replace(/\*/g,".*?"),i[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))}function r(){const i=[...t.names.map(c),...t.skips.map(c).map(u=>"-"+u)].join(",");return t.enable(""),i}function l(i){if(i[i.length-1]==="*")return!0;let u,f;for(u=0,f=t.skips.length;u<f;u++)if(t.skips[u].test(i))return!1;for(u=0,f=t.names.length;u<f;u++)if(t.names[u].test(i))return!0;return!1}function c(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function d(i){return i instanceof Error?i.stack||i.message:i}function a(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var gt=ht;(function(n,e){var t={};e.formatArgs=s,e.save=r,e.load=l,e.useColors=o,e.storage=c(),e.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;a.splice(1,0,i,"color: inherit");let u=0,f=0;a[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(u++,v==="%c"&&(f=u))}),a.splice(f,0,i)}e.log=console.debug||console.log||(()=>{});function r(a){try{a?e.storage.setItem("debug",a):e.storage.removeItem("debug")}catch{}}function l(){let a;try{a=e.storage.getItem("debug")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=t.DEBUG),a}function c(){try{return localStorage}catch{}}n.exports=gt(e);const{formatters:d}=n.exports;d.j=function(a){try{return JSON.stringify(a)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(ge,ge.exports);var mt=ge.exports,me={exports:{}},ve={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(ve,ve.exports);var vt=ve.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=vt,o=s(t);function s(r){return r&&r.__esModule?r:{default:r}}e.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(me,me.exports);var yt=me.exports,ye={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(ye,ye.exports);var bt=ye.exports,be={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(be,be.exports);var _t=be.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=mt,o=i(t),s=yt,r=i(s),l=bt,c=i(l),d=_t,a=i(d);function i(v){return v&&v.__esModule?v:{default:v}}const u=(0,o.default)("youtube-player"),f={};f.proxyEvents=v=>{const w={};for(const g of c.default){const h="on"+g.slice(0,1).toUpperCase()+g.slice(1);w[h]=b=>{u('event "%s"',h,b),v.trigger(g,b)}}return w},f.promisifyPlayer=(v,w=!1)=>{const g={};for(const h of a.default)w&&r.default[h]?g[h]=(...b)=>v.then(F=>{const p=r.default[h],E=F.getPlayerState(),y=F[h].apply(F,b);return p.stateChangeRequired||Array.isArray(p.acceptableStates)&&!p.acceptableStates.includes(E)?new Promise(S=>{const M=()=>{const X=F.getPlayerState();let ee;typeof p.timeout=="number"&&(ee=setTimeout(()=>{F.removeEventListener("onStateChange",M),S()},p.timeout)),Array.isArray(p.acceptableStates)&&p.acceptableStates.includes(X)&&(F.removeEventListener("onStateChange",M),clearTimeout(ee),S())};F.addEventListener("onStateChange",M)}).then(()=>y):y}):g[h]=(...b)=>v.then(F=>F[h].apply(F,b));return g},e.default=f,n.exports=e.default})(he,he.exports);var Ct=he.exports,_e={exports:{}},wt=function(e,t,o){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");typeof t=="function"&&(o=t,t={}),t=t||{},o=o||function(){},r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.async="async"in t?!!t.async:!0,r.src=e,t.attrs&&Ft(r,t.attrs),t.text&&(r.text=""+t.text);var l="onload"in r?Ie:kt;l(r,o),r.onload||Ie(r,o),s.appendChild(r)};function Ft(n,e){for(var t in e)n.setAttribute(t,e[t])}function Ie(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function kt(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=wt,o=s(t);function s(r){return r&&r.__esModule?r:{default:r}}e.default=r=>new Promise(c=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){c(window.YT);return}else{const a=window.location.protocol==="http:"?"http:":"https:";(0,o.default)(a+"//www.youtube.com/iframe_api",i=>{i&&r.trigger("error",i)})}const d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{d&&d(),c(window.YT)}}),n.exports=e.default})(_e,_e.exports);var Pt=_e.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=dt,o=d(t),s=Ct,r=d(s),l=Pt,c=d(l);function d(i){return i&&i.__esModule?i:{default:i}}let a;e.default=(i,u={},f=!1)=>{const v=(0,o.default)();if(a||(a=(0,c.default)(v)),u.events)throw new Error("Event handlers cannot be overwritten.");if(typeof i=="string"&&!document.getElementById(i))throw new Error('Element "'+i+'" does not exist.');u.events=r.default.proxyEvents(v);const w=new Promise(h=>{typeof i=="object"&&i.playVideo instanceof Function?h(i):a.then(b=>{const F=new b.Player(i,u);return v.on("ready",()=>{h(F)}),null})}),g=r.default.promisifyPlayer(w,f);return g.on=v.on,g.off=v.off,g},n.exports=e.default})(pe,pe.exports);var Et=pe.exports;const St=ft(Et);function At(n){let e,t,o,s;return{c(){e=C("div"),t=C("div"),m(t,"id",n[0]),m(t,"class",o=ne(n[1]?"responsive-player":"")+" svelte-bvyk3m"),m(e,"class",s=ne((n[2]?n[2]:"")+(n[1]?" responsive-container":""))+" svelte-bvyk3m")},m(r,l){P(r,e,l),_(e,t),n[6](t)},p(r,[l]){l&1&&m(t,"id",r[0]),l&2&&o!==(o=ne(r[1]?"responsive-player":"")+" svelte-bvyk3m")&&m(t,"class",o),l&6&&s!==(s=ne((r[2]?r[2]:"")+(r[1]?" responsive-container":""))+" svelte-bvyk3m")&&m(e,"class",s)},i:V,o:V,d(r){r&&k(e),n[6](null)}}}const ue={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Vt(n,e,t){let{id:o=void 0}=e,{videoId:s}=e,{options:r=void 0}=e,{responsive:l=!1}=e,{class:c}=e,d,a;Ye(()=>i());function i(){return a=St(d,r),a.on("ready",v),a.on("error",w),a.on("stateChange",g),a.on("playbackRateChange",h),a.on("playbackQualityChange",b),()=>a.destroy()}function u(p){a&&p&&(r&&r.playerVars&&r.playerVars.autoplay===1?a.loadVideoById(p):a.cueVideoById(p))}const f=Xe();function v(p){f("ready",p),u(s)}function w(p){f("error",p)}function g(p){switch(f("stateChange",p),p.data){case ue.ENDED:f("end",p);break;case ue.PLAYING:f("play",p);break;case ue.PAUSED:f("pause",p);break}}function h(p){f("playbackRateChange",p)}function b(p){f("playbackQualityChange",p)}function F(p){oe[p?"unshift":"push"](()=>{d=p,t(3,d)})}return n.$$set=p=>{"id"in p&&t(0,o=p.id),"videoId"in p&&t(4,s=p.videoId),"options"in p&&t(5,r=p.options),"responsive"in p&&t(1,l=p.responsive),"class"in p&&t(2,c=p.class)},n.$$.update=()=>{n.$$.dirty&16&&u(s)},[o,l,c,d,s,r,F]}class It extends K{constructor(e){super(),Z(this,e,Vt,At,j,{id:0,videoId:4,options:5,responsive:1,class:2})}}function Me(n,e,t){const o=n.slice();return o[6]=e[t],o}function Ne(n){let e,t,o=B(n[1].text.split(/[ \n]/)),s=[];for(let r=0;r<o.length;r+=1)s[r]=Te(Me(n,o,r));return{c(){e=C("div"),t=C("div");for(let r=0;r<s.length;r+=1)s[r].c();m(t,"class","subtitle svelte-gytk5l"),m(e,"class","subtitleArea svelte-gytk5l"),N(e,"hover",n[0])},m(r,l){P(r,e,l),_(e,t);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(t,null)},p(r,l){if(l&2){o=B(r[1].text.split(/[ \n]/));let c;for(c=0;c<o.length;c+=1){const d=Me(r,o,c);s[c]?s[c].p(d,l):(s[c]=Te(d),s[c].c(),s[c].m(t,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}l&1&&N(e,"hover",r[0])},d(r){r&&k(e),ce(s,r)}}}function Te(n){let e,t=n[6]+"",o;return{c(){e=C("span"),o=Ce(t),m(e,"class","svelte-gytk5l"),N(e,"newline",n[1].text.includes(n[6]+`
`))},m(s,r){P(s,e,r),_(e,o)},p(s,r){r&2&&t!==(t=s[6]+"")&&Je(o,t),r&2&&N(e,"newline",s[1].text.includes(s[6]+`
`))},d(s){s&&k(e)}}}function Mt(n){let e,t=n[1]&&Ne(n);return{c(){t&&t.c(),e=Le()},m(o,s){t&&t.m(o,s),P(o,e,s)},p(o,[s]){o[1]?t?t.p(o,s):(t=Ne(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:V,o:V,d(o){o&&k(e),t&&t.d(o)}}}function Nt(n,e,t){let{subtitles:o}=e,{target:s}=e,{hover:r}=e,l=null;function c(){if(!s)return;let a=s.getCurrentTime();if(!(l&&a>=l.start&&a<l.end)){for(let i of o){if(a>=i.start&&a<=i.end){t(1,l=i);return}if(a<i.start)break}t(1,l=null)}}let d;return Ye(()=>{d=setInterval(c,10)}),Ke(()=>{clearInterval(d)}),n.$$set=a=>{"subtitles"in a&&t(2,o=a.subtitles),"target"in a&&t(3,s=a.target),"hover"in a&&t(0,r=a.hover)},[r,l,o,s]}class Tt extends K{constructor(e){super(),Z(this,e,Nt,Mt,j,{subtitles:2,target:3,hover:0})}}const Ot="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",Dt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Oe(n){let e,t,o,s;e=new It({props:{videoId:n[0].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),e.$on("play",n[6]);let r=n[3]&&De(n);return{c(){se(e.$$.fragment),t=A(),r&&r.c(),o=Le()},m(l,c){Q(e,l,c),P(l,t,c),r&&r.m(l,c),P(l,o,c),s=!0},p(l,c){const d={};c&1&&(d.videoId=l[0].id),e.$set(d),l[3]?r?(r.p(l,c),c&8&&I(r,1)):(r=De(l),r.c(),I(r,1),r.m(o.parentNode,o)):r&&(Be(),T(r,1,1,()=>{r=null}),Ue())},i(l){s||(I(e.$$.fragment,l),I(r),s=!0)},o(l){T(e.$$.fragment,l),T(r),s=!1},d(l){l&&(k(t),k(o)),W(e,l),r&&r.d(l)}}}function De(n){let e,t,o,s=!1;return t=new Tt({props:{subtitles:n[4],target:n[3],hover:n[2]}}),{c(){e=A(),se(t.$$.fragment)},m(r,l){P(r,e,l),Q(t,r,l),o=!0},p(r,l){const c={};l&16&&(c.subtitles=r[4]),l&8&&(c.target=r[3]),l&4&&(c.hover=r[2]),t.$set(c)},i(r){o||(I(s),I(t.$$.fragment,r),o=!0)},o(r){T(s),T(t.$$.fragment,r),o=!1},d(r){r&&k(e),W(t,r)}}}function xt(n){let e;return{c(){e=C("h1"),e.textContent="Choose an episode! ➡️",m(e,"class","svelte-hrkryr")},m(t,o){P(t,e,o)},p:V,d(t){t&&k(e)}}}function Rt(n){let e,t,o;function s(c,d){return c[1]?Lt:Ht}let r=s(n),l=r(n);return{c(){e=C("button"),l.c(),m(e,"class","fullscreenBtn svelte-hrkryr"),N(e,"visible",n[2])},m(c,d){P(c,e,d),l.m(e,null),t||(o=O(e,"click",n[7]),t=!0)},p(c,d){r!==(r=s(c))&&(l.d(1),l=r(c),l&&(l.c(),l.m(e,null))),d&4&&N(e,"visible",c[2])},d(c){c&&k(e),l.d(),t=!1,o()}}}function Ht(n){let e,t;return{c(){e=C("img"),m(e,"width","24px"),m(e,"height","24px"),J(e.src,t=Ot)||m(e,"src",t),m(e,"alt","Enter Fullscreen")},m(o,s){P(o,e,s)},d(o){o&&k(e)}}}function Lt(n){let e,t;return{c(){e=C("img"),m(e,"width","24px"),m(e,"height","24px"),J(e.src,t=Dt)||m(e,"src",t),m(e,"alt","Exit Fullscreen")},m(o,s){P(o,e,s)},d(o){o&&k(e)}}}function Yt(n){let e,t,o,s,r,l,c=n[0]&&Oe(n);function d(u,f){return u[0]?Rt:xt}let a=d(n),i=a(n);return{c(){e=C("div"),t=C("div"),c&&c.c(),o=A(),i.c(),m(t,"class","videoInner svelte-hrkryr"),m(e,"class","video svelte-hrkryr")},m(u,f){P(u,e,f),_(e,t),c&&c.m(t,null),_(e,o),i.m(e,null),n[10](e),s=!0,r||(l=[O(e,"focus",n[8]),O(e,"mouseover",n[8]),O(e,"mousemove",n[8]),O(e,"mouseout",n[9]),O(e,"blur",n[9])],r=!0)},p(u,[f]){u[0]?c?(c.p(u,f),f&1&&I(c,1)):(c=Oe(u),c.c(),I(c,1),c.m(t,null)):c&&(Be(),T(c,1,1,()=>{c=null}),Ue()),a===(a=d(u))&&i?i.p(u,f):(i.d(1),i=a(u),i&&(i.c(),i.m(e,null)))},i(u){s||(I(c),s=!0)},o(u){T(c),s=!1},d(u){u&&k(e),c&&c.d(),i.d(),n[10](null),r=!1,$(l)}}}function qt(n){let[e,t,o]=n.replace(",",".").split(":").map(parseFloat);return e*3600+t*60+o}function Bt(n,e,t){let{video:o}=e,s=!1,r=!1,l=null;function c(h){l!==h.detail.target&&(t(3,l=h.detail.target),console.log("Playing",h.detail.target),t(2,r=!0),f=setTimeout(()=>t(2,r=!1),3e3))}let d=[];async function a(h){t(4,d=[]);let b=await fetch(h);if(!b.ok)return console.error("Failed to fetch subtitle");let p=(await b.text()).split(`

`);t(4,d=[]);let E=0;for(let y of p)if(y.startsWith((E+1).toString()+`
`)){E++;const S=y.split(`
`),M={start:-1,end:1,text:""};[M.start,M.end]=S[1].split(" --> ").map(qt),M.text=S.slice(2).join(`
`),d.push(M)}}let i;function u(){s?(document.exitFullscreen(),t(1,s=!1)):(i.requestFullscreen(),t(1,s=!0))}let f;function v(h){t(2,r=!0),f&&clearTimeout(f),f=setTimeout(()=>t(2,r=!1),3e3)}function w(){t(2,r=!1),f&&clearTimeout(f)}function g(h){oe[h?"unshift":"push"](()=>{i=h,t(5,i)})}return n.$$set=h=>{"video"in h&&t(0,o=h.video)},n.$$.update=()=>{n.$$.dirty&1&&(o?a(`./sub/${o.id}.srt`):t(4,d=[]))},[o,s,r,l,d,i,c,u,v,w,g]}class Ut extends K{constructor(e){super(),Z(this,e,Bt,Yt,j,{video:0})}}function $t(n){let e,t,o,s,r;return t=new Ut({props:{video:n[0]}}),s=new ct({props:{video:n[1]}}),{c(){e=C("main"),se(t.$$.fragment),o=A(),se(s.$$.fragment),m(e,"class","svelte-1vgvhc4")},m(l,c){P(l,e,c),Q(t,e,null),_(e,o),Q(s,e,null),r=!0},p(l,[c]){const d={};c&1&&(d.video=l[0]),t.$set(d)},i(l){r||(I(t.$$.fragment,l),I(s.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),T(s.$$.fragment,l),r=!1},d(l){l&&k(e),W(t),W(s)}}}function jt(n,e,t){let o,s=it(null);return Qe(n,s,r=>t(0,o=r)),[o,s]}class zt extends K{constructor(e){super(),Z(this,e,jt,$t,j,{})}}new zt({target:document.getElementById("app")});
