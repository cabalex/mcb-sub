var Ut=Object.defineProperty;var Yt=(t,e,n)=>e in t?Ut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ne=(t,e,n)=>Yt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function O(){}const zt=t=>t;function Nt(t){return t()}function Ke(){return Object.create(null)}function ae(t){t.forEach(Nt)}function Oe(t){return typeof t=="function"}function se(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ae;function J(t,e){return t===e?!0:(Ae||(Ae=document.createElement("a")),Ae.href=e,t===Ae.href)}function xt(t){return Object.keys(t).length===0}function Fe(t,...e){if(t==null){for(const l of e)l(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function et(t,e,n){t.$$.on_destroy.push(Fe(e,n))}function le(t){return t??""}const $t=typeof window<"u";let Gt=$t?()=>window.performance.now():()=>Date.now(),Xe=$t?t=>requestAnimationFrame(t):O;const de=new Set;function Lt(t){de.forEach(e=>{e.c(t)||(de.delete(e),e.f())}),de.size!==0&&Xe(Lt)}function jt(t){let e;return de.size===0&&Xe(Lt),{promise:new Promise(n=>{de.add(e={c:t,f:n})}),abort(){de.delete(e)}}}function y(t,e){t.appendChild(e)}function Rt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Wt(t){const e=F("style");return e.textContent="/* empty */",Xt(Rt(t),e),e.sheet}function Xt(t,e){return y(t.head||t,e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function ie(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function M(){return L(" ")}function Qe(){return L("")}function G(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Qt(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}function tt(t,e){t.value=e??""}function Ie(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function nt(t,e,n){for(let l=0;l<t.options.length;l+=1){const r=t.options[l];if(r.__value===e){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Jt(t){const e=t.querySelector(":checked");return e&&e.__value}function Z(t,e,n){t.classList.toggle(e,!!n)}function Bt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const De=new Map;let Me=0;function Zt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Kt(t,e){const n={stylesheet:Wt(e),rules:{}};return De.set(t,n),n}function lt(t,e,n,l,r,i,s,o=0){const c=16.666/l;let u=`{
`;for(let v=0;v<=1;v+=c){const h=e+(n-e)*i(v);u+=v*100+`%{${s(h,1-h)}}
`}const a=u+`100% {${s(n,1-n)}}
}`,f=`__svelte_${Zt(a)}_${o}`,d=Rt(t),{stylesheet:g,rules:m}=De.get(d)||Kt(d,t);m[f]||(m[f]=!0,g.insertRule(`@keyframes ${f} ${a}`,g.cssRules.length));const C=t.style.animation||"";return t.style.animation=`${C?`${C}, `:""}${f} ${l}ms linear ${r}ms 1 both`,Me+=1,f}function en(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=n.length-l.length;r&&(t.style.animation=l.join(", "),Me-=r,Me||tn())}function tn(){Xe(()=>{Me||(De.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&P(e)}),De.clear())})}let Se;function ke(t){Se=t}function Je(){if(!Se)throw new Error("Function called outside component initialization");return Se}function Ze(t){Je().$$.on_mount.push(t)}function nn(t){Je().$$.on_destroy.push(t)}function ln(){const t=Je();return(e,n,{cancelable:l=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=Bt(e,n,{cancelable:l});return r.slice().forEach(s=>{s.call(t,i)}),!i.defaultPrevented}return!0}}const fe=[],Ve=[];let pe=[];const it=[],rn=Promise.resolve();let He=!1;function sn(){He||(He=!0,rn.then(Ht))}function re(t){pe.push(t)}const $e=new Set;let ue=0;function Ht(){if(ue!==0)return;const t=Se;do{try{for(;ue<fe.length;){const e=fe[ue];ue++,ke(e),on(e.$$)}}catch(e){throw fe.length=0,ue=0,e}for(ke(null),fe.length=0,ue=0;Ve.length;)Ve.pop()();for(let e=0;e<pe.length;e+=1){const n=pe[e];$e.has(n)||($e.add(n),n())}pe.length=0}while(fe.length);for(;it.length;)it.pop()();He=!1,$e.clear(),ke(t)}function on(t){if(t.fragment!==null){t.update(),ae(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(re)}}function an(t){const e=[],n=[];pe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),pe=e}let we;function un(){return we||(we=Promise.resolve(),we.then(()=>{we=null})),we}function Le(t,e,n){t.dispatchEvent(Bt(`${e?"intro":"outro"}${n}`))}const Te=new Set;let ee;function me(){ee={r:0,c:[],p:ee}}function he(){ee.r||ae(ee.c),ee=ee.p}function N(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function q(t,e,n,l){if(t&&t.o){if(Te.has(t))return;Te.add(t),ee.c.push(()=>{Te.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const cn={duration:0};function _e(t,e,n,l){let i=e(t,n,{direction:"both"}),s=l?0:1,o=null,c=null,u=null,a;function f(){u&&en(t,u)}function d(m,C){const v=m.b-s;return C*=Math.abs(v),{a:s,b:m.b,d:v,duration:C,start:m.start,end:m.start+C,group:m.group}}function g(m){const{delay:C=0,duration:v=300,easing:h=zt,tick:k=O,css:b}=i||cn,_={start:Gt()+C,b:m};m||(_.group=ee,ee.r+=1),"inert"in t&&(m?a!==void 0&&(t.inert=a):(a=t.inert,t.inert=!0)),o||c?c=_:(b&&(f(),u=lt(t,s,m,v,C,h,b)),m&&k(0,1),o=d(_,v),re(()=>Le(t,m,"start")),jt(D=>{if(c&&D>c.start&&(o=d(c,v),c=null,Le(t,o.b,"start"),b&&(f(),u=lt(t,s,o.b,o.duration,0,h,i.css))),o){if(D>=o.end)k(s=o.b,1-s),Le(t,o.b,"end"),c||(o.b?f():--o.group.r||ae(o.group.c)),o=null;else if(D>=o.start){const U=D-o.start;s=o.a+o.d*h(U/o.duration),k(s,1-s)}}return!!(o||c)}))}return{run(m){Oe(i)?un().then(()=>{i=i({direction:m?"in":"out"}),g(m)}):g(m)},end(){f(),o=c=null}}}function z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ee(t){t&&t.c()}function ge(t,e,n){const{fragment:l,after_update:r}=t.$$;l&&l.m(e,n),re(()=>{const i=t.$$.on_mount.map(Nt).filter(Oe);t.$$.on_destroy?t.$$.on_destroy.push(...i):ae(i),t.$$.on_mount=[]}),r.forEach(re)}function be(t,e){const n=t.$$;n.fragment!==null&&(an(n.after_update),ae(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fn(t,e){t.$$.dirty[0]===-1&&(fe.push(t),sn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,n,l,r,i,s=null,o=[-1]){const c=Se;ke(t);const u=t.$$={fragment:null,ctx:[],props:i,update:O,not_equal:r,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ke(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};s&&s(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...g)=>{const m=g.length?g[0]:d;return u.ctx&&r(u.ctx[f],u.ctx[f]=m)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](m),a&&fn(t,f)),d}):[],u.update(),a=!0,ae(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const f=Qt(e.target);u.fragment&&u.fragment.l(f),f.forEach(P)}else u.fragment&&u.fragment.c();e.intro&&N(t.$$.fragment),ge(t,e.target,e.anchor),Ht()}ke(c)}class Ce{constructor(){Ne(this,"$$");Ne(this,"$$set")}$destroy(){be(this,1),this.$destroy=O}$on(e,n){if(!Oe(n))return O;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!xt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dn);const ce=[];function rt(t,e=O){let n;const l=new Set;function r(o){if(se(t,o)&&(t=o,n)){const c=!ce.length;for(const u of l)u[1](),ce.push(u,t);if(c){for(let u=0;u<ce.length;u+=2)ce[u][0](ce[u+1]);ce.length=0}}}function i(o){r(o(t))}function s(o,c=O){const u=[o,c];return l.add(u),l.size===1&&(n=e(r,i)||O),o(t),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:s}}const I=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",incomplete:!1,sources:[{name:"Dub",language:"en",path:"/dub",credits:[{name:"SAMG Entertainment",link:"https://www.mewatch.sg/show/Metal-Cardbot-(Dual-Sound)-486086"}]}],openings:[{name:"Opening",id:"1070bnqHcHY"}],episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs"},{name:"The Black Ambulance",id:"52W_cb1f1ao"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ"},{name:"The Secret is Out!",id:"jzz3UOpvuV0"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk"},{name:"The Mysterious Transfer Student",id:"sfh5bi5Njtc"},{name:"Blue Cop's Special Training!",id:"aU5wLVRQIWQ"},{name:"Guardian of the Forest",id:"PkNgHFctIIg"},{name:"Operation Underground Battle",id:"5igwoiB4sAE"},{name:"A Metal Cardbot from the Sky!",id:"8wpIPp7c094"},{name:"The Vagabond in the Sky",id:"4kAhVJnzL9w"},{name:"Showdown Between Blue Cop and Wild Guardy!",id:"t5_mM9bdq00"},{name:"The Great Showdown! Giant VS Giant!",id:"ScF3TTBBfyo"},{name:"The Hungry Metal Cardbot",id:"hOeQeLZ4ccg"},{name:"Metal Breath Gets Stolen",id:"jk6TC3f6Uls"},{name:"Anna's Metal Breath",id:"QmVE7ZhwIv4"},{name:"Goodbye, Buffalo Crush",id:"FGG_QsPm5k8"},{name:"Buster Gallon, the Betrayer",id:"B8IYxvIrf9o"},{name:"Black Hook Strikes Back",id:"UCixUDwUZtA"},{name:"Heavy Battle",id:"798fkUeeMOU"},{name:"The Final Battle",id:"L0WnJ7Kz_rw"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",incomplete:!0,sources:[{name:"Fansub",path:"/fansub",language:"en",credits:[{name:"@staro_sphere",link:"https://x.com/staro_sphere"},{name:"@stardustspeedway.bsky.social",link:"https://bsky.app/profile/stardustspeedway.bsky.social"}]}],openings:[],episodes:[{name:"Metal Cardbot Awakens from the Stone Tablet?!",id:"3P-D6WLA424"},{name:"The Second Metal Card!",id:"kwxZy0fOmG4"}]}].map(t=>(t.openings=t.openings.map(e=>(e.context=t,e)),t.episodes=t.episodes.map(e=>(e.context=t,e)),t)),pn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='%23fff'%3e%3cpath%20d='M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'%20/%3e%3c/svg%3e",mn=""+new URL("unknown--3PD6Az4.png",import.meta.url).href;function hn(t){const e=t-1;return e*e*e+1}function ve(t,{delay:e=0,duration:n=400,easing:l=hn,axis:r="y"}={}){const i=getComputedStyle(t),s=+i.opacity,o=r==="y"?"height":"width",c=parseFloat(i[o]),u=r==="y"?["top","bottom"]:["left","right"],a=u.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),f=parseFloat(i[`padding${a[0]}`]),d=parseFloat(i[`padding${a[1]}`]),g=parseFloat(i[`margin${a[0]}`]),m=parseFloat(i[`margin${a[1]}`]),C=parseFloat(i[`border${a[0]}Width`]),v=parseFloat(i[`border${a[1]}Width`]);return{delay:e,duration:n,easing:l,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*s};${o}: ${h*c}px;padding-${u[0]}: ${h*f}px;padding-${u[1]}: ${h*d}px;margin-${u[0]}: ${h*g}px;margin-${u[1]}: ${h*m}px;border-${u[0]}-width: ${h*C}px;border-${u[1]}-width: ${h*v}px;`}}function st(t,e,n){const l=t.slice();return l[13]=e[n],l[15]=n,l}function ot(t,e,n){const l=t.slice();return l[16]=e[n],l[15]=n,l}function at(t,e,n){const l=t.slice();return l[20]=e[n],l}function ut(t,e,n){const l=t.slice();return l[1]=e[n],l}function ct(t,e,n){const l=t.slice();return l[23]=e[n],l}function ft(t){let e,n,l;return{c(){e=F("img"),p(e,"class","poster svelte-1d6x90"),p(e,"alt",n=I[t[2]].title),J(e.src,l=I[t[2]].icon)||p(e,"src",l)},m(r,i){T(r,e,i)},p(r,i){i&4&&n!==(n=I[r[2]].title)&&p(e,"alt",n),i&4&&!J(e.src,l=I[r[2]].icon)&&p(e,"src",l)},d(r){r&&P(e)}}}function dt(t){let e,n,l,r=z(I.filter(t[9])),i=[];for(let s=0;s<r.length;s+=1)i[s]=pt(ct(t,r,s));return{c(){e=F("div");for(let s=0;s<i.length;s+=1)i[s].c();p(e,"class","headerOptions svelte-1d6x90")},m(s,o){T(s,e,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);l=!0},p(s,o){if(o&132){r=z(I.filter(s[9]));let c;for(c=0;c<r.length;c+=1){const u=ct(s,r,c);i[c]?i[c].p(u,o):(i[c]=pt(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=r.length}},i(s){l||(s&&re(()=>{l&&(n||(n=_e(e,ve,{duration:200},!0)),n.run(1))}),l=!0)},o(s){s&&(n||(n=_e(e,ve,{duration:200},!1)),n.run(0)),l=!1},d(s){s&&P(e),ie(i,s),s&&n&&n.end()}}}function pt(t){let e,n,l,r,i,s,o,c=t[23].title+"",u,a,f,d=t[23].subtitle+"",g,m,C,v;return{c(){e=F("button"),n=F("img"),i=M(),s=F("div"),o=F("h2"),u=L(c),a=M(),f=F("p"),g=L(d),m=M(),p(n,"class","poster svelte-1d6x90"),p(n,"alt",l=t[23].title),J(n.src,r=t[23].icon)||p(n,"src",r),p(o,"class","svelte-1d6x90"),p(f,"class","svelte-1d6x90"),p(s,"class","text svelte-1d6x90"),p(e,"class","headerOption svelte-1d6x90")},m(h,k){T(h,e,k),y(e,n),y(e,i),y(e,s),y(s,o),y(o,u),y(s,a),y(s,f),y(f,g),y(e,m),C||(v=G(e,"click",function(){Oe(t[7].bind(null,t[23]))&&t[7].bind(null,t[23]).apply(this,arguments)}),C=!0)},p(h,k){t=h,k&4&&l!==(l=t[23].title)&&p(n,"alt",l),k&4&&!J(n.src,r=t[23].icon)&&p(n,"src",r),k&4&&c!==(c=t[23].title+"")&&j(u,c),k&4&&d!==(d=t[23].subtitle+"")&&j(g,d)},d(h){h&&P(e),C=!1,v()}}}function _n(t){let e,n,l=I[t[2]].sources[0].name+"",r,i,s=I[t[2]].sources[0].language+"",o,c,u=I[t[2]].sources[0].credits&&mt(t);return{c(){e=F("p"),n=L("📜 "),r=L(l),i=L(" ("),o=L(s),c=L(`)
        `),u&&u.c(),p(e,"class","dub svelte-1d6x90")},m(a,f){T(a,e,f),y(e,n),y(e,r),y(e,i),y(e,o),y(e,c),u&&u.m(e,null)},p(a,f){f&4&&l!==(l=I[a[2]].sources[0].name+"")&&j(r,l),f&4&&s!==(s=I[a[2]].sources[0].language+"")&&j(o,s),I[a[2]].sources[0].credits?u?u.p(a,f):(u=mt(a),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(a){a&&P(e),u&&u.d()}}}function gn(t){let e,n,l,r=z(I[t[2]].sources),i=[];for(let s=0;s<r.length;s+=1)i[s]=_t(ut(t,r,s));return{c(){e=F("select");for(let s=0;s<i.length;s+=1)i[s].c();p(e,"placeholder","Select a dub"),p(e,"class","svelte-1d6x90"),t[3]===void 0&&re(()=>t[10].call(e))},m(s,o){T(s,e,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);nt(e,t[3],!0),n||(l=G(e,"change",t[10]),n=!0)},p(s,o){if(o&4){r=z(I[s[2]].sources);let c;for(c=0;c<r.length;c+=1){const u=ut(s,r,c);i[c]?i[c].p(u,o):(i[c]=_t(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=r.length}o&12&&nt(e,s[3])},d(s){s&&P(e),ie(i,s),n=!1,l()}}}function mt(t){let e,n,l=z(I[t[2]].sources[0].credits),r=[];for(let i=0;i<l.length;i+=1)r[i]=ht(at(t,l,i));return{c(){e=L(`by
        `);for(let i=0;i<r.length;i+=1)r[i].c();n=Qe()},m(i,s){T(i,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);T(i,n,s)},p(i,s){if(s&4){l=z(I[i[2]].sources[0].credits);let o;for(o=0;o<l.length;o+=1){const c=at(i,l,o);r[o]?r[o].p(c,s):(r[o]=ht(c),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=l.length}},d(i){i&&(P(e),P(n)),ie(r,i)}}}function ht(t){let e,n=t[20].name+"",l,r;return{c(){e=F("a"),l=L(n),p(e,"href",r=t[20].link),p(e,"target","_blank"),p(e,"class","svelte-1d6x90")},m(i,s){T(i,e,s),y(e,l)},p(i,s){s&4&&n!==(n=i[20].name+"")&&j(l,n),s&4&&r!==(r=i[20].link)&&p(e,"href",r)},d(i){i&&P(e)}}}function _t(t){let e,n=t[1].name+"",l,r,i=t[1].language+"",s,o,c;return{c(){e=F("option"),l=L(n),r=L(" ("),s=L(i),o=L(")"),e.__value=c=t[1],tt(e,e.__value)},m(u,a){T(u,e,a),y(e,l),y(e,r),y(e,s),y(e,o)},p(u,a){a&4&&n!==(n=u[1].name+"")&&j(l,n),a&4&&i!==(i=u[1].language+"")&&j(s,i),a&4&&c!==(c=u[1])&&(e.__value=c,tt(e,e.__value))},d(u){u&&P(e)}}}function gt(t){let e,n,l,r,i,s,o,c=t[16].name+"",u,a,f,d,g;function m(){return t[11](t[16])}return{c(){e=F("button"),n=F("img"),i=M(),s=F("div"),o=F("h3"),u=L(c),a=M(),f=F("div"),f.innerHTML='<span class="tag svelte-1d6x90">OP</span>',p(n,"alt",l=t[16].name),J(n.src,r=`https://img.youtube.com/vi/${t[16].id}/0.jpg`)||p(n,"src",r),p(n,"class","svelte-1d6x90"),p(o,"class","svelte-1d6x90"),p(f,"class","tags"),p(s,"class","text svelte-1d6x90"),p(e,"class","episode svelte-1d6x90"),Z(e,"active",t[5]===t[16])},m(C,v){T(C,e,v),y(e,n),y(e,i),y(e,s),y(s,o),y(o,u),y(s,a),y(s,f),d||(g=G(e,"click",m),d=!0)},p(C,v){t=C,v&4&&l!==(l=t[16].name)&&p(n,"alt",l),v&4&&!J(n.src,r=`https://img.youtube.com/vi/${t[16].id}/0.jpg`)&&p(n,"src",r),v&4&&c!==(c=t[16].name+"")&&j(u,c),v&36&&Z(e,"active",t[5]===t[16])},d(C){C&&P(e),d=!1,g()}}}function bt(t){let e,n,l,r,i,s,o,c=t[13].name+"",u,a,f,d,g,m;function C(){return t[12](t[13])}return{c(){e=F("button"),n=F("img"),i=M(),s=F("div"),o=F("h3"),u=L(c),a=M(),f=F("div"),d=F("span"),d.textContent=`Episode ${t[15]+1}`,p(n,"alt",l=t[13].name),J(n.src,r=`https://img.youtube.com/vi/${t[13].id}/0.jpg`)||p(n,"src",r),p(n,"class","svelte-1d6x90"),p(o,"class","svelte-1d6x90"),p(d,"class","tag svelte-1d6x90"),p(f,"class","tags"),p(s,"class","text svelte-1d6x90"),p(e,"class","episode svelte-1d6x90"),Z(e,"active",t[5]===t[13])},m(v,h){T(v,e,h),y(e,n),y(e,i),y(e,s),y(s,o),y(o,u),y(s,a),y(s,f),y(f,d),g||(m=G(e,"click",C),g=!0)},p(v,h){t=v,h&4&&l!==(l=t[13].name)&&p(n,"alt",l),h&4&&!J(n.src,r=`https://img.youtube.com/vi/${t[13].id}/0.jpg`)&&p(n,"src",r),h&4&&c!==(c=t[13].name+"")&&j(u,c),h&36&&Z(e,"active",t[5]===t[13])},d(v){v&&P(e),g=!1,m()}}}function vt(t){let e;return{c(){e=F("i"),e.textContent="Check back next week for new episodes!",Ie(e,"text-align","center"),Ie(e,"width","100%"),Ie(e,"display","block"),Ie(e,"padding","10px 0")},m(n,l){T(n,e,l)},d(n){n&&P(e)}}}function yt(t){let e;return{c(){e=F("div"),e.innerHTML=`<img src="${mn}" alt="A Cardbot from Season 2" style="max-height: min(50vh, 200px); max-width: 70%"/> <i style="text-align: center; width: 100%; display: block; padding: 10px 0;">We don&#39;t know when the next episode will premiere on YouTube.<br/>Check back later!</i>`,p(e,"class","unknownSeason svelte-1d6x90")},m(n,l){T(n,e,l)},d(n){n&&P(e)}}}function bn(t){let e,n,l=t[2],r,i,s,o=I[t[2]].title+"",c,u,a,f=I[t[2]].subtitle+"",d,g,m,C,v,h,k,b,_,D,U,W,Y,K,X=ft(t),R=t[4]&&dt(t);function Pe(w,$){if(I[w[2]].sources.length>1)return gn;if(I[w[2]].sources.length===1)return _n}let Q=Pe(t),B=Q&&Q(t),te=z(I[t[2]].openings),H=[];for(let w=0;w<te.length;w+=1)H[w]=gt(ot(t,te,w));let ne=z(I[t[2]].episodes),S=[];for(let w=0;w<ne.length;w+=1)S[w]=bt(st(t,ne,w));let A=I[t[2]].incomplete&&t[2]!==1&&vt(),V=t[2]===1&&yt();return{c(){e=F("div"),n=F("button"),X.c(),r=M(),i=F("div"),s=F("h2"),c=L(o),u=M(),a=F("p"),d=L(f),g=M(),m=F("img"),h=M(),R&&R.c(),k=M(),B&&B.c(),b=M(),_=F("div");for(let w=0;w<H.length;w+=1)H[w].c();D=M();for(let w=0;w<S.length;w+=1)S[w].c();U=M(),A&&A.c(),W=M(),V&&V.c(),p(s,"class","svelte-1d6x90"),p(a,"class","svelte-1d6x90"),p(i,"class","text svelte-1d6x90"),p(m,"style",C=`transform: rotate(${t[4]?-180:0}deg)`),J(m.src,v=pn)||p(m,"src",v),p(m,"alt","Change season"),p(m,"class","svelte-1d6x90"),p(n,"class","header svelte-1d6x90"),p(_,"class","episodes svelte-1d6x90"),p(e,"class","playlist svelte-1d6x90")},m(w,$){T(w,e,$),y(e,n),X.m(n,null),y(n,r),y(n,i),y(i,s),y(s,c),y(i,u),y(i,a),y(a,d),y(n,g),y(n,m),y(e,h),R&&R.m(e,null),y(e,k),B&&B.m(e,null),y(e,b),y(e,_);for(let E=0;E<H.length;E+=1)H[E]&&H[E].m(_,null);y(_,D);for(let E=0;E<S.length;E+=1)S[E]&&S[E].m(_,null);y(_,U),A&&A.m(_,null),y(_,W),V&&V.m(_,null),Y||(K=G(n,"click",t[8]),Y=!0)},p(w,[$]){if($&4&&se(l,l=w[2])?(X.d(1),X=ft(w),X.c(),X.m(n,r)):X.p(w,$),$&4&&o!==(o=I[w[2]].title+"")&&j(c,o),$&4&&f!==(f=I[w[2]].subtitle+"")&&j(d,f),$&16&&C!==(C=`transform: rotate(${w[4]?-180:0}deg)`)&&p(m,"style",C),w[4]?R?(R.p(w,$),$&16&&N(R,1)):(R=dt(w),R.c(),N(R,1),R.m(e,k)):R&&(me(),q(R,1,1,()=>{R=null}),he()),Q===(Q=Pe(w))&&B?B.p(w,$):(B&&B.d(1),B=Q&&Q(w),B&&(B.c(),B.m(e,b))),$&100){te=z(I[w[2]].openings);let E;for(E=0;E<te.length;E+=1){const x=ot(w,te,E);H[E]?H[E].p(x,$):(H[E]=gt(x),H[E].c(),H[E].m(_,D))}for(;E<H.length;E+=1)H[E].d(1);H.length=te.length}if($&100){ne=z(I[w[2]].episodes);let E;for(E=0;E<ne.length;E+=1){const x=st(w,ne,E);S[E]?S[E].p(x,$):(S[E]=bt(x),S[E].c(),S[E].m(_,U))}for(;E<S.length;E+=1)S[E].d(1);S.length=ne.length}I[w[2]].incomplete&&w[2]!==1?A||(A=vt(),A.c(),A.m(_,W)):A&&(A.d(1),A=null),w[2]===1?V||(V=yt(),V.c(),V.m(_,null)):V&&(V.d(1),V=null)},i(w){N(R)},o(w){q(R)},d(w){w&&P(e),X.d(w),R&&R.d(),B&&B.d(),ie(H,w),ie(S,w),A&&A.d(),V&&V.d(),Y=!1,K()}}}function vn(t,e,n){let l,r=O,i=()=>(r(),r=Fe(u,_=>n(5,l=_)),u),s,o=O,c=()=>(o(),o=Fe(a,_=>n(3,s=_)),a);t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>o());let{video:u}=e;i();let{source:a}=e;c();function f(_){u.set(_),gtag("event","play",{event_category:"video",event_label:_.name,source:s?`${s.name} (${s.language})`:"Unknown",playlist:I[g].title,value:_.id})}function d(_){n(4,m=!1),n(2,g=I.indexOf(_)),I[g].sources.length>0&&a.set(I[g].sources[0])}let g=0;l!==null&&!I[g].episodes.includes(l)&&!I[g].openings.includes(l)&&(g=I.findIndex(_=>_.episodes.includes(l)||_.openings.includes(l)));let m=!1;const C=()=>n(4,m=!m),v=(_,D)=>D!==g;function h(){s=Jt(this),a.set(s),n(2,g)}const k=_=>f(_),b=_=>f(_);return t.$$set=_=>{"video"in _&&i(n(0,u=_.video)),"source"in _&&c(n(1,a=_.source))},t.$$.update=()=>{t.$$.dirty&14&&s===null&&I[g].sources.length>0&&a.set(I[g].sources[0])},[u,a,g,s,m,l,f,d,C,v,h,k,b]}class yn extends Ce{constructor(e){super(),ye(this,e,vn,bn,se,{video:0,source:1})}}function Cn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qe={exports:{}},qt;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/qt=function(){var t={},e={};return t.on=function(n,l){var r={name:n,handler:l};return e[n]=e[n]||[],e[n].unshift(r),r},t.off=function(n){var l=e[n.name].indexOf(n);l!==-1&&e[n.name].splice(l,1)},t.trigger=function(n,l){var r=e[n],i;if(r)for(i=r.length;i--;)r[i].handler(l)},t};var wn=qt,Ue={exports:{}},Ye={exports:{}},Re,Ct;function kn(){if(Ct)return Re;Ct=1;var t=1e3,e=t*60,n=e*60,l=n*24,r=l*7,i=l*365.25;Re=function(a,f){f=f||{};var d=typeof a;if(d==="string"&&a.length>0)return s(a);if(d==="number"&&isFinite(a))return f.long?c(a):o(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function s(a){if(a=String(a),!(a.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(f){var d=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*r;case"days":case"day":case"d":return d*l;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function o(a){var f=Math.abs(a);return f>=l?Math.round(a/l)+"d":f>=n?Math.round(a/n)+"h":f>=e?Math.round(a/e)+"m":f>=t?Math.round(a/t)+"s":a+"ms"}function c(a){var f=Math.abs(a);return f>=l?u(a,f,l,"day"):f>=n?u(a,f,n,"hour"):f>=e?u(a,f,e,"minute"):f>=t?u(a,f,t,"second"):a+" ms"}function u(a,f,d,g){var m=f>=d*1.5;return Math.round(a/d)+" "+g+(m?"s":"")}return Re}function Fn(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=r,n.enabled=s,n.humanize=kn(),n.destroy=u,Object.keys(t).forEach(a=>{n[a]=t[a]}),n.names=[],n.skips=[],n.formatters={};function e(a){let f=0;for(let d=0;d<a.length;d++)f=(f<<5)-f+a.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(a){let f,d=null,g,m;function C(...v){if(!C.enabled)return;const h=C,k=Number(new Date),b=k-(f||k);h.diff=b,h.prev=f,h.curr=k,f=k,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(U,W)=>{if(U==="%%")return"%";_++;const Y=n.formatters[W];if(typeof Y=="function"){const K=v[_];U=Y.call(h,K),v.splice(_,1),_--}return U}),n.formatArgs.call(h,v),(h.log||n.log).apply(h,v)}return C.namespace=a,C.useColors=n.useColors(),C.color=n.selectColor(a),C.extend=l,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(g!==n.namespaces&&(g=n.namespaces,m=n.enabled(a)),m),set:v=>{d=v}}),typeof n.init=="function"&&n.init(C),C}function l(a,f){const d=n(this.namespace+(typeof f>"u"?":":f)+a);return d.log=this.log,d}function r(a){n.save(a),n.namespaces=a,n.names=[],n.skips=[];let f;const d=(typeof a=="string"?a:"").split(/[\s,]+/),g=d.length;for(f=0;f<g;f++)d[f]&&(a=d[f].replace(/\*/g,".*?"),a[0]==="-"?n.skips.push(new RegExp("^"+a.slice(1)+"$")):n.names.push(new RegExp("^"+a+"$")))}function i(){const a=[...n.names.map(o),...n.skips.map(o).map(f=>"-"+f)].join(",");return n.enable(""),a}function s(a){if(a[a.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(a))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(a))return!0;return!1}function o(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function c(a){return a instanceof Error?a.stack||a.message:a}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Sn=Fn;(function(t,e){var n={};e.formatArgs=r,e.save=i,e.load=s,e.useColors=l,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;u.splice(1,0,a,"color: inherit");let f=0,d=0;u[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(f++,g==="%c"&&(d=f))}),u.splice(d,0,a)}e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function s(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}function o(){try{return localStorage}catch{}}t.exports=Sn(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}})(Ye,Ye.exports);var En=Ye.exports,ze={exports:{}},xe={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(xe,xe.exports);var Pn=xe.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Pn,l=r(n);function r(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[l.default.ENDED,l.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[l.default.ENDED,l.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[l.default.ENDED,l.default.PLAYING,l.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(ze,ze.exports);var An=ze.exports,Ge={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Ge,Ge.exports);var In=Ge.exports,je={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],t.exports=e.default})(je,je.exports);var Tn=je.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=En,l=a(n),r=An,i=a(r),s=In,o=a(s),c=Tn,u=a(c);function a(g){return g&&g.__esModule?g:{default:g}}const f=(0,l.default)("youtube-player"),d={};d.proxyEvents=g=>{const m={};for(const C of o.default){const v="on"+C.slice(0,1).toUpperCase()+C.slice(1);m[v]=h=>{f('event "%s"',v,h),g.trigger(C,h)}}return m},d.promisifyPlayer=(g,m=!1)=>{const C={};for(const v of u.default)m&&i.default[v]?C[v]=(...h)=>g.then(k=>{const b=i.default[v],_=k.getPlayerState(),D=k[v].apply(k,h);return b.stateChangeRequired||Array.isArray(b.acceptableStates)&&!b.acceptableStates.includes(_)?new Promise(U=>{const W=()=>{const Y=k.getPlayerState();let K;typeof b.timeout=="number"&&(K=setTimeout(()=>{k.removeEventListener("onStateChange",W),U()},b.timeout)),Array.isArray(b.acceptableStates)&&b.acceptableStates.includes(Y)&&(k.removeEventListener("onStateChange",W),clearTimeout(K),U())};k.addEventListener("onStateChange",W)}).then(()=>D):D}):C[v]=(...h)=>g.then(k=>k[v].apply(k,h));return C},e.default=d,t.exports=e.default})(Ue,Ue.exports);var Dn=Ue.exports,We={exports:{}},Mn=function(e,n,l){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof n=="function"&&(l=n,n={}),n=n||{},l=l||function(){},i.type=n.type||"text/javascript",i.charset=n.charset||"utf8",i.async="async"in n?!!n.async:!0,i.src=e,n.attrs&&Vn(i,n.attrs),n.text&&(i.text=""+n.text);var s="onload"in i?wt:On;s(i,l),i.onload||wt(i,l),r.appendChild(i)};function Vn(t,e){for(var n in e)t.setAttribute(n,e[n])}function wt(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function On(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Mn,l=r(n);function r(i){return i&&i.__esModule?i:{default:i}}e.default=i=>new Promise(o=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{const u=window.location.protocol==="http:"?"http:":"https:";(0,l.default)(u+"//www.youtube.com/iframe_api",a=>{a&&i.trigger("error",a)})}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c&&c(),o(window.YT)}}),t.exports=e.default})(We,We.exports);var Nn=We.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=wn,l=c(n),r=Dn,i=c(r),s=Nn,o=c(s);function c(a){return a&&a.__esModule?a:{default:a}}let u;e.default=(a,f={},d=!1)=>{const g=(0,l.default)();if(u||(u=(0,o.default)(g)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof a=="string"&&!document.getElementById(a))throw new Error('Element "'+a+'" does not exist.');f.events=i.default.proxyEvents(g);const m=new Promise(v=>{typeof a=="object"&&a.playVideo instanceof Function?v(a):u.then(h=>{const k=new h.Player(a,f);return g.on("ready",()=>{v(k)}),null})}),C=i.default.promisifyPlayer(m,d);return C.on=g.on,C.off=g.off,C},t.exports=e.default})(qe,qe.exports);var $n=qe.exports;const Ln=Cn($n);function Rn(t){let e,n,l,r;return{c(){e=F("div"),n=F("div"),p(n,"id",t[0]),p(n,"class",l=le(t[1]?"responsive-player":"")+" svelte-bvyk3m"),p(e,"class",r=le((t[2]?t[2]:"")+(t[1]?" responsive-container":""))+" svelte-bvyk3m")},m(i,s){T(i,e,s),y(e,n),t[6](n)},p(i,[s]){s&1&&p(n,"id",i[0]),s&2&&l!==(l=le(i[1]?"responsive-player":"")+" svelte-bvyk3m")&&p(n,"class",l),s&6&&r!==(r=le((i[2]?i[2]:"")+(i[1]?" responsive-container":""))+" svelte-bvyk3m")&&p(e,"class",r)},i:O,o:O,d(i){i&&P(e),t[6](null)}}}const Be={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Bn(t,e,n){let{id:l=void 0}=e,{videoId:r}=e,{options:i=void 0}=e,{responsive:s=!1}=e,{class:o}=e,c,u;Ze(()=>a());function a(){return u=Ln(c,i),u.on("ready",g),u.on("error",m),u.on("stateChange",C),u.on("playbackRateChange",v),u.on("playbackQualityChange",h),()=>u.destroy()}function f(b){u&&b&&(i&&i.playerVars&&i.playerVars.autoplay===1?u.loadVideoById(b):u.cueVideoById(b))}const d=ln();function g(b){d("ready",b),f(r)}function m(b){d("error",b)}function C(b){switch(d("stateChange",b),b.data){case Be.ENDED:d("end",b);break;case Be.PLAYING:d("play",b);break;case Be.PAUSED:d("pause",b);break}}function v(b){d("playbackRateChange",b)}function h(b){d("playbackQualityChange",b)}function k(b){Ve[b?"unshift":"push"](()=>{c=b,n(3,c)})}return t.$$set=b=>{"id"in b&&n(0,l=b.id),"videoId"in b&&n(4,r=b.videoId),"options"in b&&n(5,i=b.options),"responsive"in b&&n(1,s=b.responsive),"class"in b&&n(2,o=b.class)},t.$$.update=()=>{t.$$.dirty&16&&f(r)},[l,s,o,c,r,i,k]}class Hn extends Ce{constructor(e){super(),ye(this,e,Bn,Rn,se,{id:0,videoId:4,options:5,responsive:1,class:2})}}function kt(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function Ft(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function St(t){let e,n=t[6]+"",l;return{c(){e=F("span"),l=L(n),p(e,"style",`animation-delay: -${(t[5]+t[8])*.52%5}s`),p(e,"class","svelte-1qkiwi0")},m(r,i){T(r,e,i),y(e,l)},p(r,i){i&1&&n!==(n=r[6]+"")&&j(l,n)},d(r){r&&P(e)}}}function Et(t){let e,n,l=z(t[3].split("")),r=[];for(let i=0;i<l.length;i+=1)r[i]=St(Ft(t,l,i));return{c(){e=F("div");for(let i=0;i<r.length;i+=1)r[i].c();n=M(),p(e,"class","word svelte-1qkiwi0"),p(e,"style",`animation-delay: -${Math.random()*.1}s; `)},m(i,s){T(i,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);y(e,n)},p(i,s){if(s&1){l=z(i[3].split(""));let o;for(o=0;o<l.length;o+=1){const c=Ft(i,l,o);r[o]?r[o].p(c,s):(r[o]=St(c),r[o].c(),r[o].m(e,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=l.length}},d(i){i&&P(e),ie(r,i)}}}function qn(t){let e,n,l=z(t[0].split(/[ \n]/)),r=[];for(let i=0;i<l.length;i+=1)r[i]=Et(kt(t,l,i));return{c(){e=F("div");for(let i=0;i<r.length;i+=1)r[i].c();p(e,"class",n=le("subtitle "+(t[2]?"":t[1]))+" svelte-1qkiwi0"),p(e,"style",`--random-length: ${Math.random()}s`)},m(i,s){T(i,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(i,[s]){if(s&1){l=z(i[0].split(/[ \n]/));let o;for(o=0;o<l.length;o+=1){const c=kt(i,l,o);r[o]?r[o].p(c,s):(r[o]=Et(c),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=l.length}s&6&&n!==(n=le("subtitle "+(i[2]?"":i[1]))+" svelte-1qkiwi0")&&p(e,"class",n)},i:O,o:O,d(i){i&&P(e),ie(r,i)}}}function Un(t,e,n){let{text:l}=e,{effect:r}=e,{disabled:i=!1}=e;return t.$$set=s=>{"text"in s&&n(0,l=s.text),"effect"in s&&n(1,r=s.effect),"disabled"in s&&n(2,i=s.disabled)},[l,r,i]}class Yn extends Ce{constructor(e){super(),ye(this,e,Un,qn,se,{text:0,effect:1,disabled:2})}}function Pt(t,e,n){const l=t.slice();return l[7]=e[n],l}function At(t){let e,n,l,r,i;const s=[xn,zn],o=[];function c(u,a){return a&4&&(n=null),n==null&&(n=!!u[2].text.includes(" (FX-")),n?0:1}return l=c(t,-1),r=o[l]=s[l](t),{c(){e=F("div"),r.c(),p(e,"class","subtitleArea svelte-qbf2z2"),Z(e,"hover",t[0])},m(u,a){T(u,e,a),o[l].m(e,null),i=!0},p(u,a){let f=l;l=c(u,a),l===f?o[l].p(u,a):(me(),q(o[f],1,1,()=>{o[f]=null}),he(),r=o[l],r?r.p(u,a):(r=o[l]=s[l](u),r.c()),N(r,1),r.m(e,null)),(!i||a&1)&&Z(e,"hover",u[0])},i(u){i||(N(r),i=!0)},o(u){q(r),i=!1},d(u){u&&P(e),o[l].d()}}}function zn(t){let e,n=z(t[2].text.replace(" (FIX_THIS)","").split(/[ \n]/)),l=[];for(let r=0;r<n.length;r+=1)l[r]=Tt(Pt(t,n,r));return{c(){e=F("div");for(let r=0;r<l.length;r+=1)l[r].c();p(e,"class","subtitle svelte-qbf2z2"),Z(e,"needsFixing",t[2].text.includes("FIX_THIS"))},m(r,i){T(r,e,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(r,i){if(i&4){n=z(r[2].text.replace(" (FIX_THIS)","").split(/[ \n]/));let s;for(s=0;s<n.length;s+=1){const o=Pt(r,n,s);l[s]?l[s].p(o,i):(l[s]=Tt(o),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}i&4&&Z(e,"needsFixing",r[2].text.includes("FIX_THIS"))},i:O,o:O,d(r){r&&P(e),ie(l,r)}}}function xn(t){let e,n;return e=new Yn({props:{disabled:t[1],text:t[2].text.split(" (FX-")[0],effect:t[2].text.split(" (FX-")[1].split(")")[0]}}),{c(){Ee(e.$$.fragment)},m(l,r){ge(e,l,r),n=!0},p(l,r){const i={};r&2&&(i.disabled=l[1]),r&4&&(i.text=l[2].text.split(" (FX-")[0]),r&4&&(i.effect=l[2].text.split(" (FX-")[1].split(")")[0]),e.$set(i)},i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){be(e,l)}}}function It(t){let e;return{c(){e=F("span"),p(e,"class","newline svelte-qbf2z2")},m(n,l){T(n,e,l)},d(n){n&&P(e)}}}function Tt(t){let e,n=t[7]+"",l,r,i=t[2].text.includes(t[7]+`
`),s,o=i&&It();return{c(){e=F("span"),l=L(n),r=M(),o&&o.c(),s=Qe(),p(e,"class","svelte-qbf2z2")},m(c,u){T(c,e,u),y(e,l),T(c,r,u),o&&o.m(c,u),T(c,s,u)},p(c,u){u&4&&n!==(n=c[7]+"")&&j(l,n),u&4&&(i=c[2].text.includes(c[7]+`
`)),i?o||(o=It(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(c){c&&(P(e),P(r),P(s)),o&&o.d(c)}}}function Gn(t){let e,n,l=t[2]&&At(t);return{c(){l&&l.c(),e=Qe()},m(r,i){l&&l.m(r,i),T(r,e,i),n=!0},p(r,[i]){r[2]?l?(l.p(r,i),i&4&&N(l,1)):(l=At(r),l.c(),N(l,1),l.m(e.parentNode,e)):l&&(me(),q(l,1,1,()=>{l=null}),he())},i(r){n||(N(l),n=!0)},o(r){q(l),n=!1},d(r){r&&P(e),l&&l.d(r)}}}function jn(t,e,n){let{subtitles:l}=e,{target:r}=e,{hover:i}=e,{effectsDisabled:s}=e,o=null,c=!0;function u(){if(c&&requestAnimationFrame(u),!r)return;let a=r.getCurrentTime();if(!(o&&a>=o.start&&a<o.end)){for(let f of l){if(a>=f.start&&a<=f.end){n(2,o=f);return}if(a<f.start)break}n(2,o=null)}}return Ze(()=>{requestAnimationFrame(u),c=!0}),nn(()=>{c=!1}),t.$$set=a=>{"subtitles"in a&&n(3,l=a.subtitles),"target"in a&&n(4,r=a.target),"hover"in a&&n(0,i=a.hover),"effectsDisabled"in a&&n(1,s=a.effectsDisabled)},[i,s,o,l,r]}class Wn extends Ce{constructor(e){super(),ye(this,e,jn,Gn,se,{subtitles:3,target:4,hover:0,effectsDisabled:1})}}const Xn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",Qn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Jn(t){let e;return{c(){e=F("h1"),e.textContent="Choose an episode! ➡️",p(e,"class","svelte-5cp75v")},m(n,l){T(n,e,l)},p:O,i:O,o:O,d(n){n&&P(e)}}}function Zn(t){let e,n,l,r,i,s,o,c,u,a,f,d,g;n=new Hn({props:{videoId:t[5].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),n.$on("play",t[12]),n.$on("end",t[13]);let m=t[3]&&Dt(t);function C(_,D){return _[2]?el:Kn}let v=C(t),h=v(t),k=!t[8]&&Mt(t),b=t[11]&&Vt(t);return{c(){e=F("div"),Ee(n.$$.fragment),l=M(),m&&m.c(),r=M(),i=F("button"),h.c(),s=M(),k&&k.c(),u=M(),a=F("div"),b&&b.c(),p(i,"class","fullscreenBtn svelte-5cp75v"),Z(i,"visible",t[6]),p(e,"class",o=le("videoInner "+t[9])+" svelte-5cp75v"),p(a,"class","btnrow svelte-5cp75v")},m(_,D){T(_,e,D),ge(n,e,null),y(e,l),m&&m.m(e,null),y(e,r),y(e,i),h.m(i,null),y(e,s),k&&k.m(e,null),T(_,u,D),T(_,a,D),b&&b.m(a,null),f=!0,d||(g=[G(i,"click",t[14]),G(e,"focus",t[15]),G(e,"mouseover",t[15]),G(e,"mousemove",t[15]),G(e,"mouseout",t[16]),G(e,"blur",t[16])],d=!0)},p(_,D){const U={};D&32&&(U.videoId=_[5].id),n.$set(U),_[3]?m?(m.p(_,D),D&8&&N(m,1)):(m=Dt(_),m.c(),N(m,1),m.m(e,r)):m&&(me(),q(m,1,1,()=>{m=null}),he()),v!==(v=C(_))&&(h.d(1),h=v(_),h&&(h.c(),h.m(i,null))),(!f||D&64)&&Z(i,"visible",_[6]),_[8]?k&&(me(),q(k,1,1,()=>{k=null}),he()):k?(k.p(_,D),D&256&&N(k,1)):(k=Mt(_),k.c(),N(k,1),k.m(e,null)),(!f||D&512&&o!==(o=le("videoInner "+_[9])+" svelte-5cp75v"))&&p(e,"class",o),_[11]?b?b.p(_,D):(b=Vt(_),b.c(),b.m(a,null)):b&&(b.d(1),b=null)},i(_){f||(N(n.$$.fragment,_),N(m),N(k),_&&re(()=>{f&&(c||(c=_e(e,ve,{duration:100,axis:"y"},!0)),c.run(1))}),f=!0)},o(_){q(n.$$.fragment,_),q(m),q(k),_&&(c||(c=_e(e,ve,{duration:100,axis:"y"},!1)),c.run(0)),f=!1},d(_){_&&(P(e),P(u),P(a)),be(n),m&&m.d(),h.d(),k&&k.d(),_&&c&&c.end(),b&&b.d(),d=!1,ae(g)}}}function Dt(t){let e,n,l,r=!1;return n=new Wn({props:{subtitles:t[4],target:t[3],effectsDisabled:t[10],hover:t[6]}}),{c(){e=M(),Ee(n.$$.fragment)},m(i,s){T(i,e,s),ge(n,i,s),l=!0},p(i,s){const o={};s&16&&(o.subtitles=i[4]),s&8&&(o.target=i[3]),s&1024&&(o.effectsDisabled=i[10]),s&64&&(o.hover=i[6]),n.$set(o)},i(i){l||(N(r),N(n.$$.fragment,i),l=!0)},o(i){q(r),q(n.$$.fragment,i),l=!1},d(i){i&&P(e),be(n,i)}}}function Kn(t){let e,n;return{c(){e=F("img"),p(e,"width","24px"),p(e,"height","24px"),J(e.src,n=Xn)||p(e,"src",n),p(e,"alt","Enter Fullscreen")},m(l,r){T(l,e,r)},d(l){l&&P(e)}}}function el(t){let e,n;return{c(){e=F("img"),p(e,"width","24px"),p(e,"height","24px"),J(e.src,n=Qn)||p(e,"src",n),p(e,"alt","Exit Fullscreen")},m(l,r){T(l,e,r)},d(l){l&&P(e)}}}function Mt(t){let e,n,l,r,i;return{c(){e=F("div"),e.textContent="Tap the bottom right of the video to toggle fullscreen",p(e,"class","fullscreenTooltip svelte-5cp75v")},m(s,o){T(s,e,o),l=!0,r||(i=G(e,"click",t[18]),r=!0)},p:O,i(s){l||(s&&re(()=>{l&&(n||(n=_e(e,ve,{duration:300,axis:"y"},!0)),n.run(1))}),l=!0)},o(s){s&&(n||(n=_e(e,ve,{duration:300,axis:"y"},!1)),n.run(0)),l=!1},d(s){s&&P(e),s&&n&&n.end(),r=!1,i()}}}function Vt(t){var s;let e,n,l,r,i=((s=t[5])==null?void 0:s.id)==="L0WnJ7Kz_rw"&&Ot(t);return{c(){i&&i.c(),e=M(),n=F("button"),n.textContent="⚠️ Report an issue",p(n,"class","reportIssueBtn svelte-5cp75v")},m(o,c){i&&i.m(o,c),T(o,e,c),T(o,n,c),l||(r=G(n,"click",t[17]),l=!0)},p(o,c){var u;((u=o[5])==null?void 0:u.id)==="L0WnJ7Kz_rw"?i?i.p(o,c):(i=Ot(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(o){o&&(P(e),P(n)),i&&i.d(o),l=!1,r()}}}function Ot(t){let e,n=t[10]?"❌ FX Disabled":"✅ FX Enabled",l,r,i;return{c(){e=F("button"),l=L(n),p(e,"class","reportIssueBtn svelte-5cp75v")},m(s,o){T(s,e,o),y(e,l),r||(i=G(e,"click",t[19]),r=!0)},p(s,o){o&1024&&n!==(n=s[10]?"❌ FX Disabled":"✅ FX Enabled")&&j(l,n)},d(s){s&&P(e),r=!1,i()}}}function tl(t){let e,n,l,r;const i=[Zn,Jn],s=[];function o(c,u){return c[5]?0:1}return n=o(t),l=s[n]=i[n](t),{c(){e=F("div"),l.c(),p(e,"class","video svelte-5cp75v")},m(c,u){T(c,e,u),s[n].m(e,null),t[21](e),r=!0},p(c,[u]){let a=n;n=o(c),n===a?s[n].p(c,u):(me(),q(s[a],1,1,()=>{s[a]=null}),he(),l=s[n],l?l.p(c,u):(l=s[n]=i[n](c),l.c()),N(l,1),l.m(e,null))},i(c){r||(N(l),r=!0)},o(c){q(l),r=!1},d(c){c&&P(e),s[n].d(),t[21](null)}}}function nl(t){let[e,n,l]=t.replace(",",".").split(":").map(parseFloat);return e*3600+n*60+l}function ll(t,e,n){let l,r,i=O,s=()=>(i(),i=Fe(a,S=>n(5,r=S)),a),o,c=O,u=()=>(c(),c=Fe(f,S=>n(20,o=S)),f);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>c());let{video:a}=e;s();let{source:f}=e;u();let d=!1,g=!1,m=null;function C(S){m!==S.detail.target&&(n(3,m=S.detail.target),console.log("Playing",S.detail.target),n(6,g=!0),D=setTimeout(()=>n(6,g=!1),3e3))}function v(S){if(console.log("Ended",S.detail.target),r!==null){const A=r.context.episodes;let V=A.indexOf(r);V<A.length-1&&a.set(A[V+1])}}let h=[];async function k(S){n(4,h=[]);let A=await fetch(S);if(!A.ok)return console.error("Failed to fetch subtitle");let w=(await A.text()).split(`

`);n(4,h=[]);let $=0;for(let E of w)if(E.startsWith(($+1).toString()+`
`)){$++;const x=E.split(`
`),oe={start:-1,end:1,text:""};[oe.start,oe.end]=x[1].split(" --> ").map(nl),oe.text=x.slice(2).join(`
`),h.push(oe)}}let b;function _(){R(),d?(document.exitFullscreen(),n(2,d=!1)):(b.requestFullscreen(),n(2,d=!0))}let D;function U(S){n(6,g=!0),D&&clearTimeout(D),D=setTimeout(()=>n(6,g=!1),3e3)}function W(){n(6,g=!1),D&&clearTimeout(D)}const Y=S=>`${Math.floor(S/60)}:${(S%60).toFixed(2).padStart(5,"0")}`;function K(){if(!m||!r)return;let S=m.getCurrentTime(),A=h.findIndex(oe=>S>=oe.start&&S<=oe.end);console.log(A);let V,w,$;A>0&&(V=`(${Y(h[A-1].start)} - ${Y(h[A-1].end)}) `+h[A-1].text),A!==-1&&A<h.length-1&&($=`(${Y(h[A+1].start)} - ${Y(h[A+1].end)}) `+h[A+1].text),A!==-1&&(w=`(${Y(h[A].start)} - ${Y(h[A].end)}) `+h[A].text);let E=`CC issue | ${r.name}, ${Y(S)}`,x=`## Issue template (do not remove)
**Video**: ${r.name} <https://youtu.be/${r.id}>
⏱️ ${Y(S)}`;V&&(x+=`
⏮️CC: ${V}`),w&&(x+=`
🟦CC: ${w}`),$&&(x+=`
⏭️CC: ${$}`),x+=`

## Describe the problem`,window.open(`https://github.com/cabalex/mcb-sub/issues/new?title=${E}&body=${encodeURIComponent(x)}`)}let X=localStorage.getItem("mcb-fullscreenTooltipShown")==="true";function R(){localStorage.setItem("mcb-fullscreenTooltipShown","true"),n(8,X=!0)}function Pe(){n(10,B=!B),localStorage.setItem("mcb-effectsDisabled",B.toString()),gtag("event","toggle_fx",{event_category:"engagement",event_label:B?"disabled":"enabled"})}let Q="",B=localStorage.getItem("mcb-effectsDisabled")==="true"||window.matchMedia("(prefers-reduced-motion: reduce)").matches===!0;const te=[{start:1*60+55.1,end:1*60+55.5,animation:"bonkRight"},{start:1*60+57,end:1*60+57.5,animation:"bonkRight"},{start:1*60+59.4,end:2*60,animation:"bonkUp"},{start:2*60+49.3,end:2*60+50.3,animation:"bonkRight"},{start:3*60+16.3,end:3*60+17,animation:"bonkLeft"},{start:3*60+21.2,end:3*60+22,animation:"bonkRight"},{start:3*60+24.3,end:3*60+25,animation:"bonkUp"},{start:3*60+23,end:3*60+24,animation:"bonkDown"},{start:3*60+45.8,end:3*60+47,animation:"bonkDown"},{start:3*60+47.9,end:3*60+49,animation:"impactSmall"},{start:5*60+17.5,end:5*60+18,animation:"impact"},{start:5*60+18,end:5*60+24.5,animation:"screenshake"},{start:6*60+16.7,end:6*60+18,animation:"impact"},{start:6*60+23.8,end:6*60+25,animation:"impactSmall"}];function H(S){if((r==null?void 0:r.id)!=="L0WnJ7Kz_rw"||!S)return;if(requestAnimationFrame(H.bind(null,S)),d||B){n(9,Q="");return}let A=S.getCurrentTime(),V=te.find(w=>A>=w.start&&A<=w.end);V&&S.getPlayerState()===1?n(9,Q=V.animation):n(9,Q="")}function ne(S){Ve[S?"unshift":"push"](()=>{b=S,n(7,b)})}return t.$$set=S=>{"video"in S&&s(n(0,a=S.video)),"source"in S&&u(n(1,f=S.source))},t.$$.update=()=>{t.$$.dirty&1048608&&(r&&o?k(`./sub${o.path}/${r.id}.srt`):n(4,h=[])),t.$$.dirty&60&&n(11,l=!!r&&!!m&&h.length>0&&!d),t.$$.dirty&8&&H(m)},[a,f,d,m,h,r,g,b,X,Q,B,l,C,v,_,U,W,K,R,Pe,o,ne]}class il extends Ce{constructor(e){super(),ye(this,e,ll,tl,se,{video:0,source:1})}}function rl(t){let e,n,l,r,i;return n=new il({props:{video:t[0],source:t[1]}}),r=new yn({props:{video:t[0],source:t[1]}}),{c(){e=F("main"),Ee(n.$$.fragment),l=M(),Ee(r.$$.fragment),p(e,"class","svelte-1vgvhc4")},m(s,o){T(s,e,o),ge(n,e,null),y(e,l),ge(r,e,null),i=!0},p:O,i(s){i||(N(n.$$.fragment,s),N(r.$$.fragment,s),i=!0)},o(s){q(n.$$.fragment,s),q(r.$$.fragment,s),i=!1},d(s){s&&P(e),be(n),be(r)}}}function sl(t,e,n){let l,r,i=rt(null);et(t,i,a=>n(2,l=a));let s=rt(null);et(t,s,a=>n(3,r=a));let o=new URLSearchParams(window.location.search),c=o.get("v"),u=o.get("s");if(c){for(let a of I)if(a.sources.length!==0){for(let f of a.episodes)if(f.id===c){i.set(f),s.set(a.sources.find(d=>d.path===u)||a.sources[0]);break}}}return Ze(()=>{i.subscribe(a=>{a!==null&&r!==null&&window.history.pushState({video:a,sub:r},"",`?v=${a.id}&s=${r.path}`)}),s.subscribe(a=>{a!==null&&l!==null&&window.history.pushState({video:a,sub:r},"",`?v=${l.id}&s=${a.path}`)})}),window.addEventListener("popstate",a=>{const f=a.state;f?(f.video?i.set(f.video):i.set(null),f.sub?s.set(f.sub):s.set(null)):(i.set(null),s.set(null))}),[i,s]}class ol extends Ce{constructor(e){super(),ye(this,e,sl,rl,se,{})}}new ol({target:document.getElementById("app")});
