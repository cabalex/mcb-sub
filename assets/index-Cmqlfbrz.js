var en=Object.defineProperty;var tn=(t,e,n)=>e in t?en(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>tn(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function D(){}const jt=t=>t;function Gt(t){return t()}function lt(){return Object.create(null)}function ce(t){t.forEach(Gt)}function $e(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let De;function K(t,e){return t===e?!0:(De||(De=document.createElement("a")),De.href=e,t===De.href)}function nn(t){return Object.keys(t).length===0}function qe(t,...e){if(t==null){for(const i of e)i(void 0);return D}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function st(t,e,n){t.$$.on_destroy.push(qe(e,n))}function ae(t){return t??""}function rt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Wt=typeof window<"u";let ln=Wt?()=>window.performance.now():()=>Date.now(),tt=Wt?t=>requestAnimationFrame(t):D;const ve=new Set;function Xt(t){ve.forEach(e=>{e.c(t)||(ve.delete(e),e.f())}),ve.size!==0&&tt(Xt)}function sn(t){let e;return ve.size===0&&tt(Xt),{promise:new Promise(n=>{ve.add(e={c:t,f:n})}),abort(){ve.delete(e)}}}function w(t,e){t.appendChild(e)}function Jt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function rn(t){const e=k("style");return e.textContent="/* empty */",on(Jt(t),e),e.sheet}function on(t,e){return w(t.head||t,e),e.sheet}function q(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function ue(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function V(t){return document.createTextNode(t)}function A(){return V(" ")}function He(){return V("")}function $(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function an(t){return Array.from(t.childNodes)}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function ot(t,e){t.value=e??""}function Ve(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function at(t,e,n){for(let i=0;i<t.options.length;i+=1){const s=t.options[i];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function un(t){const e=t.querySelector(":checked");return e&&e.__value}function te(t,e,n){t.classList.toggle(e,!!n)}function Qt(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const ze=new Map;let Oe=0;function cn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function fn(t,e){const n={stylesheet:rn(e),rules:{}};return ze.set(t,n),n}function ut(t,e,n,i,s,l,r,a=0){const f=16.666/i;let u=`{
`;for(let b=0;b<=1;b+=f){const _=e+(n-e)*l(b);u+=b*100+`%{${r(_,1-_)}}
`}const o=u+`100% {${r(n,1-n)}}
}`,c=`__svelte_${cn(o)}_${a}`,d=Jt(t),{stylesheet:m,rules:p}=ze.get(d)||fn(d,t);p[c]||(p[c]=!0,m.insertRule(`@keyframes ${c} ${o}`,m.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${c} ${i}ms linear ${s}ms 1 both`,Oe+=1,c}function dn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Oe-=s,Oe||pn())}function pn(){tt(()=>{Oe||(ze.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&P(e)}),ze.clear())})}let Te;function Pe(t){Te=t}function nt(){if(!Te)throw new Error("Function called outside component initialization");return Te}function it(t){nt().$$.on_mount.push(t)}function hn(t){nt().$$.on_destroy.push(t)}function mn(){const t=nt();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=Qt(e,n,{cancelable:i});return s.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}const be=[],Le=[];let ye=[];const ct=[],_n=Promise.resolve();let Ge=!1;function gn(){Ge||(Ge=!0,_n.then(Zt))}function ne(t){ye.push(t)}const Be=new Set;let _e=0;function Zt(){if(_e!==0)return;const t=Te;do{try{for(;_e<be.length;){const e=be[_e];_e++,Pe(e),bn(e.$$)}}catch(e){throw be.length=0,_e=0,e}for(Pe(null),be.length=0,_e=0;Le.length;)Le.pop()();for(let e=0;e<ye.length;e+=1){const n=ye[e];Be.has(n)||(Be.add(n),n())}ye.length=0}while(be.length);for(;ct.length;)ct.pop()();Ge=!1,Be.clear(),Pe(t)}function bn(t){if(t.fragment!==null){t.update(),ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ne)}}function vn(t){const e=[],n=[];ye.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),ye=e}let Ee;function yn(){return Ee||(Ee=Promise.resolve(),Ee.then(()=>{Ee=null})),Ee}function Ue(t,e,n){t.dispatchEvent(Qt(`${e?"intro":"outro"}${n}`))}const Ne=new Set;let le;function pe(){le={r:0,c:[],p:le}}function he(){le.r||ce(le.c),le=le.p}function M(t,e){t&&t.i&&(Ne.delete(t),t.i(e))}function O(t,e,n,i){if(t&&t.o){if(Ne.has(t))return;Ne.add(t),le.c.push(()=>{Ne.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const wn={duration:0};function x(t,e,n,i){let l=e(t,n,{direction:"both"}),r=i?0:1,a=null,f=null,u=null,o;function c(){u&&dn(t,u)}function d(p,y){const b=p.b-r;return y*=Math.abs(b),{a:r,b:p.b,d:b,duration:y,start:p.start,end:p.start+y,group:p.group}}function m(p){const{delay:y=0,duration:b=300,easing:_=jt,tick:F=D,css:v}=l||wn,g={start:ln()+y,b:p};p||(g.group=le,le.r+=1),"inert"in t&&(p?o!==void 0&&(t.inert=o):(o=t.inert,t.inert=!0)),a||f?f=g:(v&&(c(),u=ut(t,r,p,b,y,_,v)),p&&F(0,1),a=d(g,b),ne(()=>Ue(t,p,"start")),sn(I=>{if(f&&I>f.start&&(a=d(f,b),f=null,Ue(t,a.b,"start"),v&&(c(),u=ut(t,r,a.b,a.duration,0,_,l.css))),a){if(I>=a.end)F(r=a.b,1-r),Ue(t,a.b,"end"),f||(a.b?c():--a.group.r||ce(a.group.c)),a=null;else if(I>=a.start){const H=I-a.start;r=a.a+a.d*_(H/a.duration),F(r,1-r)}}return!!(a||f)}))}return{run(p){$e(l)?yn().then(()=>{l=l({direction:p?"in":"out"}),m(p)}):m(p)},end(){c(),a=f=null}}}function Y(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ie(t){t&&t.c()}function we(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),ne(()=>{const l=t.$$.on_mount.map(Gt).filter($e);t.$$.on_destroy?t.$$.on_destroy.push(...l):ce(l),t.$$.on_mount=[]}),s.forEach(ne)}function Ce(t,e){const n=t.$$;n.fragment!==null&&(vn(n.after_update),ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Cn(t,e){t.$$.dirty[0]===-1&&(be.push(t),gn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Fe(t,e,n,i,s,l,r=null,a=[-1]){const f=Te;Pe(t);const u=t.$$={fragment:null,ctx:[],props:l,update:D,not_equal:s,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:lt(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};r&&r(u.root);let o=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&s(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),o&&Cn(t,c)),d}):[],u.update(),o=!0,ce(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=an(e.target);u.fragment&&u.fragment.l(c),c.forEach(P)}else u.fragment&&u.fragment.c();e.intro&&M(t.$$.fragment),we(t,e.target,e.anchor),Zt()}Pe(f)}class Se{constructor(){Re(this,"$$");Re(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=D}$on(e,n){if(!$e(n))return D;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!nn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kn);const ge=[];function ft(t,e=D){let n;const i=new Set;function s(a){if(fe(t,a)&&(t=a,n)){const f=!ge.length;for(const u of i)u[1](),ge.push(u,t);if(f){for(let u=0;u<ge.length;u+=2)ge[u][0](ge[u+1]);ge.length=0}}}function l(a){s(a(t))}function r(a,f=D){const u=[a,f];return i.add(u),i.size===1&&(n=e(s,l)||D),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:r}}const T=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",incomplete:!1,sources:[{name:"Dub",language:"en",path:"/dub",credits:[{name:"SAMG Entertainment",link:"https://www.mewatch.sg/show/Metal-Cardbot-(Dual-Sound)-486086"}]}],openings:[{name:"Opening",id:"1070bnqHcHY"}],episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs"},{name:"The Black Ambulance",id:"52W_cb1f1ao"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ"},{name:"The Secret is Out!",id:"jzz3UOpvuV0"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk"},{name:"The Mysterious Transfer Student",id:"sfh5bi5Njtc"},{name:"Blue Cop's Special Training!",id:"aU5wLVRQIWQ"},{name:"Guardian of the Forest",id:"PkNgHFctIIg"},{name:"Operation Underground Battle",id:"5igwoiB4sAE"},{name:"A Metal Cardbot from the Sky!",id:"8wpIPp7c094"},{name:"The Vagabond in the Sky",id:"4kAhVJnzL9w"},{name:"Showdown Between Blue Cop and Wild Guardy!",id:"t5_mM9bdq00"},{name:"The Great Showdown! Giant VS Giant!",id:"ScF3TTBBfyo"},{name:"The Hungry Metal Cardbot",id:"hOeQeLZ4ccg"},{name:"Metal Breath Gets Stolen",id:"jk6TC3f6Uls"},{name:"Anna's Metal Breath",id:"QmVE7ZhwIv4"},{name:"Goodbye, Buffalo Crush",id:"FGG_QsPm5k8"},{name:"Buster Gallon, the Betrayer",id:"B8IYxvIrf9o"},{name:"Black Hook Strikes Back",id:"UCixUDwUZtA"},{name:"Heavy Battle",id:"798fkUeeMOU"},{name:"The Final Battle",id:"L0WnJ7Kz_rw"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",incomplete:!0,sources:[{name:"Fansub",path:"/fansub",language:"en",credits:[{name:"@staro_sphere",link:"https://x.com/staro_sphere"},{name:"@stardustspeedway.bsky.social",link:"https://bsky.app/profile/stardustspeedway.bsky.social"}]}],openings:[],episodes:[{name:"Metal Cardbot Awakens from the Stone Tablet?!",id:"3P-D6WLA424"},{name:"The Second Metal Card!",id:"kwxZy0fOmG4"},{name:"Menace Up in the Sky!",id:"KmHp3PSBHXM"},{name:"Cielo is Upset!",id:"outtz10cTjY"},{name:"Exclusive! Steel Reporter",id:"hvcwuisAcWw"},{name:"Musclehyde's Choice!",id:"Y6ORwgjJcIw"}]}].map(t=>(t.openings=t.openings.map(e=>(e.context=t,e)),t.episodes=t.episodes.map(e=>(e.context=t,e)),t)),ee={"/dub":{ZLcqsmPCHLY:`<p>Welcome to the Metal Cardbot unofficial fan sub website! Here you'll find all (freely) uploaded episodes of Metal Cardbot, translated into English. These are embedded directly from the metalcardbotTV YouTube channel, so there's no piracy involved!</p>
        <p><b>SAMG has started adding English Audio Tracks to YouTube, which will automatically be selected when you play each video.</b> Unfortunately, there's no way to change this using the Embed API, so you'll need to manually change it back to Korean. I apologize for the inconvenience :(</p>
        <p>Metal Cardbot is property of SAMG/Navy, and I do not claim any right to anything streamed on this website (with the exception of the fan subtitles, which were created by myself and other fans of the series). Please support the series and its creators!</p>`},"/fansub":{KmHp3PSBHXM:`<p>At the flashback beginning at 3:09, Black Hook insults Heavy Iron, causing them to fight. The literal translation is along the lines of "What did you say, you shooting-star-sized eyes?!" (meaning "small eyes"), which doesn't make much sense in English. We changed it to "Does this weird-eyed guy have something to say about me?".</p>
            <h2>About the genders of Cardbots</h2>
            <p>Throughout Season 2, we use they/it to refer to Cielo, since staff working on the show have said <a href="https://x.com/blue_audax/status/1821548930016170271" target="_blank">"there are no female robots in Season 2"</a>. Though Cielo has a female voice actor and Cardbots are inherently genderless, they often take on masculine appearances and pronouns; all Season 1 Cardbots are referred to as "he/it" in the English dub.</p>
            <p>While there is a discussion to be had about gender bias in the mecha genre as a whole, we'll be using these pronouns to stay true to the creators' intent.</p>`,Y6ORwgjJcIw:`<p>Throughout the episode, the phrase "수단과 방법을 가려서은 안 된다" (<i>sudangwa bangbeob-eul galyeoseoeun an doenda</i>) is used by Red Blitz, Musclehyde, and Jun to mean "You must not be picky about the means and methods".</p>
            <p>In this fansub, we have translated it as "By any means necessary", but @staro_sphere also suggested "We must leave no stone unturned" as an alternative.</p>`}},Fn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='%23fff'%3e%3cpath%20d='M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'%20/%3e%3c/svg%3e",Sn=""+new URL("unknown--3PD6Az4.png",import.meta.url).href;function Kt(t){const e=t-1;return e*e*e+1}function dt(t,{delay:e=0,duration:n=400,easing:i=jt}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:l=>`opacity: ${l*s}`}}function pt(t,{delay:e=0,duration:n=400,easing:i=Kt,x:s=0,y:l=0,opacity:r=0}={}){const a=getComputedStyle(t),f=+a.opacity,u=a.transform==="none"?"":a.transform,o=f*(1-r),[c,d]=rt(s),[m,p]=rt(l);return{delay:e,duration:n,easing:i,css:(y,b)=>`
			transform: ${u} translate(${(1-y)*c}${d}, ${(1-y)*m}${p});
			opacity: ${f-o*b}`}}function ke(t,{delay:e=0,duration:n=400,easing:i=Kt,axis:s="y"}={}){const l=getComputedStyle(t),r=+l.opacity,a=s==="y"?"height":"width",f=parseFloat(l[a]),u=s==="y"?["top","bottom"]:["left","right"],o=u.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),c=parseFloat(l[`padding${o[0]}`]),d=parseFloat(l[`padding${o[1]}`]),m=parseFloat(l[`margin${o[0]}`]),p=parseFloat(l[`margin${o[1]}`]),y=parseFloat(l[`border${o[0]}Width`]),b=parseFloat(l[`border${o[1]}Width`]);return{delay:e,duration:n,easing:i,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*r};${a}: ${_*f}px;padding-${u[0]}: ${_*c}px;padding-${u[1]}: ${_*d}px;margin-${u[0]}: ${_*m}px;margin-${u[1]}: ${_*p}px;border-${u[0]}-width: ${_*y}px;border-${u[1]}-width: ${_*b}px;`}}function ht(t,e,n){const i=t.slice();return i[13]=e[n],i[15]=n,i}function mt(t,e,n){const i=t.slice();return i[16]=e[n],i[15]=n,i}function _t(t,e,n){const i=t.slice();return i[20]=e[n],i}function gt(t,e,n){const i=t.slice();return i[1]=e[n],i}function bt(t,e,n){const i=t.slice();return i[23]=e[n],i}function vt(t){let e,n,i;return{c(){e=k("img"),h(e,"class","poster svelte-1qzra2q"),h(e,"alt",n=T[t[2]].title),K(e.src,i=T[t[2]].icon)||h(e,"src",i)},m(s,l){q(s,e,l)},p(s,l){l&4&&n!==(n=T[s[2]].title)&&h(e,"alt",n),l&4&&!K(e.src,i=T[s[2]].icon)&&h(e,"src",i)},d(s){s&&P(e)}}}function yt(t){let e,n,i,s=Y(T.filter(t[9])),l=[];for(let r=0;r<s.length;r+=1)l[r]=wt(bt(t,s,r));return{c(){e=k("div");for(let r=0;r<l.length;r+=1)l[r].c();h(e,"class","headerOptions svelte-1qzra2q")},m(r,a){q(r,e,a);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);i=!0},p(r,a){if(a&132){s=Y(T.filter(r[9]));let f;for(f=0;f<s.length;f+=1){const u=bt(r,s,f);l[f]?l[f].p(u,a):(l[f]=wt(u),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},i(r){i||(r&&ne(()=>{i&&(n||(n=x(e,ke,{duration:200},!0)),n.run(1))}),i=!0)},o(r){r&&(n||(n=x(e,ke,{duration:200},!1)),n.run(0)),i=!1},d(r){r&&P(e),ue(l,r),r&&n&&n.end()}}}function wt(t){let e,n,i,s,l,r,a,f=t[23].title+"",u,o,c,d=t[23].subtitle+"",m,p,y,b;return{c(){e=k("button"),n=k("img"),l=A(),r=k("div"),a=k("h2"),u=V(f),o=A(),c=k("p"),m=V(d),p=A(),h(n,"class","poster svelte-1qzra2q"),h(n,"alt",i=t[23].title),K(n.src,s=t[23].icon)||h(n,"src",s),h(a,"class","svelte-1qzra2q"),h(c,"class","svelte-1qzra2q"),h(r,"class","text svelte-1qzra2q"),h(e,"class","headerOption svelte-1qzra2q")},m(_,F){q(_,e,F),w(e,n),w(e,l),w(e,r),w(r,a),w(a,u),w(r,o),w(r,c),w(c,m),w(e,p),y||(b=$(e,"click",function(){$e(t[7].bind(null,t[23]))&&t[7].bind(null,t[23]).apply(this,arguments)}),y=!0)},p(_,F){t=_,F&4&&i!==(i=t[23].title)&&h(n,"alt",i),F&4&&!K(n.src,s=t[23].icon)&&h(n,"src",s),F&4&&f!==(f=t[23].title+"")&&W(u,f),F&4&&d!==(d=t[23].subtitle+"")&&W(m,d)},d(_){_&&P(e),y=!1,b()}}}function En(t){let e,n,i=T[t[2]].sources[0].name+"",s,l,r=T[t[2]].sources[0].language+"",a,f,u=T[t[2]].sources[0].credits&&Ct(t);return{c(){e=k("p"),n=V("📜 "),s=V(i),l=V(" ("),a=V(r),f=V(`)
        `),u&&u.c(),h(e,"class","dub svelte-1qzra2q")},m(o,c){q(o,e,c),w(e,n),w(e,s),w(e,l),w(e,a),w(e,f),u&&u.m(e,null)},p(o,c){c&4&&i!==(i=T[o[2]].sources[0].name+"")&&W(s,i),c&4&&r!==(r=T[o[2]].sources[0].language+"")&&W(a,r),T[o[2]].sources[0].credits?u?u.p(o,c):(u=Ct(o),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(o){o&&P(e),u&&u.d()}}}function Pn(t){let e,n,i,s=Y(T[t[2]].sources),l=[];for(let r=0;r<s.length;r+=1)l[r]=Ft(gt(t,s,r));return{c(){e=k("select");for(let r=0;r<l.length;r+=1)l[r].c();h(e,"placeholder","Select a dub"),h(e,"class","svelte-1qzra2q"),t[3]===void 0&&ne(()=>t[10].call(e))},m(r,a){q(r,e,a);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);at(e,t[3],!0),n||(i=$(e,"change",t[10]),n=!0)},p(r,a){if(a&4){s=Y(T[r[2]].sources);let f;for(f=0;f<s.length;f+=1){const u=gt(r,s,f);l[f]?l[f].p(u,a):(l[f]=Ft(u),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}a&12&&at(e,r[3])},d(r){r&&P(e),ue(l,r),n=!1,i()}}}function Ct(t){let e,n,i=Y(T[t[2]].sources[0].credits),s=[];for(let l=0;l<i.length;l+=1)s[l]=kt(_t(t,i,l));return{c(){e=V(`by
        `);for(let l=0;l<s.length;l+=1)s[l].c();n=He()},m(l,r){q(l,e,r);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,r);q(l,n,r)},p(l,r){if(r&4){i=Y(T[l[2]].sources[0].credits);let a;for(a=0;a<i.length;a+=1){const f=_t(l,i,a);s[a]?s[a].p(f,r):(s[a]=kt(f),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(l){l&&(P(e),P(n)),ue(s,l)}}}function kt(t){let e,n=t[20].name+"",i,s;return{c(){e=k("a"),i=V(n),h(e,"href",s=t[20].link),h(e,"target","_blank"),h(e,"class","svelte-1qzra2q")},m(l,r){q(l,e,r),w(e,i)},p(l,r){r&4&&n!==(n=l[20].name+"")&&W(i,n),r&4&&s!==(s=l[20].link)&&h(e,"href",s)},d(l){l&&P(e)}}}function Ft(t){let e,n=t[1].name+"",i,s,l=t[1].language+"",r,a,f;return{c(){e=k("option"),i=V(n),s=V(" ("),r=V(l),a=V(")"),e.__value=f=t[1],ot(e,e.__value)},m(u,o){q(u,e,o),w(e,i),w(e,s),w(e,r),w(e,a)},p(u,o){o&4&&n!==(n=u[1].name+"")&&W(i,n),o&4&&l!==(l=u[1].language+"")&&W(r,l),o&4&&f!==(f=u[1])&&(e.__value=f,ot(e,e.__value))},d(u){u&&P(e)}}}function St(t){let e,n,i,s,l,r,a,f=t[16].name+"",u,o,c,d,m;function p(){return t[11](t[16])}return{c(){e=k("button"),n=k("img"),l=A(),r=k("div"),a=k("h3"),u=V(f),o=A(),c=k("div"),c.innerHTML='<span class="tag svelte-1qzra2q">OP</span>',h(n,"alt",i=t[16].name),K(n.src,s=`https://img.youtube.com/vi/${t[16].id}/0.jpg`)||h(n,"src",s),h(n,"class","svelte-1qzra2q"),h(a,"class","svelte-1qzra2q"),h(c,"class","tags"),h(r,"class","text svelte-1qzra2q"),h(e,"class","episode svelte-1qzra2q"),te(e,"active",t[5]===t[16])},m(y,b){q(y,e,b),w(e,n),w(e,l),w(e,r),w(r,a),w(a,u),w(r,o),w(r,c),d||(m=$(e,"click",p),d=!0)},p(y,b){t=y,b&4&&i!==(i=t[16].name)&&h(n,"alt",i),b&4&&!K(n.src,s=`https://img.youtube.com/vi/${t[16].id}/0.jpg`)&&h(n,"src",s),b&4&&f!==(f=t[16].name+"")&&W(u,f),b&36&&te(e,"active",t[5]===t[16])},d(y){y&&P(e),d=!1,m()}}}function Et(t){let e,n,i,s,l,r,a,f=t[13].name+"",u,o,c,d,m,p;function y(){return t[12](t[13])}return{c(){e=k("button"),n=k("img"),l=A(),r=k("div"),a=k("h3"),u=V(f),o=A(),c=k("div"),d=k("span"),d.textContent=`Episode ${t[15]+1}`,h(n,"alt",i=t[13].name),K(n.src,s=`https://img.youtube.com/vi/${t[13].id}/0.jpg`)||h(n,"src",s),h(n,"class","svelte-1qzra2q"),h(a,"class","svelte-1qzra2q"),h(d,"class","tag svelte-1qzra2q"),h(c,"class","tags"),h(r,"class","text svelte-1qzra2q"),h(e,"class","episode svelte-1qzra2q"),te(e,"active",t[5]===t[13])},m(b,_){q(b,e,_),w(e,n),w(e,l),w(e,r),w(r,a),w(a,u),w(r,o),w(r,c),w(c,d),m||(p=$(e,"click",y),m=!0)},p(b,_){t=b,_&4&&i!==(i=t[13].name)&&h(n,"alt",i),_&4&&!K(n.src,s=`https://img.youtube.com/vi/${t[13].id}/0.jpg`)&&h(n,"src",s),_&4&&f!==(f=t[13].name+"")&&W(u,f),_&36&&te(e,"active",t[5]===t[13])},d(b){b&&P(e),m=!1,p()}}}function Pt(t){let e;return{c(){e=k("i"),e.textContent="Check back next week for new episodes!",Ve(e,"text-align","center"),Ve(e,"width","100%"),Ve(e,"display","block"),Ve(e,"padding","10px 0")},m(n,i){q(n,e,i)},d(n){n&&P(e)}}}function qt(t){let e;return{c(){e=k("div"),e.innerHTML=`<img src="${Sn}" alt="A Cardbot from Season 2" style="max-height: min(50vh, 200px); max-width: 70%"/> <i style="text-align: center; width: 100%; display: block; padding: 10px 0;">We don&#39;t know when the next episode will premiere on YouTube.<br/>Check back later!</i>`,h(e,"class","unknownSeason svelte-1qzra2q")},m(n,i){q(n,e,i)},d(n){n&&P(e)}}}function qn(t){let e,n,i=t[2],s,l,r,a=T[t[2]].title+"",f,u,o,c=T[t[2]].subtitle+"",d,m,p,y,b,_,F,v,g,I,H,J,R,ie,Q=vt(t),N=t[4]&&yt(t);function Ae(S,E){if(T[S[2]].sources.length>1)return Pn;if(T[S[2]].sources.length===1)return En}let Z=Ae(t),z=Z&&Z(t),se=Y(T[t[2]].openings),L=[];for(let S=0;S<se.length;S+=1)L[S]=St(mt(t,se,S));let X=Y(T[t[2]].episodes),B=[];for(let S=0;S<X.length;S+=1)B[S]=Et(ht(t,X,S));let j=T[t[2]].incomplete&&t[2]!==2&&Pt(),G=t[2]===2&&qt();return{c(){e=k("div"),n=k("button"),Q.c(),s=A(),l=k("div"),r=k("h2"),f=V(a),u=A(),o=k("p"),d=V(c),m=A(),p=k("img"),_=A(),N&&N.c(),F=A(),z&&z.c(),v=A(),g=k("div");for(let S=0;S<L.length;S+=1)L[S].c();I=A();for(let S=0;S<B.length;S+=1)B[S].c();H=A(),j&&j.c(),J=A(),G&&G.c(),h(r,"class","svelte-1qzra2q"),h(o,"class","svelte-1qzra2q"),h(l,"class","text svelte-1qzra2q"),h(p,"style",y=`transform: rotate(${t[4]?-180:0}deg)`),K(p.src,b=Fn)||h(p,"src",b),h(p,"alt","Change season"),h(p,"class","svelte-1qzra2q"),h(n,"class","header svelte-1qzra2q"),h(g,"class","episodes svelte-1qzra2q"),h(e,"class","playlist svelte-1qzra2q")},m(S,E){q(S,e,E),w(e,n),Q.m(n,null),w(n,s),w(n,l),w(l,r),w(r,f),w(l,u),w(l,o),w(o,d),w(n,m),w(n,p),w(e,_),N&&N.m(e,null),w(e,F),z&&z.m(e,null),w(e,v),w(e,g);for(let C=0;C<L.length;C+=1)L[C]&&L[C].m(g,null);w(g,I);for(let C=0;C<B.length;C+=1)B[C]&&B[C].m(g,null);w(g,H),j&&j.m(g,null),w(g,J),G&&G.m(g,null),R||(ie=$(n,"click",t[8]),R=!0)},p(S,[E]){if(E&4&&fe(i,i=S[2])?(Q.d(1),Q=vt(S),Q.c(),Q.m(n,s)):Q.p(S,E),E&4&&a!==(a=T[S[2]].title+"")&&W(f,a),E&4&&c!==(c=T[S[2]].subtitle+"")&&W(d,c),E&16&&y!==(y=`transform: rotate(${S[4]?-180:0}deg)`)&&h(p,"style",y),S[4]?N?(N.p(S,E),E&16&&M(N,1)):(N=yt(S),N.c(),M(N,1),N.m(e,F)):N&&(pe(),O(N,1,1,()=>{N=null}),he()),Z===(Z=Ae(S))&&z?z.p(S,E):(z&&z.d(1),z=Z&&Z(S),z&&(z.c(),z.m(e,v))),E&100){se=Y(T[S[2]].openings);let C;for(C=0;C<se.length;C+=1){const U=mt(S,se,C);L[C]?L[C].p(U,E):(L[C]=St(U),L[C].c(),L[C].m(g,I))}for(;C<L.length;C+=1)L[C].d(1);L.length=se.length}if(E&100){X=Y(T[S[2]].episodes);let C;for(C=0;C<X.length;C+=1){const U=ht(S,X,C);B[C]?B[C].p(U,E):(B[C]=Et(U),B[C].c(),B[C].m(g,H))}for(;C<B.length;C+=1)B[C].d(1);B.length=X.length}T[S[2]].incomplete&&S[2]!==2?j||(j=Pt(),j.c(),j.m(g,J)):j&&(j.d(1),j=null),S[2]===2?G||(G=qt(),G.c(),G.m(g,null)):G&&(G.d(1),G=null)},i(S){M(N)},o(S){O(N)},d(S){S&&P(e),Q.d(S),N&&N.d(),z&&z.d(),ue(L,S),ue(B,S),j&&j.d(),G&&G.d(),R=!1,ie()}}}function Tn(t,e,n){let i,s=D,l=()=>(s(),s=qe(u,g=>n(5,i=g)),u),r,a=D,f=()=>(a(),a=qe(o,g=>n(3,r=g)),o);t.$$.on_destroy.push(()=>s()),t.$$.on_destroy.push(()=>a());let{video:u}=e;l();let{source:o}=e;f();function c(g){u.set(g),gtag("event","play",{event_category:"video",event_label:g.name,source:r?`${r.name} (${r.language})`:"Unknown",playlist:T[m].title,value:g.id})}function d(g){n(4,p=!1),n(2,m=T.indexOf(g)),T[m].sources.length>0&&o.set(T[m].sources[0])}let m=0;i!==null&&!T[m].episodes.includes(i)&&!T[m].openings.includes(i)&&(m=T.findIndex(g=>g.episodes.includes(i)||g.openings.includes(i)));let p=!1;const y=()=>n(4,p=!p),b=(g,I)=>I!==m;function _(){r=un(this),o.set(r),n(2,m)}const F=g=>c(g),v=g=>c(g);return t.$$set=g=>{"video"in g&&l(n(0,u=g.video)),"source"in g&&f(n(1,o=g.source))},t.$$.update=()=>{t.$$.dirty&14&&r===null&&T[m].sources.length>0&&o.set(T[m].sources[0])},[u,o,m,r,p,i,c,d,y,b,_,F,v]}class In extends Se{constructor(e){super(),Fe(this,e,Tn,qn,fe,{video:0,source:1})}}function An(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var We={exports:{}},xt;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/xt=function(){var t={},e={};return t.on=function(n,i){var s={name:n,handler:i};return e[n]=e[n]||[],e[n].unshift(s),s},t.off=function(n){var i=e[n.name].indexOf(n);i!==-1&&e[n.name].splice(i,1)},t.trigger=function(n,i){var s=e[n],l;if(s)for(l=s.length;l--;)s[l].handler(i)},t};var Mn=xt,Xe={exports:{}},Je={exports:{}},Ye,Tt;function Dn(){if(Tt)return Ye;Tt=1;var t=1e3,e=t*60,n=e*60,i=n*24,s=i*7,l=i*365.25;Ye=function(o,c){c=c||{};var d=typeof o;if(d==="string"&&o.length>0)return r(o);if(d==="number"&&isFinite(o))return c.long?f(o):a(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function r(o){if(o=String(o),!(o.length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(c){var d=parseFloat(c[1]),m=(c[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return d*l;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*i;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(o){var c=Math.abs(o);return c>=i?Math.round(o/i)+"d":c>=n?Math.round(o/n)+"h":c>=e?Math.round(o/e)+"m":c>=t?Math.round(o/t)+"s":o+"ms"}function f(o){var c=Math.abs(o);return c>=i?u(o,c,i,"day"):c>=n?u(o,c,n,"hour"):c>=e?u(o,c,e,"minute"):c>=t?u(o,c,t,"second"):o+" ms"}function u(o,c,d,m){var p=c>=d*1.5;return Math.round(o/d)+" "+m+(p?"s":"")}return Ye}function Vn(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=s,n.enabled=r,n.humanize=Dn(),n.destroy=u,Object.keys(t).forEach(o=>{n[o]=t[o]}),n.names=[],n.skips=[],n.formatters={};function e(o){let c=0;for(let d=0;d<o.length;d++)c=(c<<5)-c+o.charCodeAt(d),c|=0;return n.colors[Math.abs(c)%n.colors.length]}n.selectColor=e;function n(o){let c,d=null,m,p;function y(...b){if(!y.enabled)return;const _=y,F=Number(new Date),v=F-(c||F);_.diff=v,_.prev=c,_.curr=F,c=F,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let g=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(H,J)=>{if(H==="%%")return"%";g++;const R=n.formatters[J];if(typeof R=="function"){const ie=b[g];H=R.call(_,ie),b.splice(g,1),g--}return H}),n.formatArgs.call(_,b),(_.log||n.log).apply(_,b)}return y.namespace=o,y.useColors=n.useColors(),y.color=n.selectColor(o),y.extend=i,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==n.namespaces&&(m=n.namespaces,p=n.enabled(o)),p),set:b=>{d=b}}),typeof n.init=="function"&&n.init(y),y}function i(o,c){const d=n(this.namespace+(typeof c>"u"?":":c)+o);return d.log=this.log,d}function s(o){n.save(o),n.namespaces=o,n.names=[],n.skips=[];let c;const d=(typeof o=="string"?o:"").split(/[\s,]+/),m=d.length;for(c=0;c<m;c++)d[c]&&(o=d[c].replace(/\*/g,".*?"),o[0]==="-"?n.skips.push(new RegExp("^"+o.slice(1)+"$")):n.names.push(new RegExp("^"+o+"$")))}function l(){const o=[...n.names.map(a),...n.skips.map(a).map(c=>"-"+c)].join(",");return n.enable(""),o}function r(o){if(o[o.length-1]==="*")return!0;let c,d;for(c=0,d=n.skips.length;c<d;c++)if(n.skips[c].test(o))return!1;for(c=0,d=n.names.length;c<d;c++)if(n.names[c].test(o))return!0;return!1}function a(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}function f(o){return o instanceof Error?o.stack||o.message:o}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Nn=Vn;(function(t,e){var n={};e.formatArgs=s,e.save=l,e.load=r,e.useColors=i,e.storage=a(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;u.splice(1,0,o,"color: inherit");let c=0,d=0;u[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(c++,m==="%c"&&(d=c))}),u.splice(d,0,o)}e.log=console.debug||console.log||(()=>{});function l(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function r(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}function a(){try{return localStorage}catch{}}t.exports=Nn(e);const{formatters:f}=t.exports;f.j=function(u){try{return JSON.stringify(u)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}})(Je,Je.exports);var zn=Je.exports,Qe={exports:{}},Ze={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Ze,Ze.exports);var On=Ze.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=On,i=s(n);function s(l){return l&&l.__esModule?l:{default:l}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Qe,Qe.exports);var Ln=Qe.exports,Ke={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Ke,Ke.exports);var $n=Ke.exports,xe={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],t.exports=e.default})(xe,xe.exports);var Hn=xe.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=zn,i=o(n),s=Ln,l=o(s),r=$n,a=o(r),f=Hn,u=o(f);function o(m){return m&&m.__esModule?m:{default:m}}const c=(0,i.default)("youtube-player"),d={};d.proxyEvents=m=>{const p={};for(const y of a.default){const b="on"+y.slice(0,1).toUpperCase()+y.slice(1);p[b]=_=>{c('event "%s"',b,_),m.trigger(y,_)}}return p},d.promisifyPlayer=(m,p=!1)=>{const y={};for(const b of u.default)p&&l.default[b]?y[b]=(..._)=>m.then(F=>{const v=l.default[b],g=F.getPlayerState(),I=F[b].apply(F,_);return v.stateChangeRequired||Array.isArray(v.acceptableStates)&&!v.acceptableStates.includes(g)?new Promise(H=>{const J=()=>{const R=F.getPlayerState();let ie;typeof v.timeout=="number"&&(ie=setTimeout(()=>{F.removeEventListener("onStateChange",J),H()},v.timeout)),Array.isArray(v.acceptableStates)&&v.acceptableStates.includes(R)&&(F.removeEventListener("onStateChange",J),clearTimeout(ie),H())};F.addEventListener("onStateChange",J)}).then(()=>I):I}):y[b]=(..._)=>m.then(F=>F[b].apply(F,_));return y},e.default=d,t.exports=e.default})(Xe,Xe.exports);var Rn=Xe.exports,et={exports:{}},Bn=function(e,n,i){var s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof n=="function"&&(i=n,n={}),n=n||{},i=i||function(){},l.type=n.type||"text/javascript",l.charset=n.charset||"utf8",l.async="async"in n?!!n.async:!0,l.src=e,n.attrs&&Un(l,n.attrs),n.text&&(l.text=""+n.text);var r="onload"in l?It:Yn;r(l,i),l.onload||It(l,i),s.appendChild(l)};function Un(t,e){for(var n in e)t.setAttribute(n,e[n])}function It(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Yn(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Bn,i=s(n);function s(l){return l&&l.__esModule?l:{default:l}}e.default=l=>new Promise(a=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{const u=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(u+"//www.youtube.com/iframe_api",o=>{o&&l.trigger("error",o)})}const f=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{f&&f(),a(window.YT)}}),t.exports=e.default})(et,et.exports);var jn=et.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Mn,i=f(n),s=Rn,l=f(s),r=jn,a=f(r);function f(o){return o&&o.__esModule?o:{default:o}}let u;e.default=(o,c={},d=!1)=>{const m=(0,i.default)();if(u||(u=(0,a.default)(m)),c.events)throw new Error("Event handlers cannot be overwritten.");if(typeof o=="string"&&!document.getElementById(o))throw new Error('Element "'+o+'" does not exist.');c.events=l.default.proxyEvents(m);const p=new Promise(b=>{typeof o=="object"&&o.playVideo instanceof Function?b(o):u.then(_=>{const F=new _.Player(o,c);return m.on("ready",()=>{b(F)}),null})}),y=l.default.promisifyPlayer(p,d);return y.on=m.on,y.off=m.off,y},t.exports=e.default})(We,We.exports);var Gn=We.exports;const Wn=An(Gn);function Xn(t){let e,n,i,s;return{c(){e=k("div"),n=k("div"),h(n,"id",t[0]),h(n,"class",i=ae(t[1]?"responsive-player":"")+" svelte-bvyk3m"),h(e,"class",s=ae((t[2]?t[2]:"")+(t[1]?" responsive-container":""))+" svelte-bvyk3m")},m(l,r){q(l,e,r),w(e,n),t[6](n)},p(l,[r]){r&1&&h(n,"id",l[0]),r&2&&i!==(i=ae(l[1]?"responsive-player":"")+" svelte-bvyk3m")&&h(n,"class",i),r&6&&s!==(s=ae((l[2]?l[2]:"")+(l[1]?" responsive-container":""))+" svelte-bvyk3m")&&h(e,"class",s)},i:D,o:D,d(l){l&&P(e),t[6](null)}}}const je={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Jn(t,e,n){let{id:i=void 0}=e,{videoId:s}=e,{options:l=void 0}=e,{responsive:r=!1}=e,{class:a}=e,f,u;it(()=>o());function o(){return u=Wn(f,l),u.on("ready",m),u.on("error",p),u.on("stateChange",y),u.on("playbackRateChange",b),u.on("playbackQualityChange",_),()=>u.destroy()}function c(v){u&&v&&(l&&l.playerVars&&l.playerVars.autoplay===1?u.loadVideoById(v):u.cueVideoById(v))}const d=mn();function m(v){d("ready",v),c(s)}function p(v){d("error",v)}function y(v){switch(d("stateChange",v),v.data){case je.ENDED:d("end",v);break;case je.PLAYING:d("play",v);break;case je.PAUSED:d("pause",v);break}}function b(v){d("playbackRateChange",v)}function _(v){d("playbackQualityChange",v)}function F(v){Le[v?"unshift":"push"](()=>{f=v,n(3,f)})}return t.$$set=v=>{"id"in v&&n(0,i=v.id),"videoId"in v&&n(4,s=v.videoId),"options"in v&&n(5,l=v.options),"responsive"in v&&n(1,r=v.responsive),"class"in v&&n(2,a=v.class)},t.$$.update=()=>{t.$$.dirty&16&&c(s)},[i,r,a,f,s,l,F]}class Qn extends Se{constructor(e){super(),Fe(this,e,Jn,Xn,fe,{id:0,videoId:4,options:5,responsive:1,class:2})}}function At(t,e,n){const i=t.slice();return i[3]=e[n],i[5]=n,i}function Mt(t,e,n){const i=t.slice();return i[6]=e[n],i[8]=n,i}function Dt(t){let e,n=t[6]+"",i;return{c(){e=k("span"),i=V(n),h(e,"style",`animation-delay: -${(t[5]+t[8])*.52%5}s`),h(e,"class","svelte-1qkiwi0")},m(s,l){q(s,e,l),w(e,i)},p(s,l){l&1&&n!==(n=s[6]+"")&&W(i,n)},d(s){s&&P(e)}}}function Vt(t){let e,n,i=Y(t[3].split("")),s=[];for(let l=0;l<i.length;l+=1)s[l]=Dt(Mt(t,i,l));return{c(){e=k("div");for(let l=0;l<s.length;l+=1)s[l].c();n=A(),h(e,"class","word svelte-1qkiwi0"),h(e,"style",`animation-delay: -${Math.random()*.1}s; `)},m(l,r){q(l,e,r);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);w(e,n)},p(l,r){if(r&1){i=Y(l[3].split(""));let a;for(a=0;a<i.length;a+=1){const f=Mt(l,i,a);s[a]?s[a].p(f,r):(s[a]=Dt(f),s[a].c(),s[a].m(e,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(l){l&&P(e),ue(s,l)}}}function Zn(t){let e,n,i=Y(t[0].split(/[ \n]/)),s=[];for(let l=0;l<i.length;l+=1)s[l]=Vt(At(t,i,l));return{c(){e=k("div");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"class",n=ae("subtitle "+(t[2]?"":t[1]))+" svelte-1qkiwi0"),h(e,"style",`--random-length: ${Math.random()}s`)},m(l,r){q(l,e,r);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(l,[r]){if(r&1){i=Y(l[0].split(/[ \n]/));let a;for(a=0;a<i.length;a+=1){const f=At(l,i,a);s[a]?s[a].p(f,r):(s[a]=Vt(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}r&6&&n!==(n=ae("subtitle "+(l[2]?"":l[1]))+" svelte-1qkiwi0")&&h(e,"class",n)},i:D,o:D,d(l){l&&P(e),ue(s,l)}}}function Kn(t,e,n){let{text:i}=e,{effect:s}=e,{disabled:l=!1}=e;return t.$$set=r=>{"text"in r&&n(0,i=r.text),"effect"in r&&n(1,s=r.effect),"disabled"in r&&n(2,l=r.disabled)},[i,s,l]}class xn extends Se{constructor(e){super(),Fe(this,e,Kn,Zn,fe,{text:0,effect:1,disabled:2})}}function Nt(t,e,n){const i=t.slice();return i[7]=e[n],i}function zt(t){let e,n,i,s,l;const r=[ti,ei],a=[];function f(u,o){return o&4&&(n=null),n==null&&(n=!!u[2].text.includes(" (FX-")),n?0:1}return i=f(t,-1),s=a[i]=r[i](t),{c(){e=k("div"),s.c(),h(e,"class","subtitleArea svelte-qbf2z2"),te(e,"hover",t[0])},m(u,o){q(u,e,o),a[i].m(e,null),l=!0},p(u,o){let c=i;i=f(u,o),i===c?a[i].p(u,o):(pe(),O(a[c],1,1,()=>{a[c]=null}),he(),s=a[i],s?s.p(u,o):(s=a[i]=r[i](u),s.c()),M(s,1),s.m(e,null)),(!l||o&1)&&te(e,"hover",u[0])},i(u){l||(M(s),l=!0)},o(u){O(s),l=!1},d(u){u&&P(e),a[i].d()}}}function ei(t){let e,n=Y(t[2].text.replace(" (FIX_THIS)","").split(/[ \n]/)),i=[];for(let s=0;s<n.length;s+=1)i[s]=Lt(Nt(t,n,s));return{c(){e=k("div");for(let s=0;s<i.length;s+=1)i[s].c();h(e,"class","subtitle svelte-qbf2z2"),te(e,"needsFixing",t[2].text.includes("FIX_THIS"))},m(s,l){q(s,e,l);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p(s,l){if(l&4){n=Y(s[2].text.replace(" (FIX_THIS)","").split(/[ \n]/));let r;for(r=0;r<n.length;r+=1){const a=Nt(s,n,r);i[r]?i[r].p(a,l):(i[r]=Lt(a),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}l&4&&te(e,"needsFixing",s[2].text.includes("FIX_THIS"))},i:D,o:D,d(s){s&&P(e),ue(i,s)}}}function ti(t){let e,n;return e=new xn({props:{disabled:t[1],text:t[2].text.split(" (FX-")[0],effect:t[2].text.split(" (FX-")[1].split(")")[0]}}),{c(){Ie(e.$$.fragment)},m(i,s){we(e,i,s),n=!0},p(i,s){const l={};s&2&&(l.disabled=i[1]),s&4&&(l.text=i[2].text.split(" (FX-")[0]),s&4&&(l.effect=i[2].text.split(" (FX-")[1].split(")")[0]),e.$set(l)},i(i){n||(M(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){Ce(e,i)}}}function Ot(t){let e;return{c(){e=k("span"),h(e,"class","newline svelte-qbf2z2")},m(n,i){q(n,e,i)},d(n){n&&P(e)}}}function Lt(t){let e,n=t[7]+"",i,s,l=t[2].text.includes(t[7]+`
`),r,a=l&&Ot();return{c(){e=k("span"),i=V(n),s=A(),a&&a.c(),r=He(),h(e,"class","svelte-qbf2z2")},m(f,u){q(f,e,u),w(e,i),q(f,s,u),a&&a.m(f,u),q(f,r,u)},p(f,u){u&4&&n!==(n=f[7]+"")&&W(i,n),u&4&&(l=f[2].text.includes(f[7]+`
`)),l?a||(a=Ot(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(f){f&&(P(e),P(s),P(r)),a&&a.d(f)}}}function ni(t){let e,n,i=t[2]&&zt(t);return{c(){i&&i.c(),e=He()},m(s,l){i&&i.m(s,l),q(s,e,l),n=!0},p(s,[l]){s[2]?i?(i.p(s,l),l&4&&M(i,1)):(i=zt(s),i.c(),M(i,1),i.m(e.parentNode,e)):i&&(pe(),O(i,1,1,()=>{i=null}),he())},i(s){n||(M(i),n=!0)},o(s){O(i),n=!1},d(s){s&&P(e),i&&i.d(s)}}}function ii(t,e,n){let{subtitles:i}=e,{target:s}=e,{hover:l}=e,{effectsDisabled:r}=e,a=null,f=!0;function u(){if(f&&requestAnimationFrame(u),!s)return;let o=s.getCurrentTime();if(!(a&&o>=a.start&&o<a.end)){for(let c of i){if(o>=c.start&&o<=c.end){n(2,a=c);return}if(o<c.start)break}n(2,a=null)}}return it(()=>{requestAnimationFrame(u),f=!0}),hn(()=>{f=!1}),t.$$set=o=>{"subtitles"in o&&n(3,i=o.subtitles),"target"in o&&n(4,s=o.target),"hover"in o&&n(0,l=o.hover),"effectsDisabled"in o&&n(1,r=o.effectsDisabled)},[l,r,a,i,s]}class li extends Se{constructor(e){super(),Fe(this,e,ii,ni,fe,{subtitles:3,target:4,hover:0,effectsDisabled:1})}}const si="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",ri="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function oi(t){let e;return{c(){e=k("h1"),e.textContent="Choose an episode! ➡️",h(e,"class","svelte-otsblb")},m(n,i){q(n,e,i)},p:D,i:D,o:D,d(n){n&&P(e)}}}function ai(t){let e,n,i,s,l,r,a,f,u,o,c,d,m;n=new Qn({props:{videoId:t[5].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),n.$on("play",t[14]),n.$on("end",t[15]);let p=t[3]&&$t(t);function y(g,I){return g[2]?ci:ui}let b=y(t),_=b(t),F=!t[9]&&Ht(t),v=t[13]&&Rt(t);return{c(){e=k("div"),Ie(n.$$.fragment),i=A(),p&&p.c(),s=A(),l=k("button"),_.c(),r=A(),F&&F.c(),u=A(),o=k("div"),v&&v.c(),h(l,"class","fullscreenBtn svelte-otsblb"),te(l,"visible",t[7]),h(e,"class",a=ae("videoInner "+t[10])+" svelte-otsblb"),h(o,"class","btnrow svelte-otsblb")},m(g,I){q(g,e,I),we(n,e,null),w(e,i),p&&p.m(e,null),w(e,s),w(e,l),_.m(l,null),w(e,r),F&&F.m(e,null),q(g,u,I),q(g,o,I),v&&v.m(o,null),c=!0,d||(m=[$(l,"click",t[16]),$(e,"focus",t[17]),$(e,"mouseover",t[17]),$(e,"mousemove",t[17]),$(e,"mouseout",t[18]),$(e,"blur",t[18])],d=!0)},p(g,I){const H={};I&32&&(H.videoId=g[5].id),n.$set(H),g[3]?p?(p.p(g,I),I&8&&M(p,1)):(p=$t(g),p.c(),M(p,1),p.m(e,s)):p&&(pe(),O(p,1,1,()=>{p=null}),he()),b!==(b=y(g))&&(_.d(1),_=b(g),_&&(_.c(),_.m(l,null))),(!c||I&128)&&te(l,"visible",g[7]),g[9]?F&&(pe(),O(F,1,1,()=>{F=null}),he()):F?(F.p(g,I),I&512&&M(F,1)):(F=Ht(g),F.c(),M(F,1),F.m(e,null)),(!c||I&1024&&a!==(a=ae("videoInner "+g[10])+" svelte-otsblb"))&&h(e,"class",a),g[13]?v?v.p(g,I):(v=Rt(g),v.c(),v.m(o,null)):v&&(v.d(1),v=null)},i(g){c||(M(n.$$.fragment,g),M(p),M(F),g&&ne(()=>{c&&(f||(f=x(e,ke,{duration:100,axis:"y"},!0)),f.run(1))}),c=!0)},o(g){O(n.$$.fragment,g),O(p),O(F),g&&(f||(f=x(e,ke,{duration:100,axis:"y"},!1)),f.run(0)),c=!1},d(g){g&&(P(e),P(u),P(o)),Ce(n),p&&p.d(),_.d(),F&&F.d(),g&&f&&f.end(),v&&v.d(),d=!1,ce(m)}}}function $t(t){let e,n,i,s=!1;return n=new li({props:{subtitles:t[4],target:t[3],effectsDisabled:t[11],hover:t[7]}}),{c(){e=A(),Ie(n.$$.fragment)},m(l,r){q(l,e,r),we(n,l,r),i=!0},p(l,r){const a={};r&16&&(a.subtitles=l[4]),r&8&&(a.target=l[3]),r&2048&&(a.effectsDisabled=l[11]),r&128&&(a.hover=l[7]),n.$set(a)},i(l){i||(M(s),M(n.$$.fragment,l),i=!0)},o(l){O(s),O(n.$$.fragment,l),i=!1},d(l){l&&P(e),Ce(n,l)}}}function ui(t){let e,n;return{c(){e=k("img"),h(e,"width","24px"),h(e,"height","24px"),K(e.src,n=si)||h(e,"src",n),h(e,"alt","Enter Fullscreen")},m(i,s){q(i,e,s)},d(i){i&&P(e)}}}function ci(t){let e,n;return{c(){e=k("img"),h(e,"width","24px"),h(e,"height","24px"),K(e.src,n=ri)||h(e,"src",n),h(e,"alt","Exit Fullscreen")},m(i,s){q(i,e,s)},d(i){i&&P(e)}}}function Ht(t){let e,n,i,s,l;return{c(){e=k("div"),e.textContent="Tap the bottom right of the video to toggle fullscreen",h(e,"class","fullscreenTooltip svelte-otsblb")},m(r,a){q(r,e,a),i=!0,s||(l=$(e,"click",t[20]),s=!0)},p:D,i(r){i||(r&&ne(()=>{i&&(n||(n=x(e,ke,{duration:300,axis:"y"},!0)),n.run(1))}),i=!0)},o(r){r&&(n||(n=x(e,ke,{duration:300,axis:"y"},!1)),n.run(0)),i=!1},d(r){r&&P(e),r&&n&&n.end(),s=!1,l()}}}function Rt(t){var f;let e,n,i,s,l,r=((f=t[5])==null?void 0:f.id)==="L0WnJ7Kz_rw"&&Bt(t),a=t[6]!==null&&ee[t[6].path]&&ee[t[6].path][t[5].id]&&Ut(t);return{c(){r&&r.c(),e=A(),a&&a.c(),n=A(),i=k("button"),i.textContent="⚠️ Report an issue",h(i,"class","reportIssueBtn svelte-otsblb")},m(u,o){r&&r.m(u,o),q(u,e,o),a&&a.m(u,o),q(u,n,o),q(u,i,o),s||(l=$(i,"click",t[19]),s=!0)},p(u,o){var c;((c=u[5])==null?void 0:c.id)==="L0WnJ7Kz_rw"?r?r.p(u,o):(r=Bt(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),u[6]!==null&&ee[u[6].path]&&ee[u[6].path][u[5].id]?a?a.p(u,o):(a=Ut(u),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(u){u&&(P(e),P(n),P(i)),r&&r.d(u),a&&a.d(u),s=!1,l()}}}function Bt(t){let e,n=t[11]?"❌ FX Disabled":"✅ FX Enabled",i,s,l;return{c(){e=k("button"),i=V(n),h(e,"class","reportIssueBtn svelte-otsblb")},m(r,a){q(r,e,a),w(e,i),s||(l=$(e,"click",t[21]),s=!0)},p(r,a){a&2048&&n!==(n=r[11]?"❌ FX Disabled":"✅ FX Enabled")&&W(i,n)},d(r){r&&P(e),s=!1,l()}}}function Ut(t){let e,n,i;return{c(){e=k("button"),e.textContent="📝 Translation Notes",h(e,"class","reportIssueBtn svelte-otsblb")},m(s,l){q(s,e,l),n||(i=$(e,"click",t[22]),n=!0)},p:D,d(s){s&&P(e),n=!1,i()}}}function Yt(t){let e,n,i,s,l,r=ee[t[6].path][t[5].id]+"",a,f,u,o,c,d,m;return{c(){e=k("div"),n=k("div"),i=k("h2"),i.textContent="Translation Notes",s=A(),l=k("div"),a=A(),f=k("button"),f.textContent="Close",h(l,"class","notes svelte-otsblb"),h(f,"class","close svelte-otsblb"),h(n,"class","modalContent svelte-otsblb"),h(e,"class","modal svelte-otsblb")},m(p,y){q(p,e,y),w(e,n),w(n,i),w(n,s),w(n,l),l.innerHTML=r,w(n,a),w(n,f),c=!0,d||(m=[$(f,"click",t[24]),$(n,"click",pi),$(e,"click",t[25])],d=!0)},p(p,y){(!c||y&96)&&r!==(r=ee[p[6].path][p[5].id]+"")&&(l.innerHTML=r)},i(p){c||(p&&ne(()=>{c&&(u||(u=x(n,pt,{duration:100,y:50},!0)),u.run(1))}),p&&ne(()=>{c&&(o||(o=x(e,dt,{duration:100},!0)),o.run(1))}),c=!0)},o(p){p&&(u||(u=x(n,pt,{duration:100,y:50},!1)),u.run(0)),p&&(o||(o=x(e,dt,{duration:100},!1)),o.run(0)),c=!1},d(p){p&&P(e),p&&u&&u.end(),p&&o&&o.end(),d=!1,ce(m)}}}function fi(t){let e,n,i,s,l,r;const a=[ai,oi],f=[];function u(c,d){return c[5]?0:1}n=u(t),i=f[n]=a[n](t);let o=t[6]!==null&&t[5]!==null&&ee[t[6].path]&&ee[t[6].path][t[5].id]&&t[12]&&Yt(t);return{c(){e=k("div"),i.c(),s=A(),o&&o.c(),l=He(),h(e,"class","video svelte-otsblb")},m(c,d){q(c,e,d),f[n].m(e,null),t[23](e),q(c,s,d),o&&o.m(c,d),q(c,l,d),r=!0},p(c,[d]){let m=n;n=u(c),n===m?f[n].p(c,d):(pe(),O(f[m],1,1,()=>{f[m]=null}),he(),i=f[n],i?i.p(c,d):(i=f[n]=a[n](c),i.c()),M(i,1),i.m(e,null)),c[6]!==null&&c[5]!==null&&ee[c[6].path]&&ee[c[6].path][c[5].id]&&c[12]?o?(o.p(c,d),d&4192&&M(o,1)):(o=Yt(c),o.c(),M(o,1),o.m(l.parentNode,l)):o&&(pe(),O(o,1,1,()=>{o=null}),he())},i(c){r||(M(i),M(o),r=!0)},o(c){O(i),O(o),r=!1},d(c){c&&(P(e),P(s),P(l)),f[n].d(),t[23](null),o&&o.d(c)}}}function di(t){let[e,n,i]=t.replace(",",".").split(":").map(parseFloat);return e*3600+n*60+i}const pi=t=>t.stopPropagation();function hi(t,e,n){let i,s,l=D,r=()=>(l(),l=qe(o,E=>n(5,s=E)),o),a,f=D,u=()=>(f(),f=qe(c,E=>n(6,a=E)),c);t.$$.on_destroy.push(()=>l()),t.$$.on_destroy.push(()=>f());let{video:o}=e;r();let{source:c}=e;u();let d=!1,m=!1,p=null;function y(E){p!==E.detail.target&&(n(3,p=E.detail.target),console.log("Playing",E.detail.target),n(7,m=!0),I=setTimeout(()=>n(7,m=!1),3e3))}function b(E){if(console.log("Ended",E.detail.target),s!==null){const C=s.context.episodes;let U=C.indexOf(s);U<C.length-1&&o.set(C[U+1])}}let _=[];async function F(E){n(4,_=[]);let C=await fetch(E);if(!C.ok)return console.error("Failed to fetch subtitle");let re=(await C.text()).split(`

`);n(4,_=[]);let me=0;for(let Me of re)if(Me.startsWith((me+1).toString()+`
`)){me++;const oe=Me.split(`
`),de={start:-1,end:1,text:""};[de.start,de.end]=oe[1].split(" --> ").map(di),de.text=oe.slice(2).join(`
`),_.push(de)}}let v;function g(){if(N(),d){document.exitFullscreen(),n(2,d=!1);try{screen.orientation.unlock()}catch{}}else{v.requestFullscreen(),n(2,d=!0);try{screen.orientation.lock("landscape")}catch{}}}let I;function H(E){n(7,m=!0),I&&clearTimeout(I),I=setTimeout(()=>n(7,m=!1),3e3)}function J(){n(7,m=!1),I&&clearTimeout(I)}const R=E=>`${Math.floor(E/60)}:${(E%60).toFixed(2).padStart(5,"0")}`;function ie(){if(!p||!s)return;let E=p.getCurrentTime(),C=_.findIndex(de=>E>=de.start&&E<=de.end);console.log(C);let U,re,me;C>0&&(U=`(${R(_[C-1].start)} - ${R(_[C-1].end)}) `+_[C-1].text),C!==-1&&C<_.length-1&&(me=`(${R(_[C+1].start)} - ${R(_[C+1].end)}) `+_[C+1].text),C!==-1&&(re=`(${R(_[C].start)} - ${R(_[C].end)}) `+_[C].text);let Me=`CC issue | ${s.name}, ${R(E)}`,oe=`## Issue template (do not remove)
**Video**: ${s.name} <https://youtu.be/${s.id}>
⏱️ ${R(E)}`;U&&(oe+=`
⏮️CC: ${U}`),re&&(oe+=`
🟦CC: ${re}`),me&&(oe+=`
⏭️CC: ${me}`),oe+=`

## Describe the problem`,window.open(`https://github.com/cabalex/mcb-sub/issues/new?title=${Me}&body=${encodeURIComponent(oe)}`)}let Q=localStorage.getItem("mcb-fullscreenTooltipShown")==="true";function N(){localStorage.setItem("mcb-fullscreenTooltipShown","true"),n(9,Q=!0)}function Ae(){n(11,z=!z),localStorage.setItem("mcb-effectsDisabled",z.toString()),gtag("event","toggle_fx",{event_category:"engagement",event_label:z?"disabled":"enabled"})}let Z="",z=localStorage.getItem("mcb-effectsDisabled")==="true"||window.matchMedia("(prefers-reduced-motion: reduce)").matches===!0;const se=[{start:1*60+55.1,end:1*60+55.5,animation:"bonkRight"},{start:1*60+57,end:1*60+57.5,animation:"bonkRight"},{start:1*60+59.4,end:2*60,animation:"bonkUp"},{start:2*60+49.3,end:2*60+50.3,animation:"bonkRight"},{start:3*60+16.3,end:3*60+17,animation:"bonkLeft"},{start:3*60+21.2,end:3*60+22,animation:"bonkRight"},{start:3*60+24.3,end:3*60+25,animation:"bonkUp"},{start:3*60+23,end:3*60+24,animation:"bonkDown"},{start:3*60+45.8,end:3*60+47,animation:"bonkDown"},{start:3*60+47.9,end:3*60+49,animation:"impactSmall"},{start:5*60+17.5,end:5*60+18,animation:"impact"},{start:5*60+18,end:5*60+24.5,animation:"screenshake"},{start:6*60+16.7,end:6*60+18,animation:"impact"},{start:6*60+23.8,end:6*60+25,animation:"impactSmall"}];function L(E){if((s==null?void 0:s.id)!=="L0WnJ7Kz_rw"||!E)return;if(requestAnimationFrame(L.bind(null,E)),d||z){n(10,Z="");return}let C=E.getCurrentTime(),U=se.find(re=>C>=re.start&&C<=re.end);U&&E.getPlayerState()===1?n(10,Z=U.animation):n(10,Z="")}let X=!1;const B=()=>n(12,X=!X);function j(E){Le[E?"unshift":"push"](()=>{v=E,n(8,v)})}const G=()=>n(12,X=!1),S=()=>n(12,X=!1);return t.$$set=E=>{"video"in E&&r(n(0,o=E.video)),"source"in E&&u(n(1,c=E.source))},t.$$.update=()=>{t.$$.dirty&96&&(s&&a?F(`./sub${a.path}/${s.id}.srt`):n(4,_=[])),t.$$.dirty&60&&n(13,i=!!s&&!!p&&_.length>0&&!d),t.$$.dirty&8&&L(p)},[o,c,d,p,_,s,a,m,v,Q,Z,z,X,i,y,b,g,H,J,ie,N,Ae,B,j,G,S]}class mi extends Se{constructor(e){super(),Fe(this,e,hi,fi,fe,{video:0,source:1})}}function _i(t){let e,n,i,s,l;return n=new mi({props:{video:t[0],source:t[1]}}),s=new In({props:{video:t[0],source:t[1]}}),{c(){e=k("main"),Ie(n.$$.fragment),i=A(),Ie(s.$$.fragment),h(e,"class","svelte-1vgvhc4")},m(r,a){q(r,e,a),we(n,e,null),w(e,i),we(s,e,null),l=!0},p:D,i(r){l||(M(n.$$.fragment,r),M(s.$$.fragment,r),l=!0)},o(r){O(n.$$.fragment,r),O(s.$$.fragment,r),l=!1},d(r){r&&P(e),Ce(n),Ce(s)}}}function gi(t,e,n){let i,s,l=ft(null);st(t,l,o=>n(2,i=o));let r=ft(null);st(t,r,o=>n(3,s=o));let a=new URLSearchParams(window.location.search),f=a.get("v"),u=a.get("s");if(f){for(let o of T)if(o.sources.length!==0){for(let c of o.episodes)if(c.id===f){l.set(c),r.set(o.sources.find(d=>d.path===u)||o.sources[0]);break}}}return it(()=>{l.subscribe(o=>{o!==null&&s!==null&&window.history.pushState({video:o,sub:s},"",`?v=${o.id}&s=${s.path}`)}),r.subscribe(o=>{o!==null&&i!==null&&window.history.pushState({video:o,sub:s},"",`?v=${i.id}&s=${o.path}`)})}),window.addEventListener("popstate",o=>{const c=o.state;c?(c.video?l.set(c.video):l.set(null),c.sub?r.set(c.sub):r.set(null)):(l.set(null),r.set(null))}),[l,r]}class bi extends Se{constructor(e){super(),Fe(this,e,gi,_i,fe,{})}}new bi({target:document.getElementById("app")});
