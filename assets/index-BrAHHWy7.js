var Be=Object.defineProperty;var $e=(n,e,t)=>e in n?Be(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ie=(n,e,t)=>$e(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function E(){}function Ne(n){return n()}function we(){return Object.create(null)}function Y(n){n.forEach(Ne)}function xe(n){return typeof n=="function"}function q(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let X;function se(n,e){return n===e?!0:(X||(X=document.createElement("a")),X.href=e,n===X.href)}function je(n){return Object.keys(n).length===0}function De(n,...e){if(n==null){for(const o of e)o(void 0);return E}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ze(n,e,t){n.$$.on_destroy.push(De(e,t))}function ee(n){return n??""}function w(n,e){n.appendChild(e)}function P(n,e,t){n.insertBefore(e,t||null)}function F(n){n.parentNode&&n.parentNode.removeChild(n)}function Oe(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function C(n){return document.createElement(n)}function _e(n){return document.createTextNode(n)}function S(){return _e(" ")}function Re(){return _e("")}function N(n,e,t,o){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}function y(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ge(n){return Array.from(n.childNodes)}function Qe(n,e){e=""+e,n.data!==e&&(n.data=e)}function $(n,e,t,o){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function M(n,e,t){n.classList.toggle(e,!!t)}function We(n,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:o})}let z;function j(n){z=n}function Ce(){if(!z)throw new Error("Function called outside component initialization");return z}function Le(n){Ce().$$.on_mount.push(n)}function Je(n){Ce().$$.on_destroy.push(n)}function Ze(){const n=Ce();return(e,t,{cancelable:o=!1}={})=>{const s=n.$$.callbacks[e];if(s){const r=We(e,t,{cancelable:o});return s.slice().forEach(l=>{l.call(n,r)}),!r.defaultPrevented}return!0}}const L=[],ne=[];let H=[];const Fe=[],Ke=Promise.resolve();let ce=!1;function Xe(){ce||(ce=!0,Ke.then(He))}function fe(n){H.push(n)}const le=new Set;let O=0;function He(){if(O!==0)return;const n=z;do{try{for(;O<L.length;){const e=L[O];O++,j(e),et(e.$$)}}catch(e){throw L.length=0,O=0,e}for(j(null),L.length=0,O=0;ne.length;)ne.pop()();for(let e=0;e<H.length;e+=1){const t=H[e];le.has(t)||(le.add(t),t())}H.length=0}while(L.length);for(;Fe.length;)Fe.pop()();ce=!1,le.clear(),j(n)}function et(n){if(n.fragment!==null){n.update(),Y(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(fe)}}function tt(n){const e=[],t=[];H.forEach(o=>n.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),H=e}const te=new Set;let x;function Ye(){x={r:0,c:[],p:x}}function qe(){x.r||Y(x.c),x=x.p}function k(n,e){n&&n.i&&(te.delete(n),n.i(e))}function T(n,e,t,o){if(n&&n.o){if(te.has(n))return;te.add(n),x.c.push(()=>{te.delete(n),o&&(t&&n.d(1),o())}),n.o(e)}else o&&o()}function re(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function oe(n){n&&n.c()}function G(n,e,t){const{fragment:o,after_update:s}=n.$$;o&&o.m(e,t),fe(()=>{const r=n.$$.on_mount.map(Ne).filter(xe);n.$$.on_destroy?n.$$.on_destroy.push(...r):Y(r),n.$$.on_mount=[]}),s.forEach(fe)}function Q(n,e){const t=n.$$;t.fragment!==null&&(tt(t.after_update),Y(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nt(n,e){n.$$.dirty[0]===-1&&(L.push(n),Xe(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function W(n,e,t,o,s,r,l=null,u=[-1]){const d=z;j(n);const a=n.$$={fragment:null,ctx:[],props:r,update:E,not_equal:s,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:we(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};l&&l(a.root);let i=!1;if(a.ctx=t?t(n,e.props||{},(c,f,...m)=>{const b=m.length?m[0]:f;return a.ctx&&s(a.ctx[c],a.ctx[c]=b)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](b),i&&nt(n,c)),f}):[],a.update(),i=!0,Y(a.before_update),a.fragment=o?o(a.ctx):!1,e.target){if(e.hydrate){const c=Ge(e.target);a.fragment&&a.fragment.l(c),c.forEach(F)}else a.fragment&&a.fragment.c();e.intro&&k(n.$$.fragment),G(n,e.target,e.anchor),He()}j(d)}class J{constructor(){ie(this,"$$");ie(this,"$$set")}$destroy(){Q(this,1),this.$destroy=E}$on(e,t){if(!xe(t))return E;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const s=o.indexOf(t);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rt);const R=[];function ot(n,e=E){let t;const o=new Set;function s(u){if(q(n,u)&&(n=u,t)){const d=!R.length;for(const a of o)a[1](),R.push(a,n);if(d){for(let a=0;a<R.length;a+=2)R[a][0](R[a+1]);R.length=0}}}function r(u){s(u(n))}function l(u,d=E){const a=[u,d];return o.add(a),o.size===1&&(t=e(s,r)||E),u(n),()=>{o.delete(a),o.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:l}}const U=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",language:"en",incomplete:!0,episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY",source:"dub"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU",source:"dub"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs",source:"dub"},{name:"The Black Ambulance",id:"52W_cb1f1ao",source:"dub"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI",source:"dub"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0",source:"dub"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ",source:"dub"},{name:"The Secret is Out!",id:"jzz3UOpvuV0",source:"dub"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw",source:"dub"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk",source:"dub"},{name:"The Mysterious Transfer Student",id:"sfh5bi5Njtc",source:"dub"},{name:"Blue Cop's Special Training!",id:"aU5wLVRQIWQ",source:"dub"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",language:"en",incomplete:!0,episodes:[]}];function Pe(n,e,t){const o=n.slice();return o[3]=e[t],o[5]=t,o}function Ee(n){let e,t,o,s,r,l,u,d,a,i,c,f,m;function b(){return n[2](n[3])}return{c(){e=C("button"),t=C("img"),s=S(),r=C("div"),l=C("h3"),l.textContent=`${n[3].name}`,u=S(),d=C("div"),a=C("span"),a.textContent=`Episode ${n[5]+1}`,i=S(),c=C("span"),c.textContent=`CC: ${n[3].source}`,se(t.src,o=`https://img.youtube.com/vi/${n[3].id}/0.jpg`)||y(t,"src",o),y(t,"class","svelte-aironl"),y(l,"class","svelte-aironl"),y(a,"class","tag svelte-aironl"),y(c,"class","tag svelte-aironl"),$(c,"background-color","#777"),y(d,"class","tags"),y(r,"class","text svelte-aironl"),y(e,"class","episode svelte-aironl"),M(e,"active",n[1]===n[3])},m(g,p){P(g,e,p),w(e,t),w(e,s),w(e,r),w(r,l),w(r,u),w(r,d),w(d,a),w(d,i),w(d,c),f||(m=N(e,"click",b),f=!0)},p(g,p){n=g,p&2&&M(e,"active",n[1]===n[3])},d(g){g&&F(e),f=!1,m()}}}function st(n){let e;return{c(){e=C("i"),e.textContent="Check back next week for new episodes!",$(e,"text-align","center"),$(e,"width","100%"),$(e,"display","block"),$(e,"padding","10px 0")},m(t,o){P(t,e,o)},d(t){t&&F(e)}}}function it(n){let e,t,o,s,r,l,u,d,a,i,c,f,m=re(U[B].episodes),b=[];for(let p=0;p<m.length;p+=1)b[p]=Ee(Pe(n,m,p));let g=st();return{c(){e=C("div"),t=C("header"),o=C("img"),r=S(),l=C("div"),u=C("h2"),u.textContent=`${U[B].title}`,d=S(),a=C("p"),a.textContent=`${U[B].subtitle}`,i=S(),c=C("div");for(let p=0;p<b.length;p+=1)b[p].c();f=S(),g&&g.c(),se(o.src,s=U[B].icon)||y(o,"src",s),y(o,"class","svelte-aironl"),y(u,"class","svelte-aironl"),y(a,"class","svelte-aironl"),y(l,"class","text svelte-aironl"),y(t,"class","svelte-aironl"),y(c,"class","episodes svelte-aironl"),y(e,"class","playlist svelte-aironl")},m(p,_){P(p,e,_),w(e,t),w(t,o),w(t,r),w(t,l),w(l,u),w(l,d),w(l,a),w(e,i),w(e,c);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(c,null);w(c,f),g&&g.m(c,null)},p(p,[_]){if(_&3){m=re(U[B].episodes);let v;for(v=0;v<m.length;v+=1){const h=Pe(p,m,v);b[v]?b[v].p(h,_):(b[v]=Ee(h),b[v].c(),b[v].m(c,f))}for(;v<b.length;v+=1)b[v].d(1);b.length=m.length}},i:E,o:E,d(p){p&&F(e),Oe(b,p),g&&g.d()}}}let B=0;function lt(n,e,t){let o,s=E,r=()=>(s(),s=De(l,d=>t(1,o=d)),l);n.$$.on_destroy.push(()=>s());let{video:l}=e;r();const u=d=>l.set(d);return n.$$set=d=>{"video"in d&&r(t(0,l=d.video))},[l,o,u]}class at extends J{constructor(e){super(),W(this,e,lt,it,q,{video:0})}}function ut(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var de={exports:{}},Ue;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Ue=function(){var n={},e={};return n.on=function(t,o){var s={name:t,handler:o};return e[t]=e[t]||[],e[t].unshift(s),s},n.off=function(t){var o=e[t.name].indexOf(t);o!==-1&&e[t.name].splice(o,1)},n.trigger=function(t,o){var s=e[t],r;if(s)for(r=s.length;r--;)s[r].handler(o)},n};var ct=Ue,pe={exports:{}},he={exports:{}},ae,ke;function ft(){if(ke)return ae;ke=1;var n=1e3,e=n*60,t=e*60,o=t*24,s=o*7,r=o*365.25;ae=function(i,c){c=c||{};var f=typeof i;if(f==="string"&&i.length>0)return l(i);if(f==="number"&&isFinite(i))return c.long?d(i):u(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function l(i){if(i=String(i),!(i.length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(c){var f=parseFloat(c[1]),m=(c[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*r;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*o;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function u(i){var c=Math.abs(i);return c>=o?Math.round(i/o)+"d":c>=t?Math.round(i/t)+"h":c>=e?Math.round(i/e)+"m":c>=n?Math.round(i/n)+"s":i+"ms"}function d(i){var c=Math.abs(i);return c>=o?a(i,c,o,"day"):c>=t?a(i,c,t,"hour"):c>=e?a(i,c,e,"minute"):c>=n?a(i,c,n,"second"):i+" ms"}function a(i,c,f,m){var b=c>=f*1.5;return Math.round(i/f)+" "+m+(b?"s":"")}return ae}function dt(n){t.debug=t,t.default=t,t.coerce=d,t.disable=r,t.enable=s,t.enabled=l,t.humanize=ft(),t.destroy=a,Object.keys(n).forEach(i=>{t[i]=n[i]}),t.names=[],t.skips=[],t.formatters={};function e(i){let c=0;for(let f=0;f<i.length;f++)c=(c<<5)-c+i.charCodeAt(f),c|=0;return t.colors[Math.abs(c)%t.colors.length]}t.selectColor=e;function t(i){let c,f=null,m,b;function g(...p){if(!g.enabled)return;const _=g,v=Number(new Date),h=v-(c||v);_.diff=h,_.prev=c,_.curr=v,c=v,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let V=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(I,A)=>{if(I==="%%")return"%";V++;const Z=t.formatters[A];if(typeof Z=="function"){const K=p[V];I=Z.call(_,K),p.splice(V,1),V--}return I}),t.formatArgs.call(_,p),(_.log||t.log).apply(_,p)}return g.namespace=i,g.useColors=t.useColors(),g.color=t.selectColor(i),g.extend=o,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==t.namespaces&&(m=t.namespaces,b=t.enabled(i)),b),set:p=>{f=p}}),typeof t.init=="function"&&t.init(g),g}function o(i,c){const f=t(this.namespace+(typeof c>"u"?":":c)+i);return f.log=this.log,f}function s(i){t.save(i),t.namespaces=i,t.names=[],t.skips=[];let c;const f=(typeof i=="string"?i:"").split(/[\s,]+/),m=f.length;for(c=0;c<m;c++)f[c]&&(i=f[c].replace(/\*/g,".*?"),i[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))}function r(){const i=[...t.names.map(u),...t.skips.map(u).map(c=>"-"+c)].join(",");return t.enable(""),i}function l(i){if(i[i.length-1]==="*")return!0;let c,f;for(c=0,f=t.skips.length;c<f;c++)if(t.skips[c].test(i))return!1;for(c=0,f=t.names.length;c<f;c++)if(t.names[c].test(i))return!0;return!1}function u(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function d(i){return i instanceof Error?i.stack||i.message:i}function a(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var pt=dt;(function(n,e){var t={};e.formatArgs=s,e.save=r,e.load=l,e.useColors=o,e.storage=u(),e.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;a.splice(1,0,i,"color: inherit");let c=0,f=0;a[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(c++,m==="%c"&&(f=c))}),a.splice(f,0,i)}e.log=console.debug||console.log||(()=>{});function r(a){try{a?e.storage.setItem("debug",a):e.storage.removeItem("debug")}catch{}}function l(){let a;try{a=e.storage.getItem("debug")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=t.DEBUG),a}function u(){try{return localStorage}catch{}}n.exports=pt(e);const{formatters:d}=n.exports;d.j=function(a){try{return JSON.stringify(a)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(he,he.exports);var ht=he.exports,me={exports:{}},ge={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(ge,ge.exports);var mt=ge.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=mt,o=s(t);function s(r){return r&&r.__esModule?r:{default:r}}e.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(me,me.exports);var gt=me.exports,ve={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(ve,ve.exports);var vt=ve.exports,ye={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(ye,ye.exports);var yt=ye.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=ht,o=i(t),s=gt,r=i(s),l=vt,u=i(l),d=yt,a=i(d);function i(m){return m&&m.__esModule?m:{default:m}}const c=(0,o.default)("youtube-player"),f={};f.proxyEvents=m=>{const b={};for(const g of u.default){const p="on"+g.slice(0,1).toUpperCase()+g.slice(1);b[p]=_=>{c('event "%s"',p,_),m.trigger(g,_)}}return b},f.promisifyPlayer=(m,b=!1)=>{const g={};for(const p of a.default)b&&r.default[p]?g[p]=(..._)=>m.then(v=>{const h=r.default[p],V=v.getPlayerState(),D=v[p].apply(v,_);return h.stateChangeRequired||Array.isArray(h.acceptableStates)&&!h.acceptableStates.includes(V)?new Promise(I=>{const A=()=>{const Z=v.getPlayerState();let K;typeof h.timeout=="number"&&(K=setTimeout(()=>{v.removeEventListener("onStateChange",A),I()},h.timeout)),Array.isArray(h.acceptableStates)&&h.acceptableStates.includes(Z)&&(v.removeEventListener("onStateChange",A),clearTimeout(K),I())};v.addEventListener("onStateChange",A)}).then(()=>D):D}):g[p]=(..._)=>m.then(v=>v[p].apply(v,_));return g},e.default=f,n.exports=e.default})(pe,pe.exports);var bt=pe.exports,be={exports:{}},_t=function(e,t,o){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");typeof t=="function"&&(o=t,t={}),t=t||{},o=o||function(){},r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.async="async"in t?!!t.async:!0,r.src=e,t.attrs&&Ct(r,t.attrs),t.text&&(r.text=""+t.text);var l="onload"in r?Se:wt;l(r,o),r.onload||Se(r,o),s.appendChild(r)};function Ct(n,e){for(var t in e)n.setAttribute(t,e[t])}function Se(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function wt(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=_t,o=s(t);function s(r){return r&&r.__esModule?r:{default:r}}e.default=r=>new Promise(u=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){u(window.YT);return}else{const a=window.location.protocol==="http:"?"http:":"https:";(0,o.default)(a+"//www.youtube.com/iframe_api",i=>{i&&r.trigger("error",i)})}const d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{d&&d(),u(window.YT)}}),n.exports=e.default})(be,be.exports);var Ft=be.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=ct,o=d(t),s=bt,r=d(s),l=Ft,u=d(l);function d(i){return i&&i.__esModule?i:{default:i}}let a;e.default=(i,c={},f=!1)=>{const m=(0,o.default)();if(a||(a=(0,u.default)(m)),c.events)throw new Error("Event handlers cannot be overwritten.");if(typeof i=="string"&&!document.getElementById(i))throw new Error('Element "'+i+'" does not exist.');c.events=r.default.proxyEvents(m);const b=new Promise(p=>{typeof i=="object"&&i.playVideo instanceof Function?p(i):a.then(_=>{const v=new _.Player(i,c);return m.on("ready",()=>{p(v)}),null})}),g=r.default.promisifyPlayer(b,f);return g.on=m.on,g.off=m.off,g},n.exports=e.default})(de,de.exports);var Pt=de.exports;const Et=ut(Pt);function kt(n){let e,t,o,s;return{c(){e=C("div"),t=C("div"),y(t,"id",n[0]),y(t,"class",o=ee(n[1]?"responsive-player":"")+" svelte-bvyk3m"),y(e,"class",s=ee((n[2]?n[2]:"")+(n[1]?" responsive-container":""))+" svelte-bvyk3m")},m(r,l){P(r,e,l),w(e,t),n[6](t)},p(r,[l]){l&1&&y(t,"id",r[0]),l&2&&o!==(o=ee(r[1]?"responsive-player":"")+" svelte-bvyk3m")&&y(t,"class",o),l&6&&s!==(s=ee((r[2]?r[2]:"")+(r[1]?" responsive-container":""))+" svelte-bvyk3m")&&y(e,"class",s)},i:E,o:E,d(r){r&&F(e),n[6](null)}}}const ue={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function St(n,e,t){let{id:o=void 0}=e,{videoId:s}=e,{options:r=void 0}=e,{responsive:l=!1}=e,{class:u}=e,d,a;Le(()=>i());function i(){return a=Et(d,r),a.on("ready",m),a.on("error",b),a.on("stateChange",g),a.on("playbackRateChange",p),a.on("playbackQualityChange",_),()=>a.destroy()}function c(h){a&&h&&(r&&r.playerVars&&r.playerVars.autoplay===1?a.loadVideoById(h):a.cueVideoById(h))}const f=Ze();function m(h){f("ready",h),c(s)}function b(h){f("error",h)}function g(h){switch(f("stateChange",h),h.data){case ue.ENDED:f("end",h);break;case ue.PLAYING:f("play",h);break;case ue.PAUSED:f("pause",h);break}}function p(h){f("playbackRateChange",h)}function _(h){f("playbackQualityChange",h)}function v(h){ne[h?"unshift":"push"](()=>{d=h,t(3,d)})}return n.$$set=h=>{"id"in h&&t(0,o=h.id),"videoId"in h&&t(4,s=h.videoId),"options"in h&&t(5,r=h.options),"responsive"in h&&t(1,l=h.responsive),"class"in h&&t(2,u=h.class)},n.$$.update=()=>{n.$$.dirty&16&&c(s)},[o,l,u,d,s,r,v]}class At extends J{constructor(e){super(),W(this,e,St,kt,q,{id:0,videoId:4,options:5,responsive:1,class:2})}}function Ae(n,e,t){const o=n.slice();return o[6]=e[t],o}function Ve(n){let e,t,o=re(n[1].text.split(/[ \n]/)),s=[];for(let r=0;r<o.length;r+=1)s[r]=Ie(Ae(n,o,r));return{c(){e=C("div"),t=C("div");for(let r=0;r<s.length;r+=1)s[r].c();y(t,"class","subtitle svelte-kyx774"),y(e,"class","subtitleArea svelte-kyx774"),M(e,"hover",n[0])},m(r,l){P(r,e,l),w(e,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null)},p(r,l){if(l&2){o=re(r[1].text.split(/[ \n]/));let u;for(u=0;u<o.length;u+=1){const d=Ae(r,o,u);s[u]?s[u].p(d,l):(s[u]=Ie(d),s[u].c(),s[u].m(t,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=o.length}l&1&&M(e,"hover",r[0])},d(r){r&&F(e),Oe(s,r)}}}function Ie(n){let e,t=n[6]+"",o;return{c(){e=C("span"),o=_e(t),y(e,"class","svelte-kyx774"),M(e,"newline",n[1].text.includes(n[6]+`
`))},m(s,r){P(s,e,r),w(e,o)},p(s,r){r&2&&t!==(t=s[6]+"")&&Qe(o,t),r&2&&M(e,"newline",s[1].text.includes(s[6]+`
`))},d(s){s&&F(e)}}}function Vt(n){let e,t=n[1]&&Ve(n);return{c(){t&&t.c(),e=Re()},m(o,s){t&&t.m(o,s),P(o,e,s)},p(o,[s]){o[1]?t?t.p(o,s):(t=Ve(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:E,o:E,d(o){o&&F(e),t&&t.d(o)}}}function It(n,e,t){let{subtitles:o}=e,{target:s}=e,{hover:r}=e,l=null;function u(){if(!s)return;let a=s.getCurrentTime();if(!(l&&a>=l.start&&a<l.end)){for(let i of o){if(a>=i.start&&a<=i.end){t(1,l=i);return}if(a<i.start)break}t(1,l=null)}}let d;return Le(()=>{d=setInterval(u,10)}),Je(()=>{clearInterval(d)}),n.$$set=a=>{"subtitles"in a&&t(2,o=a.subtitles),"target"in a&&t(3,s=a.target),"hover"in a&&t(0,r=a.hover)},[r,l,o,s]}class Tt extends J{constructor(e){super(),W(this,e,It,Vt,q,{subtitles:2,target:3,hover:0})}}const Mt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",Nt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Te(n){let e,t,o,s;e=new At({props:{videoId:n[0].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),e.$on("play",n[6]);let r=n[3]&&Me(n);return{c(){oe(e.$$.fragment),t=S(),r&&r.c(),o=Re()},m(l,u){G(e,l,u),P(l,t,u),r&&r.m(l,u),P(l,o,u),s=!0},p(l,u){const d={};u&1&&(d.videoId=l[0].id),e.$set(d),l[3]?r?(r.p(l,u),u&8&&k(r,1)):(r=Me(l),r.c(),k(r,1),r.m(o.parentNode,o)):r&&(Ye(),T(r,1,1,()=>{r=null}),qe())},i(l){s||(k(e.$$.fragment,l),k(r),s=!0)},o(l){T(e.$$.fragment,l),T(r),s=!1},d(l){l&&(F(t),F(o)),Q(e,l),r&&r.d(l)}}}function Me(n){let e,t,o,s=!1;return t=new Tt({props:{subtitles:n[4],target:n[3],hover:n[2]}}),{c(){e=S(),oe(t.$$.fragment)},m(r,l){P(r,e,l),G(t,r,l),o=!0},p(r,l){const u={};l&16&&(u.subtitles=r[4]),l&8&&(u.target=r[3]),l&4&&(u.hover=r[2]),t.$set(u)},i(r){o||(k(s),k(t.$$.fragment,r),o=!0)},o(r){T(s),T(t.$$.fragment,r),o=!1},d(r){r&&F(e),Q(t,r)}}}function xt(n){let e;return{c(){e=C("h1"),e.textContent="Choose an episode! ➡️",y(e,"class","svelte-hrkryr")},m(t,o){P(t,e,o)},p:E,d(t){t&&F(e)}}}function Dt(n){let e,t,o;function s(u,d){return u[1]?Rt:Ot}let r=s(n),l=r(n);return{c(){e=C("button"),l.c(),y(e,"class","fullscreenBtn svelte-hrkryr"),M(e,"visible",n[2])},m(u,d){P(u,e,d),l.m(e,null),t||(o=N(e,"click",n[7]),t=!0)},p(u,d){r!==(r=s(u))&&(l.d(1),l=r(u),l&&(l.c(),l.m(e,null))),d&4&&M(e,"visible",u[2])},d(u){u&&F(e),l.d(),t=!1,o()}}}function Ot(n){let e,t;return{c(){e=C("img"),y(e,"width","24px"),y(e,"height","24px"),se(e.src,t=Mt)||y(e,"src",t),y(e,"alt","Enter Fullscreen")},m(o,s){P(o,e,s)},d(o){o&&F(e)}}}function Rt(n){let e,t;return{c(){e=C("img"),y(e,"width","24px"),y(e,"height","24px"),se(e.src,t=Nt)||y(e,"src",t),y(e,"alt","Exit Fullscreen")},m(o,s){P(o,e,s)},d(o){o&&F(e)}}}function Lt(n){let e,t,o,s,r,l,u=n[0]&&Te(n);function d(c,f){return c[0]?Dt:xt}let a=d(n),i=a(n);return{c(){e=C("div"),t=C("div"),u&&u.c(),o=S(),i.c(),y(t,"class","videoInner svelte-hrkryr"),y(e,"class","video svelte-hrkryr")},m(c,f){P(c,e,f),w(e,t),u&&u.m(t,null),w(e,o),i.m(e,null),n[10](e),s=!0,r||(l=[N(e,"focus",n[8]),N(e,"mouseover",n[8]),N(e,"mousemove",n[8]),N(e,"mouseout",n[9]),N(e,"blur",n[9])],r=!0)},p(c,[f]){c[0]?u?(u.p(c,f),f&1&&k(u,1)):(u=Te(c),u.c(),k(u,1),u.m(t,null)):u&&(Ye(),T(u,1,1,()=>{u=null}),qe()),a===(a=d(c))&&i?i.p(c,f):(i.d(1),i=a(c),i&&(i.c(),i.m(e,null)))},i(c){s||(k(u),s=!0)},o(c){T(u),s=!1},d(c){c&&F(e),u&&u.d(),i.d(),n[10](null),r=!1,Y(l)}}}function Ht(n){let[e,t,o]=n.replace(",",".").split(":").map(parseFloat);return e*3600+t*60+o}function Yt(n,e,t){let{video:o}=e,s=!1,r=!1,l=null;function u(p){l!==p.detail.target&&(t(3,l=p.detail.target),console.log("Playing",p.detail.target),t(2,r=!0),f=setTimeout(()=>t(2,r=!1),3e3))}let d=[];async function a(p){t(4,d=[]);let _=await fetch(p);if(!_.ok)return console.error("Failed to fetch subtitle");let h=(await _.text()).split(`

`);t(4,d=[]);let V=0;for(let D of h)if(D.startsWith((V+1).toString()+`
`)){V++;const I=D.split(`
`),A={start:-1,end:1,text:""};[A.start,A.end]=I[1].split(" --> ").map(Ht),A.text=I.slice(2).join(`
`),d.push(A)}}let i;function c(){s?(document.exitFullscreen(),t(1,s=!1)):(i.requestFullscreen(),t(1,s=!0))}let f;function m(p){t(2,r=!0),f&&clearTimeout(f),f=setTimeout(()=>t(2,r=!1),3e3)}function b(){t(2,r=!1),f&&clearTimeout(f)}function g(p){ne[p?"unshift":"push"](()=>{i=p,t(5,i)})}return n.$$set=p=>{"video"in p&&t(0,o=p.video)},n.$$.update=()=>{n.$$.dirty&1&&(o?a(`./sub/${o.id}.srt`):t(4,d=[]))},[o,s,r,l,d,i,u,c,m,b,g]}class qt extends J{constructor(e){super(),W(this,e,Yt,Lt,q,{video:0})}}function Ut(n){let e,t,o,s,r;return t=new qt({props:{video:n[0]}}),s=new at({props:{video:n[1]}}),{c(){e=C("main"),oe(t.$$.fragment),o=S(),oe(s.$$.fragment),y(e,"class","svelte-1vgvhc4")},m(l,u){P(l,e,u),G(t,e,null),w(e,o),G(s,e,null),r=!0},p(l,[u]){const d={};u&1&&(d.video=l[0]),t.$set(d)},i(l){r||(k(t.$$.fragment,l),k(s.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),T(s.$$.fragment,l),r=!1},d(l){l&&F(e),Q(t),Q(s)}}}function Bt(n,e,t){let o,s=ot(null);return ze(n,s,r=>t(0,o=r)),[o,s]}class $t extends J{constructor(e){super(),W(this,e,Bt,Ut,q,{})}}new $t({target:document.getElementById("app")});
