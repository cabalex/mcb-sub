var wt=Object.defineProperty;var Ft=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ke=(t,e,n)=>Ft(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function E(){}const kt=t=>t;function ht(t){return t()}function ze(){return Object.create(null)}function z(t){t.forEach(ht)}function Be(t){return typeof t=="function"}function te(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let pe;function ae(t,e){return t===e?!0:(pe||(pe=document.createElement("a")),pe.href=e,t===pe.href)}function St(t){return Object.keys(t).length===0}function oe(t,...e){if(t==null){for(const r of e)r(void 0);return E}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Qe(t,e,n){t.$$.on_destroy.push(oe(e,n))}function he(t){return t??""}const mt=typeof window<"u";let Pt=mt?()=>window.performance.now():()=>Date.now(),Le=mt?t=>requestAnimationFrame(t):E;const K=new Set;function gt(t){K.forEach(e=>{e.c(t)||(K.delete(e),e.f())}),K.size!==0&&Le(gt)}function Et(t){let e;return K.size===0&&Le(gt),{promise:new Promise(n=>{K.add(e={c:t,f:n})}),abort(){K.delete(e)}}}function F(t,e){t.appendChild(e)}function _t(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function At(t){const e=k("style");return e.textContent="/* empty */",It(_t(t),e),e.sheet}function It(t,e){return F(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function j(t){return document.createTextNode(t)}function M(){return j(" ")}function qe(){return j("")}function O(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $t(t){return Array.from(t.childNodes)}function Tt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Vt(t,e){t.value=e??""}function me(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function We(t,e,n){for(let r=0;r<t.options.length;r+=1){const o=t.options[r];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Mt(t){const e=t.querySelector(":checked");return e&&e.__value}function H(t,e,n){t.classList.toggle(e,!!n)}function bt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const be=new Map;let ve=0;function xt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Nt(t,e){const n={stylesheet:At(e),rules:{}};return be.set(t,n),n}function Ze(t,e,n,r,o,i,l,a=0){const c=16.666/r;let u=`{
`;for(let _=0;_<=1;_+=c){const h=e+(n-e)*i(_);u+=_*100+`%{${l(h,1-h)}}
`}const s=u+`100% {${l(n,1-n)}}
}`,f=`__svelte_${xt(s)}_${a}`,p=_t(t),{stylesheet:m,rules:g}=be.get(p)||Nt(p,t);g[f]||(g[f]=!0,m.insertRule(`@keyframes ${f} ${s}`,m.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${f} ${r}ms linear ${o}ms 1 both`,ve+=1,f}function Dt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(t.style.animation=r.join(", "),ve-=o,ve||Ot())}function Ot(){Le(()=>{ve||(be.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),be.clear())})}let se;function ie(t){se=t}function Ue(){if(!se)throw new Error("Function called outside component initialization");return se}function Ye(t){Ue().$$.on_mount.push(t)}function Rt(t){Ue().$$.on_destroy.push(t)}function Ht(){const t=Ue();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=bt(e,n,{cancelable:r});return o.slice().forEach(l=>{l.call(t,i)}),!i.defaultPrevented}return!0}}const X=[],ye=[];let ee=[];const Je=[],Bt=Promise.resolve();let Ie=!1;function Lt(){Ie||(Ie=!0,Bt.then(vt))}function G(t){ee.push(t)}const Se=new Set;let Z=0;function vt(){if(Z!==0)return;const t=se;do{try{for(;Z<X.length;){const e=X[Z];Z++,ie(e),qt(e.$$)}}catch(e){throw X.length=0,Z=0,e}for(ie(null),X.length=0,Z=0;ye.length;)ye.pop()();for(let e=0;e<ee.length;e+=1){const n=ee[e];Se.has(n)||(Se.add(n),n())}ee.length=0}while(X.length);for(;Je.length;)Je.pop()();Ie=!1,Se.clear(),ie(t)}function qt(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}function Ut(t){const e=[],n=[];ee.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ee=e}let re;function Yt(){return re||(re=Promise.resolve(),re.then(()=>{re=null})),re}function Pe(t,e,n){t.dispatchEvent(bt(`${e?"intro":"outro"}${n}`))}const ge=new Set;let B;function $e(){B={r:0,c:[],p:B}}function Te(){B.r||z(B.c),B=B.p}function D(t,e){t&&t.i&&(ge.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(ge.has(t))return;ge.add(t),B.c.push(()=>{ge.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const jt={duration:0};function Ce(t,e,n,r){let i=e(t,n,{direction:"both"}),l=r?0:1,a=null,c=null,u=null,s;function f(){u&&Dt(t,u)}function p(g,b){const _=g.b-l;return b*=Math.abs(_),{a:l,b:g.b,d:_,duration:b,start:g.start,end:g.start+b,group:g.group}}function m(g){const{delay:b=0,duration:_=300,easing:h=kt,tick:y=E,css:d}=i||jt,S={start:Pt()+b,b:g};g||(S.group=B,B.r+=1),"inert"in t&&(g?s!==void 0&&(t.inert=s):(s=t.inert,t.inert=!0)),a||c?c=S:(d&&(f(),u=Ze(t,l,g,_,b,h,d)),g&&y(0,1),a=p(S,_),G(()=>Pe(t,g,"start")),Et(C=>{if(c&&C>c.start&&(a=p(c,_),c=null,Pe(t,a.b,"start"),d&&(f(),u=Ze(t,l,a.b,a.duration,0,h,i.css))),a){if(C>=a.end)y(l=a.b,1-l),Pe(t,a.b,"end"),c||(a.b?f():--a.group.r||z(a.group.c)),a=null;else if(C>=a.start){const V=C-a.start;l=a.a+a.d*h(V/a.duration),y(l,1-l)}}return!!(a||c)}))}return{run(g){Be(i)?Yt().then(()=>{i=i({direction:g?"in":"out"}),m(g)}):m(g)},end(){f(),a=c=null}}}function q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function we(t){t&&t.c()}function le(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),G(()=>{const i=t.$$.on_mount.map(ht).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...i):z(i),t.$$.on_mount=[]}),o.forEach(G)}function ue(t,e){const n=t.$$;n.fragment!==null&&(Ut(n.after_update),z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gt(t,e){t.$$.dirty[0]===-1&&(X.push(t),Lt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ce(t,e,n,r,o,i,l=null,a=[-1]){const c=se;ie(t);const u=t.$$={fragment:null,ctx:[],props:i,update:E,not_equal:o,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ze(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};l&&l(u.root);let s=!1;if(u.ctx=n?n(t,e.props||{},(f,p,...m)=>{const g=m.length?m[0]:p;return u.ctx&&o(u.ctx[f],u.ctx[f]=g)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](g),s&&Gt(t,f)),p}):[],u.update(),s=!0,z(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=$t(e.target);u.fragment&&u.fragment.l(f),f.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&D(t.$$.fragment),le(t,e.target,e.anchor),vt()}ie(c)}class fe{constructor(){ke(this,"$$");ke(this,"$$set")}$destroy(){ue(this,1),this.$destroy=E}$on(e,n){if(!Be(n))return E;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!St(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const zt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(zt);const J=[];function Xe(t,e=E){let n;const r=new Set;function o(a){if(te(t,a)&&(t=a,n)){const c=!J.length;for(const u of r)u[1](),J.push(u,t);if(c){for(let u=0;u<J.length;u+=2)J[u][0](J[u+1]);J.length=0}}}function i(a){o(a(t))}function l(a,c=E){const u=[a,c];return r.add(u),r.size===1&&(n=e(o,i)||E),a(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:l}}const x=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",incomplete:!0,sources:[{name:"Dub",language:"en",path:"/dub",credits:"SAMG Entertainment"}],openings:[{name:"Opening",id:"1070bnqHcHY"}],episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs"},{name:"The Black Ambulance",id:"52W_cb1f1ao"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ"},{name:"The Secret is Out!",id:"jzz3UOpvuV0"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk"},{name:"The Mysterious Transfer Student",id:"sfh5bi5Njtc"},{name:"Blue Cop's Special Training!",id:"aU5wLVRQIWQ"},{name:"Guardian of the Forest",id:"PkNgHFctIIg"},{name:"Operation Underground Battle",id:"5igwoiB4sAE"},{name:"A Metal Cardbot from the Sky!",id:"8wpIPp7c094"},{name:"The Vagabond in the Sky",id:"4kAhVJnzL9w"},{name:"Showdown Between Blue Cop and Wild Guardy!",id:"t5_mM9bdq00"},{name:"The Great Showdown! Giant VS Giant!",id:"ScF3TTBBfyo"},{name:"The Hungry Metal Cardbot",id:"hOeQeLZ4ccg"},{name:"Metal Breath Gets Stolen",id:"jk6TC3f6Uls"},{name:"Anna's Metal Breath",id:"QmVE7ZhwIv4"},{name:"Goodbye, Buffalo Crush",id:"FGG_QsPm5k8"},{name:"Buster Gallon, the Betrayer",id:"B8IYxvIrf9o"},{name:"Black Hook Strikes Back",id:"UCixUDwUZtA"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",incomplete:!0,sources:[{name:"Translated",path:"/",language:"en",credits:"SAMG Entertainment"}],openings:[],episodes:[]}].map(t=>(t.openings=t.openings.map(e=>(e.context=t,e)),t.episodes=t.episodes.map(e=>(e.context=t,e)),t));function Ke(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function et(t,e,n){const r=t.slice();return r[10]=e[n],r[9]=n,r}function tt(t,e,n){const r=t.slice();return r[1]=e[n],r}function Qt(t){let e,n,r,o=q(x[N].sources),i=[];for(let l=0;l<o.length;l+=1)i[l]=nt(tt(t,o,l));return{c(){e=k("select");for(let l=0;l<i.length;l+=1)i[l].c();v(e,"placeholder","Select a dub"),v(e,"class","svelte-1u61rr0"),t[2]===void 0&&G(()=>t[4].call(e))},m(l,a){I(l,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);We(e,t[2],!0),n||(r=O(e,"change",t[4]),n=!0)},p(l,a){if(a&0){o=q(x[N].sources);let c;for(c=0;c<o.length;c+=1){const u=tt(l,o,c);i[c]?i[c].p(u,a):(i[c]=nt(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&4&&We(e,l[2])},d(l){l&&A(e),_e(i,l),n=!1,r()}}}function nt(t){let e,n=t[1].name+"",r,o,i=t[1].language+"",l,a;return{c(){e=k("option"),r=j(n),o=j(" ("),l=j(i),a=j(")"),e.__value=t[1],Vt(e,e.__value)},m(c,u){I(c,e,u),F(e,r),F(e,o),F(e,l),F(e,a)},p:E,d(c){c&&A(e)}}}function rt(t){let e,n,r,o,i,l,a,c,u,s;function f(){return t[5](t[10])}return{c(){e=k("button"),n=k("img"),o=M(),i=k("div"),l=k("h3"),l.textContent=`${t[10].name}`,a=M(),c=k("div"),c.innerHTML='<span class="tag svelte-1u61rr0">OP</span>',ae(n.src,r=`https://img.youtube.com/vi/${t[10].id}/0.jpg`)||v(n,"src",r),v(n,"class","svelte-1u61rr0"),v(l,"class","svelte-1u61rr0"),v(c,"class","tags"),v(i,"class","text svelte-1u61rr0"),v(e,"class","episode svelte-1u61rr0"),H(e,"active",t[3]===t[10])},m(p,m){I(p,e,m),F(e,n),F(e,o),F(e,i),F(i,l),F(i,a),F(i,c),u||(s=O(e,"click",f),u=!0)},p(p,m){t=p,m&8&&H(e,"active",t[3]===t[10])},d(p){p&&A(e),u=!1,s()}}}function it(t){let e,n,r,o,i,l,a,c,u,s,f;function p(){return t[6](t[7])}return{c(){e=k("button"),n=k("img"),o=M(),i=k("div"),l=k("h3"),l.textContent=`${t[7].name}`,a=M(),c=k("div"),u=k("span"),u.textContent=`Episode ${t[9]+1}`,ae(n.src,r=`https://img.youtube.com/vi/${t[7].id}/0.jpg`)||v(n,"src",r),v(n,"class","svelte-1u61rr0"),v(l,"class","svelte-1u61rr0"),v(u,"class","tag svelte-1u61rr0"),v(c,"class","tags"),v(i,"class","text svelte-1u61rr0"),v(e,"class","episode svelte-1u61rr0"),H(e,"active",t[3]===t[7])},m(m,g){I(m,e,g),F(e,n),F(e,o),F(e,i),F(i,l),F(i,a),F(i,c),F(c,u),s||(f=O(e,"click",p),s=!0)},p(m,g){t=m,g&8&&H(e,"active",t[3]===t[7])},d(m){m&&A(e),s=!1,f()}}}function Wt(t){let e;return{c(){e=k("i"),e.textContent="Check back next week for new episodes!",me(e,"text-align","center"),me(e,"width","100%"),me(e,"display","block"),me(e,"padding","10px 0")},m(n,r){I(n,e,r)},d(n){n&&A(e)}}}function Zt(t){let e,n,r,o,i,l,a,c,u,s,f,p,m,g,b=x[N].sources.length>1&&Qt(t),_=q(x[N].openings),h=[];for(let C=0;C<_.length;C+=1)h[C]=rt(et(t,_,C));let y=q(x[N].episodes),d=[];for(let C=0;C<y.length;C+=1)d[C]=it(Ke(t,y,C));let S=x[N].incomplete&&Wt();return{c(){e=k("div"),n=k("header"),r=k("img"),i=M(),l=k("div"),a=k("h2"),a.textContent=`${x[N].title}`,c=M(),u=k("p"),u.textContent=`${x[N].subtitle}`,s=M(),b&&b.c(),f=M(),p=k("div");for(let C=0;C<h.length;C+=1)h[C].c();m=M();for(let C=0;C<d.length;C+=1)d[C].c();g=M(),S&&S.c(),ae(r.src,o=x[N].icon)||v(r,"src",o),v(r,"class","svelte-1u61rr0"),v(a,"class","svelte-1u61rr0"),v(u,"class","svelte-1u61rr0"),v(l,"class","text svelte-1u61rr0"),v(n,"class","svelte-1u61rr0"),v(p,"class","episodes svelte-1u61rr0"),v(e,"class","playlist svelte-1u61rr0")},m(C,V){I(C,e,V),F(e,n),F(n,r),F(n,i),F(n,l),F(l,a),F(l,c),F(l,u),F(e,s),b&&b.m(e,null),F(e,f),F(e,p);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(p,null);F(p,m);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(p,null);F(p,g),S&&S.m(p,null)},p(C,[V]){if(x[N].sources.length>1&&b.p(C,V),V&9){_=q(x[N].openings);let w;for(w=0;w<_.length;w+=1){const T=et(C,_,w);h[w]?h[w].p(T,V):(h[w]=rt(T),h[w].c(),h[w].m(p,m))}for(;w<h.length;w+=1)h[w].d(1);h.length=_.length}if(V&9){y=q(x[N].episodes);let w;for(w=0;w<y.length;w+=1){const T=Ke(C,y,w);d[w]?d[w].p(T,V):(d[w]=it(T),d[w].c(),d[w].m(p,g))}for(;w<d.length;w+=1)d[w].d(1);d.length=y.length}},i:E,o:E,d(C){C&&A(e),b&&b.d(),_e(h,C),_e(d,C),S&&S.d()}}}let N=0;function Jt(t,e,n){let r,o=E,i=()=>(o(),o=oe(s,g=>n(2,r=g)),s),l,a=E,c=()=>(a(),a=oe(u,g=>n(3,l=g)),u);t.$$.on_destroy.push(()=>o()),t.$$.on_destroy.push(()=>a());let{video:u}=e;c();let{source:s}=e;i();function f(){r=Mt(this),s.set(r)}const p=g=>u.set(g),m=g=>u.set(g);return t.$$set=g=>{"video"in g&&c(n(0,u=g.video)),"source"in g&&i(n(1,s=g.source))},t.$$.update=()=>{t.$$.dirty&6&&r===null&&x[N].sources.length>0&&s.set(x[N].sources[0])},[u,s,r,l,f,p,m]}class Xt extends fe{constructor(e){super(),ce(this,e,Jt,Zt,te,{video:0,source:1})}}function Kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ve={exports:{}},yt;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/yt=function(){var t={},e={};return t.on=function(n,r){var o={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(o),o},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var o=e[n],i;if(o)for(i=o.length;i--;)o[i].handler(r)},t};var en=yt,Me={exports:{}},xe={exports:{}},Ee,ot;function tn(){if(ot)return Ee;ot=1;var t=1e3,e=t*60,n=e*60,r=n*24,o=r*7,i=r*365.25;Ee=function(s,f){f=f||{};var p=typeof s;if(p==="string"&&s.length>0)return l(s);if(p==="number"&&isFinite(s))return f.long?c(s):a(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function l(s){if(s=String(s),!(s.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(s){var f=Math.abs(s);return f>=r?Math.round(s/r)+"d":f>=n?Math.round(s/n)+"h":f>=e?Math.round(s/e)+"m":f>=t?Math.round(s/t)+"s":s+"ms"}function c(s){var f=Math.abs(s);return f>=r?u(s,f,r,"day"):f>=n?u(s,f,n,"hour"):f>=e?u(s,f,e,"minute"):f>=t?u(s,f,t,"second"):s+" ms"}function u(s,f,p,m){var g=f>=p*1.5;return Math.round(s/p)+" "+m+(g?"s":"")}return Ee}function nn(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=l,n.humanize=tn(),n.destroy=u,Object.keys(t).forEach(s=>{n[s]=t[s]}),n.names=[],n.skips=[],n.formatters={};function e(s){let f=0;for(let p=0;p<s.length;p++)f=(f<<5)-f+s.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(s){let f,p=null,m,g;function b(..._){if(!b.enabled)return;const h=b,y=Number(new Date),d=y-(f||y);h.diff=d,h.prev=f,h.curr=y,f=y,_[0]=n.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let S=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(V,w)=>{if(V==="%%")return"%";S++;const T=n.formatters[w];if(typeof T=="function"){const Q=_[S];V=T.call(h,Q),_.splice(S,1),S--}return V}),n.formatArgs.call(h,_),(h.log||n.log).apply(h,_)}return b.namespace=s,b.useColors=n.useColors(),b.color=n.selectColor(s),b.extend=r,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(s)),g),set:_=>{p=_}}),typeof n.init=="function"&&n.init(b),b}function r(s,f){const p=n(this.namespace+(typeof f>"u"?":":f)+s);return p.log=this.log,p}function o(s){n.save(s),n.namespaces=s,n.names=[],n.skips=[];let f;const p=(typeof s=="string"?s:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(s=p[f].replace(/\*/g,".*?"),s[0]==="-"?n.skips.push(new RegExp("^"+s.slice(1)+"$")):n.names.push(new RegExp("^"+s+"$")))}function i(){const s=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),s}function l(s){if(s[s.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(s))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(s))return!0;return!1}function a(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function c(s){return s instanceof Error?s.stack||s.message:s}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var rn=nn;(function(t,e){var n={};e.formatArgs=o,e.save=i,e.load=l,e.useColors=r,e.storage=a(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;u.splice(1,0,s,"color: inherit");let f=0,p=0;u[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(p=f))}),u.splice(p,0,s)}e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function l(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}function a(){try{return localStorage}catch{}}t.exports=rn(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(xe,xe.exports);var on=xe.exports,Ne={exports:{}},De={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(De,De.exports);var sn=De.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=sn,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Ne,Ne.exports);var ln=Ne.exports,Oe={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Oe,Oe.exports);var un=Oe.exports,Re={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],t.exports=e.default})(Re,Re.exports);var an=Re.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=on,r=s(n),o=ln,i=s(o),l=un,a=s(l),c=an,u=s(c);function s(m){return m&&m.__esModule?m:{default:m}}const f=(0,r.default)("youtube-player"),p={};p.proxyEvents=m=>{const g={};for(const b of a.default){const _="on"+b.slice(0,1).toUpperCase()+b.slice(1);g[_]=h=>{f('event "%s"',_,h),m.trigger(b,h)}}return g},p.promisifyPlayer=(m,g=!1)=>{const b={};for(const _ of u.default)g&&i.default[_]?b[_]=(...h)=>m.then(y=>{const d=i.default[_],S=y.getPlayerState(),C=y[_].apply(y,h);return d.stateChangeRequired||Array.isArray(d.acceptableStates)&&!d.acceptableStates.includes(S)?new Promise(V=>{const w=()=>{const T=y.getPlayerState();let Q;typeof d.timeout=="number"&&(Q=setTimeout(()=>{y.removeEventListener("onStateChange",w),V()},d.timeout)),Array.isArray(d.acceptableStates)&&d.acceptableStates.includes(T)&&(y.removeEventListener("onStateChange",w),clearTimeout(Q),V())};y.addEventListener("onStateChange",w)}).then(()=>C):C}):b[_]=(...h)=>m.then(y=>y[_].apply(y,h));return b},e.default=p,t.exports=e.default})(Me,Me.exports);var cn=Me.exports,He={exports:{}},fn=function(e,n,r){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},i.type=n.type||"text/javascript",i.charset=n.charset||"utf8",i.async="async"in n?!!n.async:!0,i.src=e,n.attrs&&dn(i,n.attrs),n.text&&(i.text=""+n.text);var l="onload"in i?st:pn;l(i,r),i.onload||st(i,r),o.appendChild(i)};function dn(t,e){for(var n in e)t.setAttribute(n,e[n])}function st(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function pn(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=fn,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}e.default=i=>new Promise(a=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{const u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",s=>{s&&i.trigger("error",s)})}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c&&c(),a(window.YT)}}),t.exports=e.default})(He,He.exports);var hn=He.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=en,r=c(n),o=cn,i=c(o),l=hn,a=c(l);function c(s){return s&&s.__esModule?s:{default:s}}let u;e.default=(s,f={},p=!1)=>{const m=(0,r.default)();if(u||(u=(0,a.default)(m)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof s=="string"&&!document.getElementById(s))throw new Error('Element "'+s+'" does not exist.');f.events=i.default.proxyEvents(m);const g=new Promise(_=>{typeof s=="object"&&s.playVideo instanceof Function?_(s):u.then(h=>{const y=new h.Player(s,f);return m.on("ready",()=>{_(y)}),null})}),b=i.default.promisifyPlayer(g,p);return b.on=m.on,b.off=m.off,b},t.exports=e.default})(Ve,Ve.exports);var mn=Ve.exports;const gn=Kt(mn);function _n(t){let e,n,r,o;return{c(){e=k("div"),n=k("div"),v(n,"id",t[0]),v(n,"class",r=he(t[1]?"responsive-player":"")+" svelte-bvyk3m"),v(e,"class",o=he((t[2]?t[2]:"")+(t[1]?" responsive-container":""))+" svelte-bvyk3m")},m(i,l){I(i,e,l),F(e,n),t[6](n)},p(i,[l]){l&1&&v(n,"id",i[0]),l&2&&r!==(r=he(i[1]?"responsive-player":"")+" svelte-bvyk3m")&&v(n,"class",r),l&6&&o!==(o=he((i[2]?i[2]:"")+(i[1]?" responsive-container":""))+" svelte-bvyk3m")&&v(e,"class",o)},i:E,o:E,d(i){i&&A(e),t[6](null)}}}const Ae={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function bn(t,e,n){let{id:r=void 0}=e,{videoId:o}=e,{options:i=void 0}=e,{responsive:l=!1}=e,{class:a}=e,c,u;Ye(()=>s());function s(){return u=gn(c,i),u.on("ready",m),u.on("error",g),u.on("stateChange",b),u.on("playbackRateChange",_),u.on("playbackQualityChange",h),()=>u.destroy()}function f(d){u&&d&&(i&&i.playerVars&&i.playerVars.autoplay===1?u.loadVideoById(d):u.cueVideoById(d))}const p=Ht();function m(d){p("ready",d),f(o)}function g(d){p("error",d)}function b(d){switch(p("stateChange",d),d.data){case Ae.ENDED:p("end",d);break;case Ae.PLAYING:p("play",d);break;case Ae.PAUSED:p("pause",d);break}}function _(d){p("playbackRateChange",d)}function h(d){p("playbackQualityChange",d)}function y(d){ye[d?"unshift":"push"](()=>{c=d,n(3,c)})}return t.$$set=d=>{"id"in d&&n(0,r=d.id),"videoId"in d&&n(4,o=d.videoId),"options"in d&&n(5,i=d.options),"responsive"in d&&n(1,l=d.responsive),"class"in d&&n(2,a=d.class)},t.$$.update=()=>{t.$$.dirty&16&&f(o)},[r,l,a,c,o,i,y]}class vn extends fe{constructor(e){super(),ce(this,e,bn,_n,te,{id:0,videoId:4,options:5,responsive:1,class:2})}}function yn(t){const e=t-1;return e*e*e+1}function Fe(t,{delay:e=0,duration:n=400,easing:r=yn,axis:o="y"}={}){const i=getComputedStyle(t),l=+i.opacity,a=o==="y"?"height":"width",c=parseFloat(i[a]),u=o==="y"?["top","bottom"]:["left","right"],s=u.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),f=parseFloat(i[`padding${s[0]}`]),p=parseFloat(i[`padding${s[1]}`]),m=parseFloat(i[`margin${s[0]}`]),g=parseFloat(i[`margin${s[1]}`]),b=parseFloat(i[`border${s[0]}Width`]),_=parseFloat(i[`border${s[1]}Width`]);return{delay:e,duration:n,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*l};${a}: ${h*c}px;padding-${u[0]}: ${h*f}px;padding-${u[1]}: ${h*p}px;margin-${u[0]}: ${h*m}px;margin-${u[1]}: ${h*g}px;border-${u[0]}-width: ${h*b}px;border-${u[1]}-width: ${h*_}px;`}}function lt(t,e,n){const r=t.slice();return r[6]=e[n],r}function ut(t){let e,n,r=q(t[1].text.replace(" (FIX_THIS)","").split(/[ \n]/)),o=[];for(let i=0;i<r.length;i+=1)o[i]=ct(lt(t,r,i));return{c(){e=k("div"),n=k("div");for(let i=0;i<o.length;i+=1)o[i].c();v(n,"class","subtitle svelte-qbf2z2"),H(n,"needsFixing",t[1].text.includes("FIX_THIS")),v(e,"class","subtitleArea svelte-qbf2z2"),H(e,"hover",t[0])},m(i,l){I(i,e,l),F(e,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p(i,l){if(l&2){r=q(i[1].text.replace(" (FIX_THIS)","").split(/[ \n]/));let a;for(a=0;a<r.length;a+=1){const c=lt(i,r,a);o[a]?o[a].p(c,l):(o[a]=ct(c),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}l&2&&H(n,"needsFixing",i[1].text.includes("FIX_THIS")),l&1&&H(e,"hover",i[0])},d(i){i&&A(e),_e(o,i)}}}function at(t){let e;return{c(){e=k("span"),v(e,"class","newline svelte-qbf2z2")},m(n,r){I(n,e,r)},d(n){n&&A(e)}}}function ct(t){let e,n=t[6]+"",r,o,i=t[1].text.includes(t[6]+`
`),l,a=i&&at();return{c(){e=k("span"),r=j(n),o=M(),a&&a.c(),l=qe(),v(e,"class","svelte-qbf2z2")},m(c,u){I(c,e,u),F(e,r),I(c,o,u),a&&a.m(c,u),I(c,l,u)},p(c,u){u&2&&n!==(n=c[6]+"")&&Tt(r,n),u&2&&(i=c[1].text.includes(c[6]+`
`)),i?a||(a=at(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(c){c&&(A(e),A(o),A(l)),a&&a.d(c)}}}function Cn(t){let e,n=t[1]&&ut(t);return{c(){n&&n.c(),e=qe()},m(r,o){n&&n.m(r,o),I(r,e,o)},p(r,[o]){r[1]?n?n.p(r,o):(n=ut(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:E,o:E,d(r){r&&A(e),n&&n.d(r)}}}function wn(t,e,n){let{subtitles:r}=e,{target:o}=e,{hover:i}=e,l=null,a=!0;function c(){if(a&&requestAnimationFrame(c),!o)return;let u=o.getCurrentTime();if(!(l&&u>=l.start&&u<l.end)){for(let s of r){if(u>=s.start&&u<=s.end){n(1,l=s);return}if(u<s.start)break}n(1,l=null)}}return Ye(()=>{requestAnimationFrame(c),a=!0}),Rt(()=>{a=!1}),t.$$set=u=>{"subtitles"in u&&n(2,r=u.subtitles),"target"in u&&n(3,o=u.target),"hover"in u&&n(0,i=u.hover)},[i,l,r,o]}class Fn extends fe{constructor(e){super(),ce(this,e,wn,Cn,te,{subtitles:2,target:3,hover:0})}}const kn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",Sn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Pn(t){let e;return{c(){e=k("h1"),e.textContent="Choose an episode! âž¡ï¸",v(e,"class","svelte-13djgby")},m(n,r){I(n,e,r)},p:E,i:E,o:E,d(n){n&&A(e)}}}function En(t){let e,n,r,o,i,l,a,c,u,s,f,p;n=new vn({props:{videoId:t[5].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),n.$on("play",t[10]),n.$on("end",t[11]);let m=t[3]&&ft(t);function g(d,S){return d[2]?In:An}let b=g(t),_=b(t),h=!t[8]&&dt(t),y=t[9]&&pt(t);return{c(){e=k("div"),we(n.$$.fragment),r=M(),m&&m.c(),o=M(),i=k("button"),_.c(),l=M(),h&&h.c(),c=M(),y&&y.c(),u=qe(),v(i,"class","fullscreenBtn svelte-13djgby"),H(i,"visible",t[6]),v(e,"class","videoInner svelte-13djgby")},m(d,S){I(d,e,S),le(n,e,null),F(e,r),m&&m.m(e,null),F(e,o),F(e,i),_.m(i,null),F(e,l),h&&h.m(e,null),I(d,c,S),y&&y.m(d,S),I(d,u,S),s=!0,f||(p=[O(i,"click",t[12]),O(e,"focus",t[13]),O(e,"mouseover",t[13]),O(e,"mousemove",t[13]),O(e,"mouseout",t[14]),O(e,"blur",t[14])],f=!0)},p(d,S){const C={};S&32&&(C.videoId=d[5].id),n.$set(C),d[3]?m?(m.p(d,S),S&8&&D(m,1)):(m=ft(d),m.c(),D(m,1),m.m(e,o)):m&&($e(),R(m,1,1,()=>{m=null}),Te()),b!==(b=g(d))&&(_.d(1),_=b(d),_&&(_.c(),_.m(i,null))),(!s||S&64)&&H(i,"visible",d[6]),d[8]?h&&($e(),R(h,1,1,()=>{h=null}),Te()):h?(h.p(d,S),S&256&&D(h,1)):(h=dt(d),h.c(),D(h,1),h.m(e,null)),d[9]?y?y.p(d,S):(y=pt(d),y.c(),y.m(u.parentNode,u)):y&&(y.d(1),y=null)},i(d){s||(D(n.$$.fragment,d),D(m),D(h),d&&G(()=>{s&&(a||(a=Ce(e,Fe,{duration:100,axis:"y"},!0)),a.run(1))}),s=!0)},o(d){R(n.$$.fragment,d),R(m),R(h),d&&(a||(a=Ce(e,Fe,{duration:100,axis:"y"},!1)),a.run(0)),s=!1},d(d){d&&(A(e),A(c),A(u)),ue(n),m&&m.d(),_.d(),h&&h.d(),d&&a&&a.end(),y&&y.d(d),f=!1,z(p)}}}function ft(t){let e,n,r,o=!1;return n=new Fn({props:{subtitles:t[4],target:t[3],hover:t[6]}}),{c(){e=M(),we(n.$$.fragment)},m(i,l){I(i,e,l),le(n,i,l),r=!0},p(i,l){const a={};l&16&&(a.subtitles=i[4]),l&8&&(a.target=i[3]),l&64&&(a.hover=i[6]),n.$set(a)},i(i){r||(D(o),D(n.$$.fragment,i),r=!0)},o(i){R(o),R(n.$$.fragment,i),r=!1},d(i){i&&A(e),ue(n,i)}}}function An(t){let e,n;return{c(){e=k("img"),v(e,"width","24px"),v(e,"height","24px"),ae(e.src,n=kn)||v(e,"src",n),v(e,"alt","Enter Fullscreen")},m(r,o){I(r,e,o)},d(r){r&&A(e)}}}function In(t){let e,n;return{c(){e=k("img"),v(e,"width","24px"),v(e,"height","24px"),ae(e.src,n=Sn)||v(e,"src",n),v(e,"alt","Exit Fullscreen")},m(r,o){I(r,e,o)},d(r){r&&A(e)}}}function dt(t){let e,n,r,o,i;return{c(){e=k("div"),e.textContent="Tap the bottom right of the video to toggle fullscreen",v(e,"class","fullscreenTooltip svelte-13djgby")},m(l,a){I(l,e,a),r=!0,o||(i=O(e,"click",t[16]),o=!0)},p:E,i(l){r||(l&&G(()=>{r&&(n||(n=Ce(e,Fe,{duration:300,axis:"y"},!0)),n.run(1))}),r=!0)},o(l){l&&(n||(n=Ce(e,Fe,{duration:300,axis:"y"},!1)),n.run(0)),r=!1},d(l){l&&A(e),l&&n&&n.end(),o=!1,i()}}}function pt(t){let e,n,r;return{c(){e=k("button"),e.textContent="âš ï¸ Report an issue",v(e,"class","reportIssueBtn svelte-13djgby")},m(o,i){I(o,e,i),n||(r=O(e,"click",t[15]),n=!0)},p:E,d(o){o&&A(e),n=!1,r()}}}function $n(t){let e,n,r,o;const i=[En,Pn],l=[];function a(c,u){return c[5]?0:1}return n=a(t),r=l[n]=i[n](t),{c(){e=k("div"),r.c(),v(e,"class","video svelte-13djgby")},m(c,u){I(c,e,u),l[n].m(e,null),t[18](e),o=!0},p(c,[u]){let s=n;n=a(c),n===s?l[n].p(c,u):($e(),R(l[s],1,1,()=>{l[s]=null}),Te(),r=l[n],r?r.p(c,u):(r=l[n]=i[n](c),r.c()),D(r,1),r.m(e,null))},i(c){o||(D(r),o=!0)},o(c){R(r),o=!1},d(c){c&&A(e),l[n].d(),t[18](null)}}}function Tn(t){let[e,n,r]=t.replace(",",".").split(":").map(parseFloat);return e*3600+n*60+r}function Vn(t,e,n){let r,o,i=E,l=()=>(i(),i=oe(s,P=>n(5,o=P)),s),a,c=E,u=()=>(c(),c=oe(f,P=>n(17,a=P)),f);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>c());let{video:s}=e;l();let{source:f}=e;u();let p=!1,m=!1,g=null;function b(P){g!==P.detail.target&&(n(3,g=P.detail.target),console.log("Playing",P.detail.target),n(6,m=!0),C=setTimeout(()=>n(6,m=!1),3e3))}function _(P){if(console.log("Ended",P.detail.target),o!==null){const $=o.context.episodes;let U=$.indexOf(o);U<$.length-1&&s.set($[U+1])}}let h=[];async function y(P){n(4,h=[]);let $=await fetch(P);if(!$.ok)return console.error("Failed to fetch subtitle");let ne=(await $.text()).split(`

`);n(4,h=[]);let W=0;for(let de of ne)if(de.startsWith((W+1).toString()+`
`)){W++;const L=de.split(`
`),Y={start:-1,end:1,text:""};[Y.start,Y.end]=L[1].split(" --> ").map(Tn),Y.text=L.slice(2).join(`
`),h.push(Y)}}let d;function S(){Ge(),p?(document.exitFullscreen(),n(2,p=!1)):(d.requestFullscreen(),n(2,p=!0))}let C;function V(P){n(6,m=!0),C&&clearTimeout(C),C=setTimeout(()=>n(6,m=!1),3e3)}function w(){n(6,m=!1),C&&clearTimeout(C)}const T=P=>`${Math.floor(P/60)}:${(P%60).toFixed(2).padStart(5,"0")}`;function Q(){if(!g||!o)return;let P=g.getCurrentTime(),$=h.findIndex(Y=>P>=Y.start&&P<=Y.end);console.log($);let U,ne,W;$>0&&(U=`(${T(h[$-1].start)} - ${T(h[$-1].end)}) `+h[$-1].text),$!==-1&&$<h.length-1&&(W=`(${T(h[$+1].start)} - ${T(h[$+1].end)}) `+h[$+1].text),$!==-1&&(ne=`(${T(h[$].start)} - ${T(h[$].end)}) `+h[$].text);let de=`CC issue | ${o.name}, ${T(P)}`,L=`## Issue template (do not remove)
**Video**: ${o.name} <https://youtu.be/${o.id}>
â±ï¸ ${T(P)}`;U&&(L+=`
â®ï¸CC: ${U}`),ne&&(L+=`
ðŸŸ¦CC: ${ne}`),W&&(L+=`
â­ï¸CC: ${W}`),L+=`

## Describe the problem`,window.open(`https://github.com/cabalex/mcb-sub/issues/new?title=${de}&body=${encodeURIComponent(L)}`)}let je=localStorage.getItem("mcb-fullscreenTooltipShown")==="true";function Ge(){localStorage.setItem("mcb-fullscreenTooltipShown","true"),n(8,je=!0)}function Ct(P){ye[P?"unshift":"push"](()=>{d=P,n(7,d)})}return t.$$set=P=>{"video"in P&&l(n(0,s=P.video)),"source"in P&&u(n(1,f=P.source))},t.$$.update=()=>{t.$$.dirty&131104&&(o&&a?y(`./sub${a.path}/${o.id}.srt`):n(4,h=[])),t.$$.dirty&60&&n(9,r=!!o&&!!g&&h.length>0&&!p)},[s,f,p,g,h,o,m,d,je,r,b,_,S,V,w,Q,Ge,a,Ct]}class Mn extends fe{constructor(e){super(),ce(this,e,Vn,$n,te,{video:0,source:1})}}function xn(t){let e,n,r,o,i;return n=new Mn({props:{video:t[0],source:t[1]}}),o=new Xt({props:{video:t[0],source:t[1]}}),{c(){e=k("main"),we(n.$$.fragment),r=M(),we(o.$$.fragment),v(e,"class","svelte-1vgvhc4")},m(l,a){I(l,e,a),le(n,e,null),F(e,r),le(o,e,null),i=!0},p:E,i(l){i||(D(n.$$.fragment,l),D(o.$$.fragment,l),i=!0)},o(l){R(n.$$.fragment,l),R(o.$$.fragment,l),i=!1},d(l){l&&A(e),ue(n),ue(o)}}}function Nn(t,e,n){let r,o,i=Xe(null);Qe(t,i,s=>n(2,r=s));let l=Xe(null);Qe(t,l,s=>n(3,o=s));let a=new URLSearchParams(window.location.search),c=a.get("v"),u=a.get("s");if(c){for(let s of x)if(s.sources.length!==0){for(let f of s.episodes)if(f.id===c){i.set(f),l.set(s.sources.find(p=>p.path===u)||s.sources[0]);break}}}return Ye(()=>{i.subscribe(s=>{s!==null&&o!==null&&window.history.pushState({video:s,sub:o},"",`?v=${s.id}&s=${o.path}`)}),l.subscribe(s=>{s!==null&&r!==null&&window.history.pushState({video:s,sub:o},"",`?v=${r.id}&s=${s.path}`)})}),window.addEventListener("popstate",s=>{const f=s.state;f?(f.video?i.set(f.video):i.set(null),f.sub?l.set(f.sub):l.set(null)):(i.set(null),l.set(null))}),[i,l]}class Dn extends fe{constructor(e){super(),ce(this,e,Nn,xn,te,{})}}new Dn({target:document.getElementById("app")});
