var Ye=Object.defineProperty;var $e=(n,e,t)=>e in n?Ye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var se=(n,e,t)=>$e(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function P(){}function Ie(n){return n()}function _e(){return Object.create(null)}function T(n){n.forEach(Ie)}function Ne(n){return typeof n=="function"}function L(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let K;function oe(n,e){return n===e?!0:(K||(K=document.createElement("a")),K.href=e,n===K.href)}function ze(n){return Object.keys(n).length===0}function Me(n,...e){if(n==null){for(const r of e)r(void 0);return P}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function qe(n,e,t){n.$$.on_destroy.push(Me(e,t))}function W(n){return n??""}function C(n,e){n.appendChild(e)}function S(n,e,t){n.insertBefore(e,t||null)}function E(n){n.parentNode&&n.parentNode.removeChild(n)}function Ue(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function w(n){return document.createElement(n)}function be(n){return document.createTextNode(n)}function A(){return be(" ")}function De(){return be("")}function X(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function b(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Be(n){return Array.from(n.childNodes)}function je(n,e){e=""+e,n.data!==e&&(n.data=e)}function z(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function te(n,e,t){n.classList.toggle(e,!!t)}function Ge(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}let U;function q(n){U=n}function Ce(){if(!U)throw new Error("Function called outside component initialization");return U}function Oe(n){Ce().$$.on_mount.push(n)}function Qe(n){Ce().$$.on_destroy.push(n)}function Ze(){const n=Ce();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const o=Ge(e,t,{cancelable:r});return i.slice().forEach(a=>{a.call(n,o)}),!o.defaultPrevented}return!0}}const D=[],ne=[];let O=[];const we=[],Je=Promise.resolve();let ue=!1;function Ke(){ue||(ue=!0,Je.then(Te))}function ce(n){O.push(n)}const ie=new Set;let N=0;function Te(){if(N!==0)return;const n=U;do{try{for(;N<D.length;){const e=D[N];N++,q(e),We(e.$$)}}catch(e){throw D.length=0,N=0,e}for(q(null),D.length=0,N=0;ne.length;)ne.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];ie.has(t)||(ie.add(t),t())}O.length=0}while(D.length);for(;we.length;)we.pop()();ue=!1,ie.clear(),q(n)}function We(n){if(n.fragment!==null){n.update(),T(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ce)}}function Xe(n){const e=[],t=[];O.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),O=e}const ee=new Set;let I;function Le(){I={r:0,c:[],p:I}}function Re(){I.r||T(I.c),I=I.p}function k(n,e){n&&n.i&&(ee.delete(n),n.i(e))}function V(n,e,t,r){if(n&&n.o){if(ee.has(n))return;ee.add(n),I.c.push(()=>{ee.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function Fe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function re(n){n&&n.c()}function B(n,e,t){const{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),ce(()=>{const o=n.$$.on_mount.map(Ie).filter(Ne);n.$$.on_destroy?n.$$.on_destroy.push(...o):T(o),n.$$.on_mount=[]}),i.forEach(ce)}function j(n,e){const t=n.$$;t.fragment!==null&&(Xe(t.after_update),T(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function et(n,e){n.$$.dirty[0]===-1&&(D.push(n),Ke(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function G(n,e,t,r,i,o,a=null,d=[-1]){const c=U;q(n);const u=n.$$={fragment:null,ctx:[],props:o,update:P,not_equal:i,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_e(),dirty:d,skip_bound:!1,root:e.target||c.$$.root};a&&a(u.root);let s=!1;if(u.ctx=t?t(n,e.props||{},(l,f,...p)=>{const y=p.length?p[0]:f;return u.ctx&&i(u.ctx[l],u.ctx[l]=y)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](y),s&&et(n,l)),f}):[],u.update(),s=!0,T(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const l=Be(e.target);u.fragment&&u.fragment.l(l),l.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&k(n.$$.fragment),B(n,e.target,e.anchor),Te()}q(c)}class Q{constructor(){se(this,"$$");se(this,"$$set")}$destroy(){j(this,1),this.$destroy=P}$on(e,t){if(!Ne(t))return P;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ze(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tt);const M=[];function nt(n,e=P){let t;const r=new Set;function i(d){if(L(n,d)&&(n=d,t)){const c=!M.length;for(const u of r)u[1](),M.push(u,n);if(c){for(let u=0;u<M.length;u+=2)M[u][0](M[u+1]);M.length=0}}}function o(d){i(d(n))}function a(d,c=P){const u=[d,c];return r.add(u),r.size===1&&(t=e(i,o)||P),d(n),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:a}}const Y=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",language:"en",incomplete:!0,episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY",source:"dub"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU",source:"dub"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",language:"en",incomplete:!0,episodes:[]}];function Pe(n,e,t){const r=n.slice();return r[3]=e[t],r[5]=t,r}function Ee(n){let e,t,r,i,o,a,d,c,u,s,l,f,p;function y(){return n[2](n[3])}return{c(){e=w("button"),t=w("img"),i=A(),o=w("div"),a=w("h3"),a.textContent=`${n[3].name}`,d=A(),c=w("div"),u=w("span"),u.textContent=`Episode ${n[5]+1}`,s=A(),l=w("span"),l.textContent=`CC: ${n[3].source}`,oe(t.src,r=`https://img.youtube.com/vi/${n[3].id}/0.jpg`)||b(t,"src",r),b(t,"class","svelte-141ozn5"),b(a,"class","svelte-141ozn5"),b(u,"class","tag svelte-141ozn5"),b(l,"class","tag svelte-141ozn5"),z(l,"background-color","#777"),b(c,"class","tags"),b(o,"class","text svelte-141ozn5"),b(e,"class","episode svelte-141ozn5"),te(e,"active",n[1]===n[3])},m(m,h){S(m,e,h),C(e,t),C(e,i),C(e,o),C(o,a),C(o,d),C(o,c),C(c,u),C(c,s),C(c,l),f||(p=X(e,"click",y),f=!0)},p(m,h){n=m,h&2&&te(e,"active",n[1]===n[3])},d(m){m&&E(e),f=!1,p()}}}function rt(n){let e;return{c(){e=w("i"),e.textContent="Check back next week for new episodes!",z(e,"text-align","center"),z(e,"width","100%"),z(e,"display","block"),z(e,"padding","10px 0")},m(t,r){S(t,e,r)},d(t){t&&E(e)}}}function ot(n){let e,t,r,i,o,a,d,c,u,s,l,f,p=Fe(Y[$].episodes),y=[];for(let h=0;h<p.length;h+=1)y[h]=Ee(Pe(n,p,h));let m=rt();return{c(){e=w("div"),t=w("header"),r=w("img"),o=A(),a=w("div"),d=w("h2"),d.textContent=`${Y[$].title}`,c=A(),u=w("p"),u.textContent=`${Y[$].subtitle}`,s=A(),l=w("div");for(let h=0;h<y.length;h+=1)y[h].c();f=A(),m&&m.c(),oe(r.src,i=Y[$].icon)||b(r,"src",i),b(r,"class","svelte-141ozn5"),b(d,"class","svelte-141ozn5"),b(u,"class","svelte-141ozn5"),b(a,"class","text svelte-141ozn5"),b(t,"class","svelte-141ozn5"),b(l,"class","episodes svelte-141ozn5"),b(e,"class","playlist svelte-141ozn5")},m(h,_){S(h,e,_),C(e,t),C(t,r),C(t,o),C(t,a),C(a,d),C(a,c),C(a,u),C(e,s),C(e,l);for(let v=0;v<y.length;v+=1)y[v]&&y[v].m(l,null);C(l,f),m&&m.m(l,null)},p(h,[_]){if(_&3){p=Fe(Y[$].episodes);let v;for(v=0;v<p.length;v+=1){const g=Pe(h,p,v);y[v]?y[v].p(g,_):(y[v]=Ee(g),y[v].c(),y[v].m(l,f))}for(;v<y.length;v+=1)y[v].d(1);y.length=p.length}},i:P,o:P,d(h){h&&E(e),Ue(y,h),m&&m.d()}}}let $=0;function st(n,e,t){let r,i=P,o=()=>(i(),i=Me(a,c=>t(1,r=c)),a);n.$$.on_destroy.push(()=>i());let{video:a}=e;o();const d=c=>a.set(c);return n.$$set=c=>{"video"in c&&o(t(0,a=c.video))},[a,r,d]}class it extends Q{constructor(e){super(),G(this,e,st,ot,L,{video:0})}}function lt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fe={exports:{}},He;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/He=function(){var n={},e={};return n.on=function(t,r){var i={name:t,handler:r};return e[t]=e[t]||[],e[t].unshift(i),i},n.off=function(t){var r=e[t.name].indexOf(t);r!==-1&&e[t.name].splice(r,1)},n.trigger=function(t,r){var i=e[t],o;if(i)for(o=i.length;o--;)i[o].handler(r)},n};var at=He,de={exports:{}},pe={exports:{}},le,Se;function ut(){if(Se)return le;Se=1;var n=1e3,e=n*60,t=e*60,r=t*24,i=r*7,o=r*365.25;le=function(s,l){l=l||{};var f=typeof s;if(f==="string"&&s.length>0)return a(s);if(f==="number"&&isFinite(s))return l.long?c(s):d(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function a(s){if(s=String(s),!(s.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(l){var f=parseFloat(l[1]),p=(l[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function d(s){var l=Math.abs(s);return l>=r?Math.round(s/r)+"d":l>=t?Math.round(s/t)+"h":l>=e?Math.round(s/e)+"m":l>=n?Math.round(s/n)+"s":s+"ms"}function c(s){var l=Math.abs(s);return l>=r?u(s,l,r,"day"):l>=t?u(s,l,t,"hour"):l>=e?u(s,l,e,"minute"):l>=n?u(s,l,n,"second"):s+" ms"}function u(s,l,f,p){var y=l>=f*1.5;return Math.round(s/f)+" "+p+(y?"s":"")}return le}function ct(n){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=a,t.humanize=ut(),t.destroy=u,Object.keys(n).forEach(s=>{t[s]=n[s]}),t.names=[],t.skips=[],t.formatters={};function e(s){let l=0;for(let f=0;f<s.length;f++)l=(l<<5)-l+s.charCodeAt(f),l|=0;return t.colors[Math.abs(l)%t.colors.length]}t.selectColor=e;function t(s){let l,f=null,p,y;function m(...h){if(!m.enabled)return;const _=m,v=Number(new Date),g=v-(l||v);_.diff=g,_.prev=l,_.curr=v,l=v,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let F=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(x,H)=>{if(x==="%%")return"%";F++;const Z=t.formatters[H];if(typeof Z=="function"){const J=h[F];x=Z.call(_,J),h.splice(F,1),F--}return x}),t.formatArgs.call(_,h),(_.log||t.log).apply(_,h)}return m.namespace=s,m.useColors=t.useColors(),m.color=t.selectColor(s),m.extend=r,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==t.namespaces&&(p=t.namespaces,y=t.enabled(s)),y),set:h=>{f=h}}),typeof t.init=="function"&&t.init(m),m}function r(s,l){const f=t(this.namespace+(typeof l>"u"?":":l)+s);return f.log=this.log,f}function i(s){t.save(s),t.namespaces=s,t.names=[],t.skips=[];let l;const f=(typeof s=="string"?s:"").split(/[\s,]+/),p=f.length;for(l=0;l<p;l++)f[l]&&(s=f[l].replace(/\*/g,".*?"),s[0]==="-"?t.skips.push(new RegExp("^"+s.slice(1)+"$")):t.names.push(new RegExp("^"+s+"$")))}function o(){const s=[...t.names.map(d),...t.skips.map(d).map(l=>"-"+l)].join(",");return t.enable(""),s}function a(s){if(s[s.length-1]==="*")return!0;let l,f;for(l=0,f=t.skips.length;l<f;l++)if(t.skips[l].test(s))return!1;for(l=0,f=t.names.length;l<f;l++)if(t.names[l].test(s))return!0;return!1}function d(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function c(s){return s instanceof Error?s.stack||s.message:s}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var ft=ct;(function(n,e){var t={};e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=d(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;u.splice(1,0,s,"color: inherit");let l=0,f=0;u[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(l++,p==="%c"&&(f=l))}),u.splice(f,0,s)}e.log=console.debug||console.log||(()=>{});function o(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function a(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}function d(){try{return localStorage}catch{}}n.exports=ft(e);const{formatters:c}=n.exports;c.j=function(u){try{return JSON.stringify(u)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(pe,pe.exports);var dt=pe.exports,he={exports:{}},ge={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(ge,ge.exports);var pt=ge.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=pt,r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(he,he.exports);var ht=he.exports,me={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(me,me.exports);var gt=me.exports,ve={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(ve,ve.exports);var mt=ve.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=dt,r=s(t),i=ht,o=s(i),a=gt,d=s(a),c=mt,u=s(c);function s(p){return p&&p.__esModule?p:{default:p}}const l=(0,r.default)("youtube-player"),f={};f.proxyEvents=p=>{const y={};for(const m of d.default){const h="on"+m.slice(0,1).toUpperCase()+m.slice(1);y[h]=_=>{l('event "%s"',h,_),p.trigger(m,_)}}return y},f.promisifyPlayer=(p,y=!1)=>{const m={};for(const h of u.default)y&&o.default[h]?m[h]=(..._)=>p.then(v=>{const g=o.default[h],F=v.getPlayerState(),R=v[h].apply(v,_);return g.stateChangeRequired||Array.isArray(g.acceptableStates)&&!g.acceptableStates.includes(F)?new Promise(x=>{const H=()=>{const Z=v.getPlayerState();let J;typeof g.timeout=="number"&&(J=setTimeout(()=>{v.removeEventListener("onStateChange",H),x()},g.timeout)),Array.isArray(g.acceptableStates)&&g.acceptableStates.includes(Z)&&(v.removeEventListener("onStateChange",H),clearTimeout(J),x())};v.addEventListener("onStateChange",H)}).then(()=>R):R}):m[h]=(..._)=>p.then(v=>v[h].apply(v,_));return m},e.default=f,n.exports=e.default})(de,de.exports);var vt=de.exports,ye={exports:{}},yt=function(e,t,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof t=="function"&&(r=t,t={}),t=t||{},r=r||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async="async"in t?!!t.async:!0,o.src=e,t.attrs&&bt(o,t.attrs),t.text&&(o.text=""+t.text);var a="onload"in o?ke:Ct;a(o,r),o.onload||ke(o,r),i.appendChild(o)};function bt(n,e){for(var t in e)n.setAttribute(t,e[t])}function ke(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function Ct(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=yt,r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=o=>new Promise(d=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){d(window.YT);return}else{const u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",s=>{s&&o.trigger("error",s)})}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c&&c(),d(window.YT)}}),n.exports=e.default})(ye,ye.exports);var _t=ye.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=at,r=c(t),i=vt,o=c(i),a=_t,d=c(a);function c(s){return s&&s.__esModule?s:{default:s}}let u;e.default=(s,l={},f=!1)=>{const p=(0,r.default)();if(u||(u=(0,d.default)(p)),l.events)throw new Error("Event handlers cannot be overwritten.");if(typeof s=="string"&&!document.getElementById(s))throw new Error('Element "'+s+'" does not exist.');l.events=o.default.proxyEvents(p);const y=new Promise(h=>{typeof s=="object"&&s.playVideo instanceof Function?h(s):u.then(_=>{const v=new _.Player(s,l);return p.on("ready",()=>{h(v)}),null})}),m=o.default.promisifyPlayer(y,f);return m.on=p.on,m.off=p.off,m},n.exports=e.default})(fe,fe.exports);var wt=fe.exports;const Ft=lt(wt);function Pt(n){let e,t,r,i;return{c(){e=w("div"),t=w("div"),b(t,"id",n[0]),b(t,"class",r=W(n[1]?"responsive-player":"")+" svelte-bvyk3m"),b(e,"class",i=W((n[2]?n[2]:"")+(n[1]?" responsive-container":""))+" svelte-bvyk3m")},m(o,a){S(o,e,a),C(e,t),n[6](t)},p(o,[a]){a&1&&b(t,"id",o[0]),a&2&&r!==(r=W(o[1]?"responsive-player":"")+" svelte-bvyk3m")&&b(t,"class",r),a&6&&i!==(i=W((o[2]?o[2]:"")+(o[1]?" responsive-container":""))+" svelte-bvyk3m")&&b(e,"class",i)},i:P,o:P,d(o){o&&E(e),n[6](null)}}}const ae={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Et(n,e,t){let{id:r=void 0}=e,{videoId:i}=e,{options:o=void 0}=e,{responsive:a=!1}=e,{class:d}=e,c,u;Oe(()=>s());function s(){return u=Ft(c,o),u.on("ready",p),u.on("error",y),u.on("stateChange",m),u.on("playbackRateChange",h),u.on("playbackQualityChange",_),()=>u.destroy()}function l(g){u&&g&&(o&&o.playerVars&&o.playerVars.autoplay===1?u.loadVideoById(g):u.cueVideoById(g))}const f=Ze();function p(g){f("ready",g),l(i)}function y(g){f("error",g)}function m(g){switch(f("stateChange",g),g.data){case ae.ENDED:f("end",g);break;case ae.PLAYING:f("play",g);break;case ae.PAUSED:f("pause",g);break}}function h(g){f("playbackRateChange",g)}function _(g){f("playbackQualityChange",g)}function v(g){ne[g?"unshift":"push"](()=>{c=g,t(3,c)})}return n.$$set=g=>{"id"in g&&t(0,r=g.id),"videoId"in g&&t(4,i=g.videoId),"options"in g&&t(5,o=g.options),"responsive"in g&&t(1,a=g.responsive),"class"in g&&t(2,d=g.class)},n.$$.update=()=>{n.$$.dirty&16&&l(i)},[r,a,d,c,i,o,v]}class St extends Q{constructor(e){super(),G(this,e,Et,Pt,L,{id:0,videoId:4,options:5,responsive:1,class:2})}}function Ae(n){let e,t,r;return{c(){e=w("div"),t=w("div"),r=be(n[1]),b(t,"class","subtitle svelte-1croqas"),b(e,"class","subtitleArea svelte-1croqas"),te(e,"hover",n[0])},m(i,o){S(i,e,o),C(e,t),C(t,r)},p(i,o){o&2&&je(r,i[1]),o&1&&te(e,"hover",i[0])},d(i){i&&E(e)}}}function kt(n){let e,t=n[1]&&Ae(n);return{c(){t&&t.c(),e=De()},m(r,i){t&&t.m(r,i),S(r,e,i)},p(r,[i]){r[1]?t?t.p(r,i):(t=Ae(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:P,o:P,d(r){r&&E(e),t&&t.d(r)}}}function At(n,e,t){let{subtitles:r}=e,{target:i}=e,{hover:o}=e,a=null,d=null;function c(){if(!i)return;let s=i.getCurrentTime();if(d!==s){for(let l of r)if(s>=l.start&&s<=l.end){d=s,t(1,a=l.text);return}t(1,a=null)}}let u;return Oe(()=>{u=setInterval(c,100)}),Qe(()=>{clearInterval(u)}),n.$$set=s=>{"subtitles"in s&&t(2,r=s.subtitles),"target"in s&&t(3,i=s.target),"hover"in s&&t(0,o=s.hover)},[o,a,r,i]}class Vt extends Q{constructor(e){super(),G(this,e,At,kt,L,{subtitles:2,target:3,hover:0})}}const xt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",It="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Ve(n){let e,t,r,i;e=new St({props:{videoId:n[0].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),e.$on("play",n[6]);let o=n[3]&&xe(n);return{c(){re(e.$$.fragment),t=A(),o&&o.c(),r=De()},m(a,d){B(e,a,d),S(a,t,d),o&&o.m(a,d),S(a,r,d),i=!0},p(a,d){const c={};d&1&&(c.videoId=a[0].id),e.$set(c),a[3]?o?(o.p(a,d),d&8&&k(o,1)):(o=xe(a),o.c(),k(o,1),o.m(r.parentNode,r)):o&&(Le(),V(o,1,1,()=>{o=null}),Re())},i(a){i||(k(e.$$.fragment,a),k(o),i=!0)},o(a){V(e.$$.fragment,a),V(o),i=!1},d(a){a&&(E(t),E(r)),j(e,a),o&&o.d(a)}}}function xe(n){let e,t,r,i=!1;return t=new Vt({props:{subtitles:n[4],target:n[3],hover:n[2]}}),{c(){e=A(),re(t.$$.fragment)},m(o,a){S(o,e,a),B(t,o,a),r=!0},p(o,a){const d={};a&16&&(d.subtitles=o[4]),a&8&&(d.target=o[3]),a&4&&(d.hover=o[2]),t.$set(d)},i(o){r||(k(i),k(t.$$.fragment,o),r=!0)},o(o){V(i),V(t.$$.fragment,o),r=!1},d(o){o&&E(e),j(t,o)}}}function Nt(n){let e,t;return{c(){e=w("img"),b(e,"width","24px"),b(e,"height","24px"),oe(e.src,t=xt)||b(e,"src",t),b(e,"alt","Enter Fullscreen")},m(r,i){S(r,e,i)},d(r){r&&E(e)}}}function Mt(n){let e,t;return{c(){e=w("img"),b(e,"width","24px"),b(e,"height","24px"),oe(e.src,t=It)||b(e,"src",t),b(e,"alt","Exit Fullscreen")},m(r,i){S(r,e,i)},d(r){r&&E(e)}}}function Dt(n){let e,t,r,i,o,a,d,c=n[0]&&Ve(n);function u(f,p){return f[1]?Mt:Nt}let s=u(n),l=s(n);return{c(){e=w("div"),t=w("div"),c&&c.c(),r=A(),i=w("button"),l.c(),b(t,"class","videoInner svelte-1a9aieh"),b(i,"class","fullscreenBtn svelte-1a9aieh"),b(e,"class","video svelte-1a9aieh")},m(f,p){S(f,e,p),C(e,t),c&&c.m(t,null),C(e,r),C(e,i),l.m(i,null),n[8](e),o=!0,a||(d=[X(i,"click",n[7]),X(e,"mouseover",n[9]),X(e,"mouseout",n[10])],a=!0)},p(f,[p]){f[0]?c?(c.p(f,p),p&1&&k(c,1)):(c=Ve(f),c.c(),k(c,1),c.m(t,null)):c&&(Le(),V(c,1,1,()=>{c=null}),Re()),s!==(s=u(f))&&(l.d(1),l=s(f),l&&(l.c(),l.m(i,null)))},i(f){o||(k(c),o=!0)},o(f){V(c),o=!1},d(f){f&&E(e),c&&c.d(),l.d(),n[8](null),a=!1,T(d)}}}function Ot(n){let[e,t,r]=n.replace(",",".").split(":").map(parseFloat);return e*3600+t*60+r}function Tt(n,e,t){let{video:r}=e,i=!1,o=!1,a=null;function d(m){a!==m.detail.target&&(t(3,a=m.detail.target),console.log("Playing",m.detail.target))}let c=[];async function u(m){t(4,c=[]);let h=await fetch(m);if(!h.ok)return console.error("Failed to fetch subtitle");let v=(await h.text()).split(`
`);t(4,c=[]);let g={start:-1,end:1,text:""},F=0;for(;F<v.length;){if(v[F].includes("-->")){let[R,x]=v[F].split(" --> ").map(Ot);for(g.start=R,g.end=x,F++;v[F].trim()!=="";)g.text+=v[F]+`
`,F++;c.push(g),g={start:-1,end:1,text:""}}F++}console.log(c)}let s;function l(){i?(document.exitFullscreen(),t(1,i=!1)):(s.requestFullscreen(),t(1,i=!0))}function f(m){ne[m?"unshift":"push"](()=>{s=m,t(5,s)})}const p=()=>t(2,o=!0),y=()=>t(2,o=!1);return n.$$set=m=>{"video"in m&&t(0,r=m.video)},n.$$.update=()=>{n.$$.dirty&1&&(r?u(`./sub/${r.id}.srt`):t(4,c=[]))},[r,i,o,a,c,s,d,l,f,p,y]}class Lt extends Q{constructor(e){super(),G(this,e,Tt,Dt,L,{video:0})}}function Rt(n){let e,t,r,i,o;return t=new Lt({props:{video:n[0]}}),i=new it({props:{video:n[1]}}),{c(){e=w("main"),re(t.$$.fragment),r=A(),re(i.$$.fragment),b(e,"class","svelte-1vgvhc4")},m(a,d){S(a,e,d),B(t,e,null),C(e,r),B(i,e,null),o=!0},p(a,[d]){const c={};d&1&&(c.video=a[0]),t.$set(c)},i(a){o||(k(t.$$.fragment,a),k(i.$$.fragment,a),o=!0)},o(a){V(t.$$.fragment,a),V(i.$$.fragment,a),o=!1},d(a){a&&E(e),j(t),j(i)}}}function Ht(n,e,t){let r,i=nt(null);return qe(n,i,o=>t(0,r=o)),[r,i]}class Yt extends Q{constructor(e){super(),G(this,e,Ht,Rt,L,{})}}new Yt({target:document.getElementById("app")});
