var Be=Object.defineProperty;var $e=(n,e,t)=>e in n?Be(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ie=(n,e,t)=>$e(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function E(){}function xe(n){return n()}function we(){return Object.create(null)}function H(n){n.forEach(xe)}function Te(n){return typeof n=="function"}function Y(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let K;function se(n,e){return n===e?!0:(K||(K=document.createElement("a")),K.href=e,n===K.href)}function je(n){return Object.keys(n).length===0}function De(n,...e){if(n==null){for(const o of e)o(void 0);return E}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ze(n,e,t){n.$$.on_destroy.push(De(e,t))}function X(n){return n??""}function w(n,e){n.appendChild(e)}function P(n,e,t){n.insertBefore(e,t||null)}function F(n){n.parentNode&&n.parentNode.removeChild(n)}function Oe(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function C(n){return document.createElement(n)}function _e(n){return document.createTextNode(n)}function V(){return _e(" ")}function Re(){return _e("")}function x(n,e,t,o){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}function y(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ge(n){return Array.from(n.childNodes)}function Qe(n,e){e=""+e,n.data!==e&&(n.data=e)}function B(n,e,t,o){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function te(n,e,t){n.classList.toggle(e,!!t)}function Je(n,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:o})}let j;function $(n){j=n}function Ce(){if(!j)throw new Error("Function called outside component initialization");return j}function Le(n){Ce().$$.on_mount.push(n)}function We(n){Ce().$$.on_destroy.push(n)}function Ze(){const n=Ce();return(e,t,{cancelable:o=!1}={})=>{const s=n.$$.callbacks[e];if(s){const r=Je(e,t,{cancelable:o});return s.slice().forEach(l=>{l.call(n,r)}),!r.defaultPrevented}return!0}}const R=[],ne=[];let L=[];const Fe=[],Ke=Promise.resolve();let ce=!1;function Xe(){ce||(ce=!0,Ke.then(He))}function fe(n){L.push(n)}const le=new Set;let D=0;function He(){if(D!==0)return;const n=j;do{try{for(;D<R.length;){const e=R[D];D++,$(e),et(e.$$)}}catch(e){throw R.length=0,D=0,e}for($(null),R.length=0,D=0;ne.length;)ne.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];le.has(t)||(le.add(t),t())}L.length=0}while(R.length);for(;Fe.length;)Fe.pop()();ce=!1,le.clear(),$(n)}function et(n){if(n.fragment!==null){n.update(),H(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(fe)}}function tt(n){const e=[],t=[];L.forEach(o=>n.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),L=e}const ee=new Set;let T;function Ye(){T={r:0,c:[],p:T}}function qe(){T.r||H(T.c),T=T.p}function A(n,e){n&&n.i&&(ee.delete(n),n.i(e))}function I(n,e,t,o){if(n&&n.o){if(ee.has(n))return;ee.add(n),T.c.push(()=>{ee.delete(n),o&&(t&&n.d(1),o())}),n.o(e)}else o&&o()}function re(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function oe(n){n&&n.c()}function z(n,e,t){const{fragment:o,after_update:s}=n.$$;o&&o.m(e,t),fe(()=>{const r=n.$$.on_mount.map(xe).filter(Te);n.$$.on_destroy?n.$$.on_destroy.push(...r):H(r),n.$$.on_mount=[]}),s.forEach(fe)}function G(n,e){const t=n.$$;t.fragment!==null&&(tt(t.after_update),H(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nt(n,e){n.$$.dirty[0]===-1&&(R.push(n),Xe(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Q(n,e,t,o,s,r,l=null,a=[-1]){const d=j;$(n);const c=n.$$={fragment:null,ctx:[],props:r,update:E,not_equal:s,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:we(),dirty:a,skip_bound:!1,root:e.target||d.$$.root};l&&l(c.root);let i=!1;if(c.ctx=t?t(n,e.props||{},(u,f,...m)=>{const b=m.length?m[0]:f;return c.ctx&&s(c.ctx[u],c.ctx[u]=b)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](b),i&&nt(n,u)),f}):[],c.update(),i=!0,H(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const u=Ge(e.target);c.fragment&&c.fragment.l(u),u.forEach(F)}else c.fragment&&c.fragment.c();e.intro&&A(n.$$.fragment),z(n,e.target,e.anchor),He()}$(d)}class J{constructor(){ie(this,"$$");ie(this,"$$set")}$destroy(){G(this,1),this.$destroy=E}$on(e,t){if(!Te(t))return E;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const s=o.indexOf(t);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rt);const O=[];function ot(n,e=E){let t;const o=new Set;function s(a){if(Y(n,a)&&(n=a,t)){const d=!O.length;for(const c of o)c[1](),O.push(c,n);if(d){for(let c=0;c<O.length;c+=2)O[c][0](O[c+1]);O.length=0}}}function r(a){s(a(n))}function l(a,d=E){const c=[a,d];return o.add(c),o.size===1&&(t=e(s,r)||E),a(n),()=>{o.delete(c),o.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:l}}const q=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",language:"en",incomplete:!0,episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY",source:"dub"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU",source:"dub"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs",source:"dub"},{name:"The Black Ambulance",id:"52W_cb1f1ao",source:"dub"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI",source:"dub"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0",source:"dub"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ",source:"dub"},{name:"The Secret is Out!",id:"jzz3UOpvuV0",source:"dub"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw",source:"dub"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk",source:"dub"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",language:"en",incomplete:!0,episodes:[]}];function Pe(n,e,t){const o=n.slice();return o[3]=e[t],o[5]=t,o}function Ee(n){let e,t,o,s,r,l,a,d,c,i,u,f,m;function b(){return n[2](n[3])}return{c(){e=C("button"),t=C("img"),s=V(),r=C("div"),l=C("h3"),l.textContent=`${n[3].name}`,a=V(),d=C("div"),c=C("span"),c.textContent=`Episode ${n[5]+1}`,i=V(),u=C("span"),u.textContent=`CC: ${n[3].source}`,se(t.src,o=`https://img.youtube.com/vi/${n[3].id}/0.jpg`)||y(t,"src",o),y(t,"class","svelte-aironl"),y(l,"class","svelte-aironl"),y(c,"class","tag svelte-aironl"),y(u,"class","tag svelte-aironl"),B(u,"background-color","#777"),y(d,"class","tags"),y(r,"class","text svelte-aironl"),y(e,"class","episode svelte-aironl"),te(e,"active",n[1]===n[3])},m(g,p){P(g,e,p),w(e,t),w(e,s),w(e,r),w(r,l),w(r,a),w(r,d),w(d,c),w(d,i),w(d,u),f||(m=x(e,"click",b),f=!0)},p(g,p){n=g,p&2&&te(e,"active",n[1]===n[3])},d(g){g&&F(e),f=!1,m()}}}function st(n){let e;return{c(){e=C("i"),e.textContent="Check back next week for new episodes!",B(e,"text-align","center"),B(e,"width","100%"),B(e,"display","block"),B(e,"padding","10px 0")},m(t,o){P(t,e,o)},d(t){t&&F(e)}}}function it(n){let e,t,o,s,r,l,a,d,c,i,u,f,m=re(q[U].episodes),b=[];for(let p=0;p<m.length;p+=1)b[p]=Ee(Pe(n,m,p));let g=st();return{c(){e=C("div"),t=C("header"),o=C("img"),r=V(),l=C("div"),a=C("h2"),a.textContent=`${q[U].title}`,d=V(),c=C("p"),c.textContent=`${q[U].subtitle}`,i=V(),u=C("div");for(let p=0;p<b.length;p+=1)b[p].c();f=V(),g&&g.c(),se(o.src,s=q[U].icon)||y(o,"src",s),y(o,"class","svelte-aironl"),y(a,"class","svelte-aironl"),y(c,"class","svelte-aironl"),y(l,"class","text svelte-aironl"),y(t,"class","svelte-aironl"),y(u,"class","episodes svelte-aironl"),y(e,"class","playlist svelte-aironl")},m(p,_){P(p,e,_),w(e,t),w(t,o),w(t,r),w(t,l),w(l,a),w(l,d),w(l,c),w(e,i),w(e,u);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(u,null);w(u,f),g&&g.m(u,null)},p(p,[_]){if(_&3){m=re(q[U].episodes);let v;for(v=0;v<m.length;v+=1){const h=Pe(p,m,v);b[v]?b[v].p(h,_):(b[v]=Ee(h),b[v].c(),b[v].m(u,f))}for(;v<b.length;v+=1)b[v].d(1);b.length=m.length}},i:E,o:E,d(p){p&&F(e),Oe(b,p),g&&g.d()}}}let U=0;function lt(n,e,t){let o,s=E,r=()=>(s(),s=De(l,d=>t(1,o=d)),l);n.$$.on_destroy.push(()=>s());let{video:l}=e;r();const a=d=>l.set(d);return n.$$set=d=>{"video"in d&&r(t(0,l=d.video))},[l,o,a]}class ut extends J{constructor(e){super(),Q(this,e,lt,it,Y,{video:0})}}function at(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var de={exports:{}},Ue;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Ue=function(){var n={},e={};return n.on=function(t,o){var s={name:t,handler:o};return e[t]=e[t]||[],e[t].unshift(s),s},n.off=function(t){var o=e[t.name].indexOf(t);o!==-1&&e[t.name].splice(o,1)},n.trigger=function(t,o){var s=e[t],r;if(s)for(r=s.length;r--;)s[r].handler(o)},n};var ct=Ue,pe={exports:{}},he={exports:{}},ue,ke;function ft(){if(ke)return ue;ke=1;var n=1e3,e=n*60,t=e*60,o=t*24,s=o*7,r=o*365.25;ue=function(i,u){u=u||{};var f=typeof i;if(f==="string"&&i.length>0)return l(i);if(f==="number"&&isFinite(i))return u.long?d(i):a(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function l(i){if(i=String(i),!(i.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(u){var f=parseFloat(u[1]),m=(u[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*r;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*o;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(i){var u=Math.abs(i);return u>=o?Math.round(i/o)+"d":u>=t?Math.round(i/t)+"h":u>=e?Math.round(i/e)+"m":u>=n?Math.round(i/n)+"s":i+"ms"}function d(i){var u=Math.abs(i);return u>=o?c(i,u,o,"day"):u>=t?c(i,u,t,"hour"):u>=e?c(i,u,e,"minute"):u>=n?c(i,u,n,"second"):i+" ms"}function c(i,u,f,m){var b=u>=f*1.5;return Math.round(i/f)+" "+m+(b?"s":"")}return ue}function dt(n){t.debug=t,t.default=t,t.coerce=d,t.disable=r,t.enable=s,t.enabled=l,t.humanize=ft(),t.destroy=c,Object.keys(n).forEach(i=>{t[i]=n[i]}),t.names=[],t.skips=[],t.formatters={};function e(i){let u=0;for(let f=0;f<i.length;f++)u=(u<<5)-u+i.charCodeAt(f),u|=0;return t.colors[Math.abs(u)%t.colors.length]}t.selectColor=e;function t(i){let u,f=null,m,b;function g(...p){if(!g.enabled)return;const _=g,v=Number(new Date),h=v-(u||v);_.diff=h,_.prev=u,_.curr=v,u=v,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let k=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(M,N)=>{if(M==="%%")return"%";k++;const W=t.formatters[N];if(typeof W=="function"){const Z=p[k];M=W.call(_,Z),p.splice(k,1),k--}return M}),t.formatArgs.call(_,p),(_.log||t.log).apply(_,p)}return g.namespace=i,g.useColors=t.useColors(),g.color=t.selectColor(i),g.extend=o,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==t.namespaces&&(m=t.namespaces,b=t.enabled(i)),b),set:p=>{f=p}}),typeof t.init=="function"&&t.init(g),g}function o(i,u){const f=t(this.namespace+(typeof u>"u"?":":u)+i);return f.log=this.log,f}function s(i){t.save(i),t.namespaces=i,t.names=[],t.skips=[];let u;const f=(typeof i=="string"?i:"").split(/[\s,]+/),m=f.length;for(u=0;u<m;u++)f[u]&&(i=f[u].replace(/\*/g,".*?"),i[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))}function r(){const i=[...t.names.map(a),...t.skips.map(a).map(u=>"-"+u)].join(",");return t.enable(""),i}function l(i){if(i[i.length-1]==="*")return!0;let u,f;for(u=0,f=t.skips.length;u<f;u++)if(t.skips[u].test(i))return!1;for(u=0,f=t.names.length;u<f;u++)if(t.names[u].test(i))return!0;return!1}function a(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function d(i){return i instanceof Error?i.stack||i.message:i}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var pt=dt;(function(n,e){var t={};e.formatArgs=s,e.save=r,e.load=l,e.useColors=o,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;c.splice(1,0,i,"color: inherit");let u=0,f=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(u++,m==="%c"&&(f=u))}),c.splice(f,0,i)}e.log=console.debug||console.log||(()=>{});function r(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function l(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=t.DEBUG),c}function a(){try{return localStorage}catch{}}n.exports=pt(e);const{formatters:d}=n.exports;d.j=function(c){try{return JSON.stringify(c)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(he,he.exports);var ht=he.exports,me={exports:{}},ge={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(ge,ge.exports);var mt=ge.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=mt,o=s(t);function s(r){return r&&r.__esModule?r:{default:r}}e.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(me,me.exports);var gt=me.exports,ve={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(ve,ve.exports);var vt=ve.exports,ye={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(ye,ye.exports);var yt=ye.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=ht,o=i(t),s=gt,r=i(s),l=vt,a=i(l),d=yt,c=i(d);function i(m){return m&&m.__esModule?m:{default:m}}const u=(0,o.default)("youtube-player"),f={};f.proxyEvents=m=>{const b={};for(const g of a.default){const p="on"+g.slice(0,1).toUpperCase()+g.slice(1);b[p]=_=>{u('event "%s"',p,_),m.trigger(g,_)}}return b},f.promisifyPlayer=(m,b=!1)=>{const g={};for(const p of c.default)b&&r.default[p]?g[p]=(..._)=>m.then(v=>{const h=r.default[p],k=v.getPlayerState(),S=v[p].apply(v,_);return h.stateChangeRequired||Array.isArray(h.acceptableStates)&&!h.acceptableStates.includes(k)?new Promise(M=>{const N=()=>{const W=v.getPlayerState();let Z;typeof h.timeout=="number"&&(Z=setTimeout(()=>{v.removeEventListener("onStateChange",N),M()},h.timeout)),Array.isArray(h.acceptableStates)&&h.acceptableStates.includes(W)&&(v.removeEventListener("onStateChange",N),clearTimeout(Z),M())};v.addEventListener("onStateChange",N)}).then(()=>S):S}):g[p]=(..._)=>m.then(v=>v[p].apply(v,_));return g},e.default=f,n.exports=e.default})(pe,pe.exports);var bt=pe.exports,be={exports:{}},_t=function(e,t,o){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");typeof t=="function"&&(o=t,t={}),t=t||{},o=o||function(){},r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.async="async"in t?!!t.async:!0,r.src=e,t.attrs&&Ct(r,t.attrs),t.text&&(r.text=""+t.text);var l="onload"in r?Se:wt;l(r,o),r.onload||Se(r,o),s.appendChild(r)};function Ct(n,e){for(var t in e)n.setAttribute(t,e[t])}function Se(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function wt(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=_t,o=s(t);function s(r){return r&&r.__esModule?r:{default:r}}e.default=r=>new Promise(a=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{const c=window.location.protocol==="http:"?"http:":"https:";(0,o.default)(c+"//www.youtube.com/iframe_api",i=>{i&&r.trigger("error",i)})}const d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{d&&d(),a(window.YT)}}),n.exports=e.default})(be,be.exports);var Ft=be.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=ct,o=d(t),s=bt,r=d(s),l=Ft,a=d(l);function d(i){return i&&i.__esModule?i:{default:i}}let c;e.default=(i,u={},f=!1)=>{const m=(0,o.default)();if(c||(c=(0,a.default)(m)),u.events)throw new Error("Event handlers cannot be overwritten.");if(typeof i=="string"&&!document.getElementById(i))throw new Error('Element "'+i+'" does not exist.');u.events=r.default.proxyEvents(m);const b=new Promise(p=>{typeof i=="object"&&i.playVideo instanceof Function?p(i):c.then(_=>{const v=new _.Player(i,u);return m.on("ready",()=>{p(v)}),null})}),g=r.default.promisifyPlayer(b,f);return g.on=m.on,g.off=m.off,g},n.exports=e.default})(de,de.exports);var Pt=de.exports;const Et=at(Pt);function kt(n){let e,t,o,s;return{c(){e=C("div"),t=C("div"),y(t,"id",n[0]),y(t,"class",o=X(n[1]?"responsive-player":"")+" svelte-bvyk3m"),y(e,"class",s=X((n[2]?n[2]:"")+(n[1]?" responsive-container":""))+" svelte-bvyk3m")},m(r,l){P(r,e,l),w(e,t),n[6](t)},p(r,[l]){l&1&&y(t,"id",r[0]),l&2&&o!==(o=X(r[1]?"responsive-player":"")+" svelte-bvyk3m")&&y(t,"class",o),l&6&&s!==(s=X((r[2]?r[2]:"")+(r[1]?" responsive-container":""))+" svelte-bvyk3m")&&y(e,"class",s)},i:E,o:E,d(r){r&&F(e),n[6](null)}}}const ae={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function St(n,e,t){let{id:o=void 0}=e,{videoId:s}=e,{options:r=void 0}=e,{responsive:l=!1}=e,{class:a}=e,d,c;Le(()=>i());function i(){return c=Et(d,r),c.on("ready",m),c.on("error",b),c.on("stateChange",g),c.on("playbackRateChange",p),c.on("playbackQualityChange",_),()=>c.destroy()}function u(h){c&&h&&(r&&r.playerVars&&r.playerVars.autoplay===1?c.loadVideoById(h):c.cueVideoById(h))}const f=Ze();function m(h){f("ready",h),u(s)}function b(h){f("error",h)}function g(h){switch(f("stateChange",h),h.data){case ae.ENDED:f("end",h);break;case ae.PLAYING:f("play",h);break;case ae.PAUSED:f("pause",h);break}}function p(h){f("playbackRateChange",h)}function _(h){f("playbackQualityChange",h)}function v(h){ne[h?"unshift":"push"](()=>{d=h,t(3,d)})}return n.$$set=h=>{"id"in h&&t(0,o=h.id),"videoId"in h&&t(4,s=h.videoId),"options"in h&&t(5,r=h.options),"responsive"in h&&t(1,l=h.responsive),"class"in h&&t(2,a=h.class)},n.$$.update=()=>{n.$$.dirty&16&&u(s)},[o,l,a,d,s,r,v]}class At extends J{constructor(e){super(),Q(this,e,St,kt,Y,{id:0,videoId:4,options:5,responsive:1,class:2})}}function Ae(n,e,t){const o=n.slice();return o[7]=e[t],o}function Ve(n){let e,t,o=re(n[1].split(" ")),s=[];for(let r=0;r<o.length;r+=1)s[r]=Ie(Ae(n,o,r));return{c(){e=C("div"),t=C("div");for(let r=0;r<s.length;r+=1)s[r].c();y(t,"class","subtitle svelte-1hudm0h"),y(e,"class","subtitleArea svelte-1hudm0h"),te(e,"hover",n[0])},m(r,l){P(r,e,l),w(e,t);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null)},p(r,l){if(l&2){o=re(r[1].split(" "));let a;for(a=0;a<o.length;a+=1){const d=Ae(r,o,a);s[a]?s[a].p(d,l):(s[a]=Ie(d),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}l&1&&te(e,"hover",r[0])},d(r){r&&F(e),Oe(s,r)}}}function Ie(n){let e,t=n[7]+"",o;return{c(){e=C("span"),o=_e(t),y(e,"class","svelte-1hudm0h")},m(s,r){P(s,e,r),w(e,o)},p(s,r){r&2&&t!==(t=s[7]+"")&&Qe(o,t)},d(s){s&&F(e)}}}function Vt(n){let e,t=n[1]&&Ve(n);return{c(){t&&t.c(),e=Re()},m(o,s){t&&t.m(o,s),P(o,e,s)},p(o,[s]){o[1]?t?t.p(o,s):(t=Ve(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:E,o:E,d(o){o&&F(e),t&&t.d(o)}}}function It(n,e,t){let{subtitles:o}=e,{target:s}=e,{hover:r}=e,l=null,a=null;function d(){if(!s)return;let i=s.getCurrentTime();if(a!==i){for(let u of o)if(i>=u.start&&i<=u.end){a=i,t(1,l=u.text);return}t(1,l=null)}}let c;return Le(()=>{c=setInterval(d,10)}),We(()=>{clearInterval(c)}),n.$$set=i=>{"subtitles"in i&&t(2,o=i.subtitles),"target"in i&&t(3,s=i.target),"hover"in i&&t(0,r=i.hover)},[r,l,o,s]}class Mt extends J{constructor(e){super(),Q(this,e,It,Vt,Y,{subtitles:2,target:3,hover:0})}}const Nt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",xt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Me(n){let e,t,o,s;e=new At({props:{videoId:n[0].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),e.$on("play",n[6]);let r=n[3]&&Ne(n);return{c(){oe(e.$$.fragment),t=V(),r&&r.c(),o=Re()},m(l,a){z(e,l,a),P(l,t,a),r&&r.m(l,a),P(l,o,a),s=!0},p(l,a){const d={};a&1&&(d.videoId=l[0].id),e.$set(d),l[3]?r?(r.p(l,a),a&8&&A(r,1)):(r=Ne(l),r.c(),A(r,1),r.m(o.parentNode,o)):r&&(Ye(),I(r,1,1,()=>{r=null}),qe())},i(l){s||(A(e.$$.fragment,l),A(r),s=!0)},o(l){I(e.$$.fragment,l),I(r),s=!1},d(l){l&&(F(t),F(o)),G(e,l),r&&r.d(l)}}}function Ne(n){let e,t,o,s=!1;return t=new Mt({props:{subtitles:n[4],target:n[3],hover:n[2]}}),{c(){e=V(),oe(t.$$.fragment)},m(r,l){P(r,e,l),z(t,r,l),o=!0},p(r,l){const a={};l&16&&(a.subtitles=r[4]),l&8&&(a.target=r[3]),l&4&&(a.hover=r[2]),t.$set(a)},i(r){o||(A(s),A(t.$$.fragment,r),o=!0)},o(r){I(s),I(t.$$.fragment,r),o=!1},d(r){r&&F(e),G(t,r)}}}function Tt(n){let e;return{c(){e=C("h1"),e.textContent="Choose an episode! ➡️",y(e,"class","svelte-11k8yb5")},m(t,o){P(t,e,o)},p:E,d(t){t&&F(e)}}}function Dt(n){let e,t,o;function s(a,d){return a[1]?Rt:Ot}let r=s(n),l=r(n);return{c(){e=C("button"),l.c(),y(e,"class","fullscreenBtn svelte-11k8yb5")},m(a,d){P(a,e,d),l.m(e,null),t||(o=x(e,"click",n[7]),t=!0)},p(a,d){r!==(r=s(a))&&(l.d(1),l=r(a),l&&(l.c(),l.m(e,null)))},d(a){a&&F(e),l.d(),t=!1,o()}}}function Ot(n){let e,t;return{c(){e=C("img"),y(e,"width","24px"),y(e,"height","24px"),se(e.src,t=Nt)||y(e,"src",t),y(e,"alt","Enter Fullscreen")},m(o,s){P(o,e,s)},d(o){o&&F(e)}}}function Rt(n){let e,t;return{c(){e=C("img"),y(e,"width","24px"),y(e,"height","24px"),se(e.src,t=xt)||y(e,"src",t),y(e,"alt","Exit Fullscreen")},m(o,s){P(o,e,s)},d(o){o&&F(e)}}}function Lt(n){let e,t,o,s,r,l,a=n[0]&&Me(n);function d(u,f){return u[0]?Dt:Tt}let c=d(n),i=c(n);return{c(){e=C("div"),t=C("div"),a&&a.c(),o=V(),i.c(),y(t,"class","videoInner svelte-11k8yb5"),y(e,"class","video svelte-11k8yb5")},m(u,f){P(u,e,f),w(e,t),a&&a.m(t,null),w(e,o),i.m(e,null),n[10](e),s=!0,r||(l=[x(e,"focus",n[8]),x(e,"mouseover",n[8]),x(e,"mousemove",n[8]),x(e,"mouseout",n[9]),x(e,"blur",n[9])],r=!0)},p(u,[f]){u[0]?a?(a.p(u,f),f&1&&A(a,1)):(a=Me(u),a.c(),A(a,1),a.m(t,null)):a&&(Ye(),I(a,1,1,()=>{a=null}),qe()),c===(c=d(u))&&i?i.p(u,f):(i.d(1),i=c(u),i&&(i.c(),i.m(e,null)))},i(u){s||(A(a),s=!0)},o(u){I(a),s=!1},d(u){u&&F(e),a&&a.d(),i.d(),n[10](null),r=!1,H(l)}}}function Ht(n){let[e,t,o]=n.replace(",",".").split(":").map(parseFloat);return e*3600+t*60+o}function Yt(n,e,t){let{video:o}=e,s=!1,r=!1,l=null;function a(p){l!==p.detail.target&&(t(3,l=p.detail.target),console.log("Playing",p.detail.target),t(2,r=!0),f=setTimeout(()=>t(2,r=!1),3e3))}let d=[];async function c(p){t(4,d=[]);let _=await fetch(p);if(!_.ok)return console.error("Failed to fetch subtitle");let h=(await _.text()).split(`
`);t(4,d=[]);let k={start:-1,end:1,text:""},S=0;for(;S<h.length;){if(h[S].includes("-->")){let[M,N]=h[S].split(" --> ").map(Ht);for(k.start=M,k.end=N,S++;h[S].trim()!=="";)k.text+=h[S]+`
`,S++;d.push(k),k={start:-1,end:1,text:""}}S++}console.log(d)}let i;function u(){s?(document.exitFullscreen(),t(1,s=!1)):(i.requestFullscreen(),t(1,s=!0))}let f;function m(p){t(2,r=!0),f&&clearTimeout(f),f=setTimeout(()=>t(2,r=!1),3e3)}function b(){t(2,r=!1),f&&clearTimeout(f)}function g(p){ne[p?"unshift":"push"](()=>{i=p,t(5,i)})}return n.$$set=p=>{"video"in p&&t(0,o=p.video)},n.$$.update=()=>{n.$$.dirty&1&&(o?c(`./sub/${o.id}.srt`):t(4,d=[]))},[o,s,r,l,d,i,a,u,m,b,g]}class qt extends J{constructor(e){super(),Q(this,e,Yt,Lt,Y,{video:0})}}function Ut(n){let e,t,o,s,r;return t=new qt({props:{video:n[0]}}),s=new ut({props:{video:n[1]}}),{c(){e=C("main"),oe(t.$$.fragment),o=V(),oe(s.$$.fragment),y(e,"class","svelte-1vgvhc4")},m(l,a){P(l,e,a),z(t,e,null),w(e,o),z(s,e,null),r=!0},p(l,[a]){const d={};a&1&&(d.video=l[0]),t.$set(d)},i(l){r||(A(t.$$.fragment,l),A(s.$$.fragment,l),r=!0)},o(l){I(t.$$.fragment,l),I(s.$$.fragment,l),r=!1},d(l){l&&F(e),G(t),G(s)}}}function Bt(n,e,t){let o,s=ot(null);return ze(n,s,r=>t(0,o=r)),[o,s]}class $t extends J{constructor(e){super(),Q(this,e,Bt,Ut,Y,{})}}new $t({target:document.getElementById("app")});
