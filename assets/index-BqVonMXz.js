var Ye=Object.defineProperty;var $e=(n,e,t)=>e in n?Ye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var se=(n,e,t)=>$e(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function E(){}function Ie(n){return n()}function Ce(){return Object.create(null)}function T(n){n.forEach(Ie)}function Ne(n){return typeof n=="function"}function L(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let K;function oe(n,e){return n===e?!0:(K||(K=document.createElement("a")),K.href=e,n===K.href)}function ze(n){return Object.keys(n).length===0}function Me(n,...e){if(n==null){for(const r of e)r(void 0);return E}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function qe(n,e,t){n.$$.on_destroy.push(Me(e,t))}function W(n){return n??""}function w(n,e){n.appendChild(e)}function k(n,e,t){n.insertBefore(e,t||null)}function F(n){n.parentNode&&n.parentNode.removeChild(n)}function Ue(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function _(n){return document.createElement(n)}function be(n){return document.createTextNode(n)}function A(){return be(" ")}function De(){return be("")}function ee(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function v(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Be(n){return Array.from(n.childNodes)}function je(n,e){e=""+e,n.data!==e&&(n.data=e)}function z(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function te(n,e,t){n.classList.toggle(e,!!t)}function Ge(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}let U;function q(n){U=n}function _e(){if(!U)throw new Error("Function called outside component initialization");return U}function Oe(n){_e().$$.on_mount.push(n)}function Qe(n){_e().$$.on_destroy.push(n)}function Ze(){const n=_e();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const o=Ge(e,t,{cancelable:r});return i.slice().forEach(a=>{a.call(n,o)}),!o.defaultPrevented}return!0}}const D=[],ne=[];let O=[];const we=[],Je=Promise.resolve();let ue=!1;function Ke(){ue||(ue=!0,Je.then(Te))}function ce(n){O.push(n)}const ie=new Set;let N=0;function Te(){if(N!==0)return;const n=U;do{try{for(;N<D.length;){const e=D[N];N++,q(e),We(e.$$)}}catch(e){throw D.length=0,N=0,e}for(q(null),D.length=0,N=0;ne.length;)ne.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];ie.has(t)||(ie.add(t),t())}O.length=0}while(D.length);for(;we.length;)we.pop()();ue=!1,ie.clear(),q(n)}function We(n){if(n.fragment!==null){n.update(),T(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ce)}}function Xe(n){const e=[],t=[];O.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),O=e}const X=new Set;let I;function Le(){I={r:0,c:[],p:I}}function Re(){I.r||T(I.c),I=I.p}function S(n,e){n&&n.i&&(X.delete(n),n.i(e))}function V(n,e,t,r){if(n&&n.o){if(X.has(n))return;X.add(n),I.c.push(()=>{X.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function Fe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function re(n){n&&n.c()}function B(n,e,t){const{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),ce(()=>{const o=n.$$.on_mount.map(Ie).filter(Ne);n.$$.on_destroy?n.$$.on_destroy.push(...o):T(o),n.$$.on_mount=[]}),i.forEach(ce)}function j(n,e){const t=n.$$;t.fragment!==null&&(Xe(t.after_update),T(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function et(n,e){n.$$.dirty[0]===-1&&(D.push(n),Ke(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function G(n,e,t,r,i,o,a=null,c=[-1]){const d=U;q(n);const u=n.$$={fragment:null,ctx:[],props:o,update:E,not_equal:i,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Ce(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};a&&a(u.root);let s=!1;if(u.ctx=t?t(n,e.props||{},(l,f,...m)=>{const b=m.length?m[0]:f;return u.ctx&&i(u.ctx[l],u.ctx[l]=b)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](b),s&&et(n,l)),f}):[],u.update(),s=!0,T(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const l=Be(e.target);u.fragment&&u.fragment.l(l),l.forEach(F)}else u.fragment&&u.fragment.c();e.intro&&S(n.$$.fragment),B(n,e.target,e.anchor),Te()}q(d)}class Q{constructor(){se(this,"$$");se(this,"$$set")}$destroy(){j(this,1),this.$destroy=E}$on(e,t){if(!Ne(t))return E;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ze(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tt);const M=[];function nt(n,e=E){let t;const r=new Set;function i(c){if(L(n,c)&&(n=c,t)){const d=!M.length;for(const u of r)u[1](),M.push(u,n);if(d){for(let u=0;u<M.length;u+=2)M[u][0](M[u+1]);M.length=0}}}function o(c){i(c(n))}function a(c,d=E){const u=[c,d];return r.add(u),r.size===1&&(t=e(i,o)||E),c(n),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:a}}const Y=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",language:"en",incomplete:!0,episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY",source:"dub"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU",source:"dub"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",language:"en",incomplete:!0,episodes:[]}];function Pe(n,e,t){const r=n.slice();return r[3]=e[t],r[5]=t,r}function Ee(n){let e,t,r,i,o,a,c,d,u,s,l,f,m;function b(){return n[2](n[3])}return{c(){e=_("button"),t=_("img"),i=A(),o=_("div"),a=_("h3"),a.textContent=`${n[3].name}`,c=A(),d=_("div"),u=_("span"),u.textContent=`Episode ${n[5]+1}`,s=A(),l=_("span"),l.textContent=`CC: ${n[3].source}`,oe(t.src,r=`https://img.youtube.com/vi/${n[3].id}/0.jpg`)||v(t,"src",r),v(t,"class","svelte-141ozn5"),v(a,"class","svelte-141ozn5"),v(u,"class","tag svelte-141ozn5"),v(l,"class","tag svelte-141ozn5"),z(l,"background-color","#777"),v(d,"class","tags"),v(o,"class","text svelte-141ozn5"),v(e,"class","episode svelte-141ozn5"),te(e,"active",n[1]===n[3])},m(g,p){k(g,e,p),w(e,t),w(e,i),w(e,o),w(o,a),w(o,c),w(o,d),w(d,u),w(d,s),w(d,l),f||(m=ee(e,"click",b),f=!0)},p(g,p){n=g,p&2&&te(e,"active",n[1]===n[3])},d(g){g&&F(e),f=!1,m()}}}function rt(n){let e;return{c(){e=_("i"),e.textContent="Check back next week for new episodes!",z(e,"text-align","center"),z(e,"width","100%"),z(e,"display","block"),z(e,"padding","10px 0")},m(t,r){k(t,e,r)},d(t){t&&F(e)}}}function ot(n){let e,t,r,i,o,a,c,d,u,s,l,f,m=Fe(Y[$].episodes),b=[];for(let p=0;p<m.length;p+=1)b[p]=Ee(Pe(n,m,p));let g=rt();return{c(){e=_("div"),t=_("header"),r=_("img"),o=A(),a=_("div"),c=_("h2"),c.textContent=`${Y[$].title}`,d=A(),u=_("p"),u.textContent=`${Y[$].subtitle}`,s=A(),l=_("div");for(let p=0;p<b.length;p+=1)b[p].c();f=A(),g&&g.c(),oe(r.src,i=Y[$].icon)||v(r,"src",i),v(r,"class","svelte-141ozn5"),v(c,"class","svelte-141ozn5"),v(u,"class","svelte-141ozn5"),v(a,"class","text svelte-141ozn5"),v(t,"class","svelte-141ozn5"),v(l,"class","episodes svelte-141ozn5"),v(e,"class","playlist svelte-141ozn5")},m(p,C){k(p,e,C),w(e,t),w(t,r),w(t,o),w(t,a),w(a,c),w(a,d),w(a,u),w(e,s),w(e,l);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(l,null);w(l,f),g&&g.m(l,null)},p(p,[C]){if(C&3){m=Fe(Y[$].episodes);let y;for(y=0;y<m.length;y+=1){const h=Pe(p,m,y);b[y]?b[y].p(h,C):(b[y]=Ee(h),b[y].c(),b[y].m(l,f))}for(;y<b.length;y+=1)b[y].d(1);b.length=m.length}},i:E,o:E,d(p){p&&F(e),Ue(b,p),g&&g.d()}}}let $=0;function st(n,e,t){let r,i=E,o=()=>(i(),i=Me(a,d=>t(1,r=d)),a);n.$$.on_destroy.push(()=>i());let{video:a}=e;o();const c=d=>a.set(d);return n.$$set=d=>{"video"in d&&o(t(0,a=d.video))},[a,r,c]}class it extends Q{constructor(e){super(),G(this,e,st,ot,L,{video:0})}}function lt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fe={exports:{}},He;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/He=function(){var n={},e={};return n.on=function(t,r){var i={name:t,handler:r};return e[t]=e[t]||[],e[t].unshift(i),i},n.off=function(t){var r=e[t.name].indexOf(t);r!==-1&&e[t.name].splice(r,1)},n.trigger=function(t,r){var i=e[t],o;if(i)for(o=i.length;o--;)i[o].handler(r)},n};var at=He,de={exports:{}},pe={exports:{}},le,ke;function ut(){if(ke)return le;ke=1;var n=1e3,e=n*60,t=e*60,r=t*24,i=r*7,o=r*365.25;le=function(s,l){l=l||{};var f=typeof s;if(f==="string"&&s.length>0)return a(s);if(f==="number"&&isFinite(s))return l.long?d(s):c(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function a(s){if(s=String(s),!(s.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(l){var f=parseFloat(l[1]),m=(l[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function c(s){var l=Math.abs(s);return l>=r?Math.round(s/r)+"d":l>=t?Math.round(s/t)+"h":l>=e?Math.round(s/e)+"m":l>=n?Math.round(s/n)+"s":s+"ms"}function d(s){var l=Math.abs(s);return l>=r?u(s,l,r,"day"):l>=t?u(s,l,t,"hour"):l>=e?u(s,l,e,"minute"):l>=n?u(s,l,n,"second"):s+" ms"}function u(s,l,f,m){var b=l>=f*1.5;return Math.round(s/f)+" "+m+(b?"s":"")}return le}function ct(n){t.debug=t,t.default=t,t.coerce=d,t.disable=o,t.enable=i,t.enabled=a,t.humanize=ut(),t.destroy=u,Object.keys(n).forEach(s=>{t[s]=n[s]}),t.names=[],t.skips=[],t.formatters={};function e(s){let l=0;for(let f=0;f<s.length;f++)l=(l<<5)-l+s.charCodeAt(f),l|=0;return t.colors[Math.abs(l)%t.colors.length]}t.selectColor=e;function t(s){let l,f=null,m,b;function g(...p){if(!g.enabled)return;const C=g,y=Number(new Date),h=y-(l||y);C.diff=h,C.prev=l,C.curr=y,l=y,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let P=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(x,H)=>{if(x==="%%")return"%";P++;const Z=t.formatters[H];if(typeof Z=="function"){const J=p[P];x=Z.call(C,J),p.splice(P,1),P--}return x}),t.formatArgs.call(C,p),(C.log||t.log).apply(C,p)}return g.namespace=s,g.useColors=t.useColors(),g.color=t.selectColor(s),g.extend=r,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==t.namespaces&&(m=t.namespaces,b=t.enabled(s)),b),set:p=>{f=p}}),typeof t.init=="function"&&t.init(g),g}function r(s,l){const f=t(this.namespace+(typeof l>"u"?":":l)+s);return f.log=this.log,f}function i(s){t.save(s),t.namespaces=s,t.names=[],t.skips=[];let l;const f=(typeof s=="string"?s:"").split(/[\s,]+/),m=f.length;for(l=0;l<m;l++)f[l]&&(s=f[l].replace(/\*/g,".*?"),s[0]==="-"?t.skips.push(new RegExp("^"+s.slice(1)+"$")):t.names.push(new RegExp("^"+s+"$")))}function o(){const s=[...t.names.map(c),...t.skips.map(c).map(l=>"-"+l)].join(",");return t.enable(""),s}function a(s){if(s[s.length-1]==="*")return!0;let l,f;for(l=0,f=t.skips.length;l<f;l++)if(t.skips[l].test(s))return!1;for(l=0,f=t.names.length;l<f;l++)if(t.names[l].test(s))return!0;return!1}function c(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function d(s){return s instanceof Error?s.stack||s.message:s}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var ft=ct;(function(n,e){var t={};e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=c(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;u.splice(1,0,s,"color: inherit");let l=0,f=0;u[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(l++,m==="%c"&&(f=l))}),u.splice(f,0,s)}e.log=console.debug||console.log||(()=>{});function o(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function a(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}function c(){try{return localStorage}catch{}}n.exports=ft(e);const{formatters:d}=n.exports;d.j=function(u){try{return JSON.stringify(u)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(pe,pe.exports);var dt=pe.exports,he={exports:{}},ge={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(ge,ge.exports);var pt=ge.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=pt,r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(he,he.exports);var ht=he.exports,me={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(me,me.exports);var gt=me.exports,ye={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(ye,ye.exports);var mt=ye.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=dt,r=s(t),i=ht,o=s(i),a=gt,c=s(a),d=mt,u=s(d);function s(m){return m&&m.__esModule?m:{default:m}}const l=(0,r.default)("youtube-player"),f={};f.proxyEvents=m=>{const b={};for(const g of c.default){const p="on"+g.slice(0,1).toUpperCase()+g.slice(1);b[p]=C=>{l('event "%s"',p,C),m.trigger(g,C)}}return b},f.promisifyPlayer=(m,b=!1)=>{const g={};for(const p of u.default)b&&o.default[p]?g[p]=(...C)=>m.then(y=>{const h=o.default[p],P=y.getPlayerState(),R=y[p].apply(y,C);return h.stateChangeRequired||Array.isArray(h.acceptableStates)&&!h.acceptableStates.includes(P)?new Promise(x=>{const H=()=>{const Z=y.getPlayerState();let J;typeof h.timeout=="number"&&(J=setTimeout(()=>{y.removeEventListener("onStateChange",H),x()},h.timeout)),Array.isArray(h.acceptableStates)&&h.acceptableStates.includes(Z)&&(y.removeEventListener("onStateChange",H),clearTimeout(J),x())};y.addEventListener("onStateChange",H)}).then(()=>R):R}):g[p]=(...C)=>m.then(y=>y[p].apply(y,C));return g},e.default=f,n.exports=e.default})(de,de.exports);var yt=de.exports,ve={exports:{}},vt=function(e,t,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof t=="function"&&(r=t,t={}),t=t||{},r=r||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async="async"in t?!!t.async:!0,o.src=e,t.attrs&&bt(o,t.attrs),t.text&&(o.text=""+t.text);var a="onload"in o?Se:_t;a(o,r),o.onload||Se(o,r),i.appendChild(o)};function bt(n,e){for(var t in e)n.setAttribute(t,e[t])}function Se(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function _t(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=vt,r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=o=>new Promise(c=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){c(window.YT);return}else{const u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",s=>{s&&o.trigger("error",s)})}const d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{d&&d(),c(window.YT)}}),n.exports=e.default})(ve,ve.exports);var Ct=ve.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=at,r=d(t),i=yt,o=d(i),a=Ct,c=d(a);function d(s){return s&&s.__esModule?s:{default:s}}let u;e.default=(s,l={},f=!1)=>{const m=(0,r.default)();if(u||(u=(0,c.default)(m)),l.events)throw new Error("Event handlers cannot be overwritten.");if(typeof s=="string"&&!document.getElementById(s))throw new Error('Element "'+s+'" does not exist.');l.events=o.default.proxyEvents(m);const b=new Promise(p=>{typeof s=="object"&&s.playVideo instanceof Function?p(s):u.then(C=>{const y=new C.Player(s,l);return m.on("ready",()=>{p(y)}),null})}),g=o.default.promisifyPlayer(b,f);return g.on=m.on,g.off=m.off,g},n.exports=e.default})(fe,fe.exports);var wt=fe.exports;const Ft=lt(wt);function Pt(n){let e,t,r,i;return{c(){e=_("div"),t=_("div"),v(t,"id",n[0]),v(t,"class",r=W(n[1]?"responsive-player":"")+" svelte-bvyk3m"),v(e,"class",i=W((n[2]?n[2]:"")+(n[1]?" responsive-container":""))+" svelte-bvyk3m")},m(o,a){k(o,e,a),w(e,t),n[6](t)},p(o,[a]){a&1&&v(t,"id",o[0]),a&2&&r!==(r=W(o[1]?"responsive-player":"")+" svelte-bvyk3m")&&v(t,"class",r),a&6&&i!==(i=W((o[2]?o[2]:"")+(o[1]?" responsive-container":""))+" svelte-bvyk3m")&&v(e,"class",i)},i:E,o:E,d(o){o&&F(e),n[6](null)}}}const ae={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function Et(n,e,t){let{id:r=void 0}=e,{videoId:i}=e,{options:o=void 0}=e,{responsive:a=!1}=e,{class:c}=e,d,u;Oe(()=>s());function s(){return u=Ft(d,o),u.on("ready",m),u.on("error",b),u.on("stateChange",g),u.on("playbackRateChange",p),u.on("playbackQualityChange",C),()=>u.destroy()}function l(h){u&&h&&(o&&o.playerVars&&o.playerVars.autoplay===1?u.loadVideoById(h):u.cueVideoById(h))}const f=Ze();function m(h){f("ready",h),l(i)}function b(h){f("error",h)}function g(h){switch(f("stateChange",h),h.data){case ae.ENDED:f("end",h);break;case ae.PLAYING:f("play",h);break;case ae.PAUSED:f("pause",h);break}}function p(h){f("playbackRateChange",h)}function C(h){f("playbackQualityChange",h)}function y(h){ne[h?"unshift":"push"](()=>{d=h,t(3,d)})}return n.$$set=h=>{"id"in h&&t(0,r=h.id),"videoId"in h&&t(4,i=h.videoId),"options"in h&&t(5,o=h.options),"responsive"in h&&t(1,a=h.responsive),"class"in h&&t(2,c=h.class)},n.$$.update=()=>{n.$$.dirty&16&&l(i)},[r,a,c,d,i,o,y]}class kt extends Q{constructor(e){super(),G(this,e,Et,Pt,L,{id:0,videoId:4,options:5,responsive:1,class:2})}}function Ae(n){let e,t,r;return{c(){e=_("div"),t=_("div"),r=be(n[1]),v(t,"class","subtitle svelte-1croqas"),v(e,"class","subtitleArea svelte-1croqas"),te(e,"hover",n[0])},m(i,o){k(i,e,o),w(e,t),w(t,r)},p(i,o){o&2&&je(r,i[1]),o&1&&te(e,"hover",i[0])},d(i){i&&F(e)}}}function St(n){let e,t=n[1]&&Ae(n);return{c(){t&&t.c(),e=De()},m(r,i){t&&t.m(r,i),k(r,e,i)},p(r,[i]){r[1]?t?t.p(r,i):(t=Ae(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:E,o:E,d(r){r&&F(e),t&&t.d(r)}}}function At(n,e,t){let{subtitles:r}=e,{target:i}=e,{hover:o}=e,a=null,c=null;function d(){if(!i)return;let s=i.getCurrentTime();if(c!==s){for(let l of r)if(s>=l.start&&s<=l.end){c=s,t(1,a=l.text);return}t(1,a=null)}}let u;return Oe(()=>{u=setInterval(d,100)}),Qe(()=>{clearInterval(u)}),n.$$set=s=>{"subtitles"in s&&t(2,r=s.subtitles),"target"in s&&t(3,i=s.target),"hover"in s&&t(0,o=s.hover)},[o,a,r,i]}class Vt extends Q{constructor(e){super(),G(this,e,At,St,L,{subtitles:2,target:3,hover:0})}}const xt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",It="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Ve(n){let e,t,r,i;e=new kt({props:{videoId:n[0].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),e.$on("play",n[6]);let o=n[3]&&xe(n);return{c(){re(e.$$.fragment),t=A(),o&&o.c(),r=De()},m(a,c){B(e,a,c),k(a,t,c),o&&o.m(a,c),k(a,r,c),i=!0},p(a,c){const d={};c&1&&(d.videoId=a[0].id),e.$set(d),a[3]?o?(o.p(a,c),c&8&&S(o,1)):(o=xe(a),o.c(),S(o,1),o.m(r.parentNode,r)):o&&(Le(),V(o,1,1,()=>{o=null}),Re())},i(a){i||(S(e.$$.fragment,a),S(o),i=!0)},o(a){V(e.$$.fragment,a),V(o),i=!1},d(a){a&&(F(t),F(r)),j(e,a),o&&o.d(a)}}}function xe(n){let e,t,r,i=!1;return t=new Vt({props:{subtitles:n[4],target:n[3],hover:n[2]}}),{c(){e=A(),re(t.$$.fragment)},m(o,a){k(o,e,a),B(t,o,a),r=!0},p(o,a){const c={};a&16&&(c.subtitles=o[4]),a&8&&(c.target=o[3]),a&4&&(c.hover=o[2]),t.$set(c)},i(o){r||(S(i),S(t.$$.fragment,o),r=!0)},o(o){V(i),V(t.$$.fragment,o),r=!1},d(o){o&&F(e),j(t,o)}}}function Nt(n){let e;return{c(){e=_("h1"),e.textContent="Load a video to get started! ➡️",v(e,"class","svelte-11k8yb5")},m(t,r){k(t,e,r)},p:E,d(t){t&&F(e)}}}function Mt(n){let e,t,r;function i(c,d){return c[1]?Ot:Dt}let o=i(n),a=o(n);return{c(){e=_("button"),a.c(),v(e,"class","fullscreenBtn svelte-11k8yb5")},m(c,d){k(c,e,d),a.m(e,null),t||(r=ee(e,"click",n[7]),t=!0)},p(c,d){o!==(o=i(c))&&(a.d(1),a=o(c),a&&(a.c(),a.m(e,null)))},d(c){c&&F(e),a.d(),t=!1,r()}}}function Dt(n){let e,t;return{c(){e=_("img"),v(e,"width","24px"),v(e,"height","24px"),oe(e.src,t=xt)||v(e,"src",t),v(e,"alt","Enter Fullscreen")},m(r,i){k(r,e,i)},d(r){r&&F(e)}}}function Ot(n){let e,t;return{c(){e=_("img"),v(e,"width","24px"),v(e,"height","24px"),oe(e.src,t=It)||v(e,"src",t),v(e,"alt","Exit Fullscreen")},m(r,i){k(r,e,i)},d(r){r&&F(e)}}}function Tt(n){let e,t,r,i,o,a,c=n[0]&&Ve(n);function d(l,f){return l[0]?Mt:Nt}let u=d(n),s=u(n);return{c(){e=_("div"),t=_("div"),c&&c.c(),r=A(),s.c(),v(t,"class","videoInner svelte-11k8yb5"),v(e,"class","video svelte-11k8yb5")},m(l,f){k(l,e,f),w(e,t),c&&c.m(t,null),w(e,r),s.m(e,null),n[8](e),i=!0,o||(a=[ee(e,"mouseover",n[9]),ee(e,"mouseout",n[10])],o=!0)},p(l,[f]){l[0]?c?(c.p(l,f),f&1&&S(c,1)):(c=Ve(l),c.c(),S(c,1),c.m(t,null)):c&&(Le(),V(c,1,1,()=>{c=null}),Re()),u===(u=d(l))&&s?s.p(l,f):(s.d(1),s=u(l),s&&(s.c(),s.m(e,null)))},i(l){i||(S(c),i=!0)},o(l){V(c),i=!1},d(l){l&&F(e),c&&c.d(),s.d(),n[8](null),o=!1,T(a)}}}function Lt(n){let[e,t,r]=n.replace(",",".").split(":").map(parseFloat);return e*3600+t*60+r}function Rt(n,e,t){let{video:r}=e,i=!1,o=!1,a=null;function c(g){a!==g.detail.target&&(t(3,a=g.detail.target),console.log("Playing",g.detail.target))}let d=[];async function u(g){t(4,d=[]);let p=await fetch(g);if(!p.ok)return console.error("Failed to fetch subtitle");let y=(await p.text()).split(`
`);t(4,d=[]);let h={start:-1,end:1,text:""},P=0;for(;P<y.length;){if(y[P].includes("-->")){let[R,x]=y[P].split(" --> ").map(Lt);for(h.start=R,h.end=x,P++;y[P].trim()!=="";)h.text+=y[P]+`
`,P++;d.push(h),h={start:-1,end:1,text:""}}P++}console.log(d)}let s;function l(){i?(document.exitFullscreen(),t(1,i=!1)):(s.requestFullscreen(),t(1,i=!0))}function f(g){ne[g?"unshift":"push"](()=>{s=g,t(5,s)})}const m=()=>t(2,o=!0),b=()=>t(2,o=!1);return n.$$set=g=>{"video"in g&&t(0,r=g.video)},n.$$.update=()=>{n.$$.dirty&1&&(r?u(`./sub/${r.id}.srt`):t(4,d=[]))},[r,i,o,a,d,s,c,l,f,m,b]}class Ht extends Q{constructor(e){super(),G(this,e,Rt,Tt,L,{video:0})}}function Yt(n){let e,t,r,i,o;return t=new Ht({props:{video:n[0]}}),i=new it({props:{video:n[1]}}),{c(){e=_("main"),re(t.$$.fragment),r=A(),re(i.$$.fragment),v(e,"class","svelte-1vgvhc4")},m(a,c){k(a,e,c),B(t,e,null),w(e,r),B(i,e,null),o=!0},p(a,[c]){const d={};c&1&&(d.video=a[0]),t.$set(d)},i(a){o||(S(t.$$.fragment,a),S(i.$$.fragment,a),o=!0)},o(a){V(t.$$.fragment,a),V(i.$$.fragment,a),o=!1},d(a){a&&F(e),j(t),j(i)}}}function $t(n,e,t){let r,i=nt(null);return qe(n,i,o=>t(0,r=o)),[r,i]}class zt extends Q{constructor(e){super(),G(this,e,$t,Yt,L,{})}}new zt({target:document.getElementById("app")});
