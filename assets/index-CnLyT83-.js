var Ct=Object.defineProperty;var wt=(t,e,n)=>e in t?Ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ke=(t,e,n)=>wt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function P(){}const Ft=t=>t;function dt(t){return t()}function ze(){return Object.create(null)}function G(t){t.forEach(dt)}function Le(t){return typeof t=="function"}function te(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let de;function ue(t,e){return t===e?!0:(de||(de=document.createElement("a")),de.href=e,t===de.href)}function kt(t){return Object.keys(t).length===0}function ge(t,...e){if(t==null){for(const r of e)r(void 0);return P}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function pe(t){return t??""}const pt=typeof window<"u";let St=pt?()=>window.performance.now():()=>Date.now(),qe=pt?t=>requestAnimationFrame(t):P;const K=new Set;function ht(t){K.forEach(e=>{e.c(t)||(K.delete(e),e.f())}),K.size!==0&&qe(ht)}function Et(t){let e;return K.size===0&&qe(ht),{promise:new Promise(n=>{K.add(e={c:t,f:n})}),abort(){K.delete(e)}}}function F(t,e){t.appendChild(e)}function mt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Pt(t){const e=k("style");return e.textContent="/* empty */",At(mt(t),e),e.sheet}function At(t,e){return F(t.head||t,e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function j(t){return document.createTextNode(t)}function M(){return j(" ")}function Be(){return j("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Tt(t){return Array.from(t.childNodes)}function It(t,e){e=""+e,t.data!==e&&(t.data=e)}function $t(t,e){t.value=e??""}function he(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ge(t,e,n){for(let r=0;r<t.options.length;r+=1){const o=t.options[r];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Vt(t){const e=t.querySelector(":checked");return e&&e.__value}function H(t,e,n){t.classList.toggle(e,!!n)}function gt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const ve=new Map;let be=0;function Mt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function xt(t,e){const n={stylesheet:Pt(e),rules:{}};return ve.set(t,n),n}function Qe(t,e,n,r,o,i,u,a=0){const c=16.666/r;let s=`{
`;for(let _=0;_<=1;_+=c){const h=e+(n-e)*i(_);s+=_*100+`%{${u(h,1-h)}}
`}const l=s+`100% {${u(n,1-n)}}
}`,f=`__svelte_${Mt(l)}_${a}`,p=mt(t),{stylesheet:m,rules:g}=ve.get(p)||xt(p,t);g[f]||(g[f]=!0,m.insertRule(`@keyframes ${f} ${l}`,m.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${f} ${r}ms linear ${o}ms 1 both`,be+=1,f}function Nt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(t.style.animation=r.join(", "),be-=o,be||Ot())}function Ot(){qe(()=>{be||(ve.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),ve.clear())})}let oe;function ie(t){oe=t}function Ue(){if(!oe)throw new Error("Function called outside component initialization");return oe}function _t(t){Ue().$$.on_mount.push(t)}function Dt(t){Ue().$$.on_destroy.push(t)}function Rt(){const t=Ue();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=gt(e,n,{cancelable:r});return o.slice().forEach(u=>{u.call(t,i)}),!i.defaultPrevented}return!0}}const X=[],ye=[];let ee=[];const We=[],Ht=Promise.resolve();let Te=!1;function Lt(){Te||(Te=!0,Ht.then(vt))}function z(t){ee.push(t)}const Se=new Set;let J=0;function vt(){if(J!==0)return;const t=oe;do{try{for(;J<X.length;){const e=X[J];J++,ie(e),qt(e.$$)}}catch(e){throw X.length=0,J=0,e}for(ie(null),X.length=0,J=0;ye.length;)ye.pop()();for(let e=0;e<ee.length;e+=1){const n=ee[e];Se.has(n)||(Se.add(n),n())}ee.length=0}while(X.length);for(;We.length;)We.pop()();Te=!1,Se.clear(),ie(t)}function qt(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function Bt(t){const e=[],n=[];ee.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ee=e}let re;function Ut(){return re||(re=Promise.resolve(),re.then(()=>{re=null})),re}function Ee(t,e,n){t.dispatchEvent(gt(`${e?"intro":"outro"}${n}`))}const me=new Set;let L;function Ie(){L={r:0,c:[],p:L}}function $e(){L.r||G(L.c),L=L.p}function O(t,e){t&&t.i&&(me.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(me.has(t))return;me.add(t),L.c.push(()=>{me.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Yt={duration:0};function Ce(t,e,n,r){let i=e(t,n,{direction:"both"}),u=r?0:1,a=null,c=null,s=null,l;function f(){s&&Nt(t,s)}function p(g,v){const _=g.b-u;return v*=Math.abs(_),{a:u,b:g.b,d:_,duration:v,start:g.start,end:g.start+v,group:g.group}}function m(g){const{delay:v=0,duration:_=300,easing:h=Ft,tick:y=P,css:d}=i||Yt,S={start:St()+v,b:g};g||(S.group=L,L.r+=1),"inert"in t&&(g?l!==void 0&&(t.inert=l):(l=t.inert,t.inert=!0)),a||c?c=S:(d&&(f(),s=Qe(t,u,g,_,v,h,d)),g&&y(0,1),a=p(S,_),z(()=>Ee(t,g,"start")),Et(C=>{if(c&&C>c.start&&(a=p(c,_),c=null,Ee(t,a.b,"start"),d&&(f(),s=Qe(t,u,a.b,a.duration,0,h,i.css))),a){if(C>=a.end)y(u=a.b,1-u),Ee(t,a.b,"end"),c||(a.b?f():--a.group.r||G(a.group.c)),a=null;else if(C>=a.start){const V=C-a.start;u=a.a+a.d*h(V/a.duration),y(u,1-u)}}return!!(a||c)}))}return{run(g){Le(i)?Ut().then(()=>{i=i({direction:g?"in":"out"}),m(g)}):m(g)},end(){f(),a=c=null}}}function B(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function we(t){t&&t.c()}function se(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),z(()=>{const i=t.$$.on_mount.map(dt).filter(Le);t.$$.on_destroy?t.$$.on_destroy.push(...i):G(i),t.$$.on_mount=[]}),o.forEach(z)}function le(t,e){const n=t.$$;n.fragment!==null&&(Bt(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){t.$$.dirty[0]===-1&&(X.push(t),Lt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,r,o,i,u=null,a=[-1]){const c=oe;ie(t);const s=t.$$={fragment:null,ctx:[],props:i,update:P,not_equal:o,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ze(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};u&&u(s.root);let l=!1;if(s.ctx=n?n(t,e.props||{},(f,p,...m)=>{const g=m.length?m[0]:p;return s.ctx&&o(s.ctx[f],s.ctx[f]=g)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](g),l&&jt(t,f)),p}):[],s.update(),l=!0,G(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const f=Tt(e.target);s.fragment&&s.fragment.l(f),f.forEach(A)}else s.fragment&&s.fragment.c();e.intro&&O(t.$$.fragment),se(t,e.target,e.anchor),vt()}ie(c)}class ce{constructor(){ke(this,"$$");ke(this,"$$set")}$destroy(){le(this,1),this.$destroy=P}$on(e,n){if(!Le(n))return P;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const zt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(zt);const Z=[];function Je(t,e=P){let n;const r=new Set;function o(a){if(te(t,a)&&(t=a,n)){const c=!Z.length;for(const s of r)s[1](),Z.push(s,t);if(c){for(let s=0;s<Z.length;s+=2)Z[s][0](Z[s+1]);Z.length=0}}}function i(a){o(a(t))}function u(a,c=P){const s=[a,c];return r.add(s),r.size===1&&(n=e(o,i)||P),a(t),()=>{r.delete(s),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:u}}const x=[{title:"Metal Cardbot",subtitle:"Season 1",icon:"./season1.png",incomplete:!0,sources:[{name:"Dub",language:"en",path:"/dub",credits:"SAMG Entertainment"}],openings:[{name:"Opening",id:"1070bnqHcHY"}],episodes:[{name:"Mystery of the Police Car Robot!",id:"ZLcqsmPCHLY"},{name:"The Dancing Dump Truck",id:"3ElOpqFXaSU"},{name:"Farewell, Blue Cop",id:"5RCpJwrhkrs"},{name:"The Black Ambulance",id:"52W_cb1f1ao"},{name:"Fire Truck With a Phobia",id:"c_CdqDAyGqI"},{name:"The Invisible Challenger",id:"YGHc9jfOsb0"},{name:"Defeating the Heli-Tornado",id:"ksRW6iMADzQ"},{name:"The Secret is Out!",id:"jzz3UOpvuV0"},{name:"0 Seconds to Destruction",id:"rkhiv9q4FJw"},{name:"Attack of the Final Boss!",id:"1lqFbWgblmk"},{name:"The Mysterious Transfer Student",id:"sfh5bi5Njtc"},{name:"Blue Cop's Special Training!",id:"aU5wLVRQIWQ"},{name:"Guardian of the Forest",id:"PkNgHFctIIg"},{name:"Operation Underground Battle",id:"5igwoiB4sAE"},{name:"A Metal Cardbot from the Sky!",id:"8wpIPp7c094"},{name:"The Vagabond in the Sky",id:"4kAhVJnzL9w"},{name:"Showdown Between Blue Cop and Wild Guardy!",id:"t5_mM9bdq00"},{name:"The Great Showdown! Giant VS Giant!",id:"ScF3TTBBfyo"},{name:"The Hungry Metal Cardbot",id:"hOeQeLZ4ccg"},{name:"Metal Breath Gets Stolen",id:"jk6TC3f6Uls"}]},{title:"Metal Cardbot S",subtitle:"Season 2",icon:"./season2.jpg",incomplete:!0,sources:[{name:"Translated",path:"/",language:"en",credits:"SAMG Entertainment"}],openings:[],episodes:[]}].map(t=>(t.openings=t.openings.map(e=>(e.context=t,e)),t.episodes=t.episodes.map(e=>(e.context=t,e)),t));function Ze(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function Xe(t,e,n){const r=t.slice();return r[10]=e[n],r[9]=n,r}function Ke(t,e,n){const r=t.slice();return r[1]=e[n],r}function Gt(t){let e,n,r,o=B(x[N].sources),i=[];for(let u=0;u<o.length;u+=1)i[u]=et(Ke(t,o,u));return{c(){e=k("select");for(let u=0;u<i.length;u+=1)i[u].c();b(e,"placeholder","Select a dub"),b(e,"class","svelte-1u61rr0"),t[2]===void 0&&z(()=>t[4].call(e))},m(u,a){T(u,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);Ge(e,t[2],!0),n||(r=D(e,"change",t[4]),n=!0)},p(u,a){if(a&0){o=B(x[N].sources);let c;for(c=0;c<o.length;c+=1){const s=Ke(u,o,c);i[c]?i[c].p(s,a):(i[c]=et(s),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a&4&&Ge(e,u[2])},d(u){u&&A(e),_e(i,u),n=!1,r()}}}function et(t){let e,n=t[1].name+"",r,o,i=t[1].language+"",u,a;return{c(){e=k("option"),r=j(n),o=j(" ("),u=j(i),a=j(")"),e.__value=t[1],$t(e,e.__value)},m(c,s){T(c,e,s),F(e,r),F(e,o),F(e,u),F(e,a)},p:P,d(c){c&&A(e)}}}function tt(t){let e,n,r,o,i,u,a,c,s,l;function f(){return t[5](t[10])}return{c(){e=k("button"),n=k("img"),o=M(),i=k("div"),u=k("h3"),u.textContent=`${t[10].name}`,a=M(),c=k("div"),c.innerHTML='<span class="tag svelte-1u61rr0">OP</span>',ue(n.src,r=`https://img.youtube.com/vi/${t[10].id}/0.jpg`)||b(n,"src",r),b(n,"class","svelte-1u61rr0"),b(u,"class","svelte-1u61rr0"),b(c,"class","tags"),b(i,"class","text svelte-1u61rr0"),b(e,"class","episode svelte-1u61rr0"),H(e,"active",t[3]===t[10])},m(p,m){T(p,e,m),F(e,n),F(e,o),F(e,i),F(i,u),F(i,a),F(i,c),s||(l=D(e,"click",f),s=!0)},p(p,m){t=p,m&8&&H(e,"active",t[3]===t[10])},d(p){p&&A(e),s=!1,l()}}}function nt(t){let e,n,r,o,i,u,a,c,s,l,f;function p(){return t[6](t[7])}return{c(){e=k("button"),n=k("img"),o=M(),i=k("div"),u=k("h3"),u.textContent=`${t[7].name}`,a=M(),c=k("div"),s=k("span"),s.textContent=`Episode ${t[9]+1}`,ue(n.src,r=`https://img.youtube.com/vi/${t[7].id}/0.jpg`)||b(n,"src",r),b(n,"class","svelte-1u61rr0"),b(u,"class","svelte-1u61rr0"),b(s,"class","tag svelte-1u61rr0"),b(c,"class","tags"),b(i,"class","text svelte-1u61rr0"),b(e,"class","episode svelte-1u61rr0"),H(e,"active",t[3]===t[7])},m(m,g){T(m,e,g),F(e,n),F(e,o),F(e,i),F(i,u),F(i,a),F(i,c),F(c,s),l||(f=D(e,"click",p),l=!0)},p(m,g){t=m,g&8&&H(e,"active",t[3]===t[7])},d(m){m&&A(e),l=!1,f()}}}function Qt(t){let e;return{c(){e=k("i"),e.textContent="Check back next week for new episodes!",he(e,"text-align","center"),he(e,"width","100%"),he(e,"display","block"),he(e,"padding","10px 0")},m(n,r){T(n,e,r)},d(n){n&&A(e)}}}function Wt(t){let e,n,r,o,i,u,a,c,s,l,f,p,m,g,v=x[N].sources.length>1&&Gt(t),_=B(x[N].openings),h=[];for(let C=0;C<_.length;C+=1)h[C]=tt(Xe(t,_,C));let y=B(x[N].episodes),d=[];for(let C=0;C<y.length;C+=1)d[C]=nt(Ze(t,y,C));let S=x[N].incomplete&&Qt();return{c(){e=k("div"),n=k("header"),r=k("img"),i=M(),u=k("div"),a=k("h2"),a.textContent=`${x[N].title}`,c=M(),s=k("p"),s.textContent=`${x[N].subtitle}`,l=M(),v&&v.c(),f=M(),p=k("div");for(let C=0;C<h.length;C+=1)h[C].c();m=M();for(let C=0;C<d.length;C+=1)d[C].c();g=M(),S&&S.c(),ue(r.src,o=x[N].icon)||b(r,"src",o),b(r,"class","svelte-1u61rr0"),b(a,"class","svelte-1u61rr0"),b(s,"class","svelte-1u61rr0"),b(u,"class","text svelte-1u61rr0"),b(n,"class","svelte-1u61rr0"),b(p,"class","episodes svelte-1u61rr0"),b(e,"class","playlist svelte-1u61rr0")},m(C,V){T(C,e,V),F(e,n),F(n,r),F(n,i),F(n,u),F(u,a),F(u,c),F(u,s),F(e,l),v&&v.m(e,null),F(e,f),F(e,p);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(p,null);F(p,m);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(p,null);F(p,g),S&&S.m(p,null)},p(C,[V]){if(x[N].sources.length>1&&v.p(C,V),V&9){_=B(x[N].openings);let w;for(w=0;w<_.length;w+=1){const $=Xe(C,_,w);h[w]?h[w].p($,V):(h[w]=tt($),h[w].c(),h[w].m(p,m))}for(;w<h.length;w+=1)h[w].d(1);h.length=_.length}if(V&9){y=B(x[N].episodes);let w;for(w=0;w<y.length;w+=1){const $=Ze(C,y,w);d[w]?d[w].p($,V):(d[w]=nt($),d[w].c(),d[w].m(p,g))}for(;w<d.length;w+=1)d[w].d(1);d.length=y.length}},i:P,o:P,d(C){C&&A(e),v&&v.d(),_e(h,C),_e(d,C),S&&S.d()}}}let N=0;function Jt(t,e,n){let r,o=P,i=()=>(o(),o=ge(l,g=>n(2,r=g)),l),u,a=P,c=()=>(a(),a=ge(s,g=>n(3,u=g)),s);t.$$.on_destroy.push(()=>o()),t.$$.on_destroy.push(()=>a());let{video:s}=e;c();let{source:l}=e;i();function f(){r=Vt(this),l.set(r)}const p=g=>s.set(g),m=g=>s.set(g);return t.$$set=g=>{"video"in g&&c(n(0,s=g.video)),"source"in g&&i(n(1,l=g.source))},t.$$.update=()=>{t.$$.dirty&6&&r===null&&x[N].sources.length>0&&l.set(x[N].sources[0])},[s,l,r,u,f,p,m]}class Zt extends ce{constructor(e){super(),ae(this,e,Jt,Wt,te,{video:0,source:1})}}function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ve={exports:{}},bt;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/bt=function(){var t={},e={};return t.on=function(n,r){var o={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(o),o},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var o=e[n],i;if(o)for(i=o.length;i--;)o[i].handler(r)},t};var Kt=bt,Me={exports:{}},xe={exports:{}},Pe,rt;function en(){if(rt)return Pe;rt=1;var t=1e3,e=t*60,n=e*60,r=n*24,o=r*7,i=r*365.25;Pe=function(l,f){f=f||{};var p=typeof l;if(p==="string"&&l.length>0)return u(l);if(p==="number"&&isFinite(l))return f.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function u(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(l){var f=Math.abs(l);return f>=r?Math.round(l/r)+"d":f>=n?Math.round(l/n)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var f=Math.abs(l);return f>=r?s(l,f,r,"day"):f>=n?s(l,f,n,"hour"):f>=e?s(l,f,e,"minute"):f>=t?s(l,f,t,"second"):l+" ms"}function s(l,f,p,m){var g=f>=p*1.5;return Math.round(l/p)+" "+m+(g?"s":"")}return Pe}function tn(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=u,n.humanize=en(),n.destroy=s,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let f=0;for(let p=0;p<l.length;p++)f=(f<<5)-f+l.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(l){let f,p=null,m,g;function v(..._){if(!v.enabled)return;const h=v,y=Number(new Date),d=y-(f||y);h.diff=d,h.prev=f,h.curr=y,f=y,_[0]=n.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let S=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(V,w)=>{if(V==="%%")return"%";S++;const $=n.formatters[w];if(typeof $=="function"){const Q=_[S];V=$.call(h,Q),_.splice(S,1),S--}return V}),n.formatArgs.call(h,_),(h.log||n.log).apply(h,_)}return v.namespace=l,v.useColors=n.useColors(),v.color=n.selectColor(l),v.extend=r,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(l)),g),set:_=>{p=_}}),typeof n.init=="function"&&n.init(v),v}function r(l,f){const p=n(this.namespace+(typeof f>"u"?":":f)+l);return p.log=this.log,p}function o(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let f;const p=(typeof l=="string"?l:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(l=p[f].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function i(){const l=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),l}function u(l){if(l[l.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(l))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var nn=tn;(function(t,e){var n={};e.formatArgs=o,e.save=i,e.load=u,e.useColors=r,e.storage=a(),e.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;s.splice(1,0,l,"color: inherit");let f=0,p=0;s[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(p=f))}),s.splice(p,0,l)}e.log=console.debug||console.log||(()=>{});function i(s){try{s?e.storage.setItem("debug",s):e.storage.removeItem("debug")}catch{}}function u(){let s;try{s=e.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=n.DEBUG),s}function a(){try{return localStorage}catch{}}t.exports=nn(e);const{formatters:c}=t.exports;c.j=function(s){try{return JSON.stringify(s)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(xe,xe.exports);var rn=xe.exports,Ne={exports:{}},Oe={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Oe,Oe.exports);var on=Oe.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=on,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Ne,Ne.exports);var sn=Ne.exports,De={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(De,De.exports);var ln=De.exports,Re={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],t.exports=e.default})(Re,Re.exports);var un=Re.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=rn,r=l(n),o=sn,i=l(o),u=ln,a=l(u),c=un,s=l(c);function l(m){return m&&m.__esModule?m:{default:m}}const f=(0,r.default)("youtube-player"),p={};p.proxyEvents=m=>{const g={};for(const v of a.default){const _="on"+v.slice(0,1).toUpperCase()+v.slice(1);g[_]=h=>{f('event "%s"',_,h),m.trigger(v,h)}}return g},p.promisifyPlayer=(m,g=!1)=>{const v={};for(const _ of s.default)g&&i.default[_]?v[_]=(...h)=>m.then(y=>{const d=i.default[_],S=y.getPlayerState(),C=y[_].apply(y,h);return d.stateChangeRequired||Array.isArray(d.acceptableStates)&&!d.acceptableStates.includes(S)?new Promise(V=>{const w=()=>{const $=y.getPlayerState();let Q;typeof d.timeout=="number"&&(Q=setTimeout(()=>{y.removeEventListener("onStateChange",w),V()},d.timeout)),Array.isArray(d.acceptableStates)&&d.acceptableStates.includes($)&&(y.removeEventListener("onStateChange",w),clearTimeout(Q),V())};y.addEventListener("onStateChange",w)}).then(()=>C):C}):v[_]=(...h)=>m.then(y=>y[_].apply(y,h));return v},e.default=p,t.exports=e.default})(Me,Me.exports);var an=Me.exports,He={exports:{}},cn=function(e,n,r){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},i.type=n.type||"text/javascript",i.charset=n.charset||"utf8",i.async="async"in n?!!n.async:!0,i.src=e,n.attrs&&fn(i,n.attrs),n.text&&(i.text=""+n.text);var u="onload"in i?it:dn;u(i,r),i.onload||it(i,r),o.appendChild(i)};function fn(t,e){for(var n in e)t.setAttribute(n,e[n])}function it(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function dn(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=cn,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}e.default=i=>new Promise(a=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{const s=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(s+"//www.youtube.com/iframe_api",l=>{l&&i.trigger("error",l)})}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c&&c(),a(window.YT)}}),t.exports=e.default})(He,He.exports);var pn=He.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Kt,r=c(n),o=an,i=c(o),u=pn,a=c(u);function c(l){return l&&l.__esModule?l:{default:l}}let s;e.default=(l,f={},p=!1)=>{const m=(0,r.default)();if(s||(s=(0,a.default)(m)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof l=="string"&&!document.getElementById(l))throw new Error('Element "'+l+'" does not exist.');f.events=i.default.proxyEvents(m);const g=new Promise(_=>{typeof l=="object"&&l.playVideo instanceof Function?_(l):s.then(h=>{const y=new h.Player(l,f);return m.on("ready",()=>{_(y)}),null})}),v=i.default.promisifyPlayer(g,p);return v.on=m.on,v.off=m.off,v},t.exports=e.default})(Ve,Ve.exports);var hn=Ve.exports;const mn=Xt(hn);function gn(t){let e,n,r,o;return{c(){e=k("div"),n=k("div"),b(n,"id",t[0]),b(n,"class",r=pe(t[1]?"responsive-player":"")+" svelte-bvyk3m"),b(e,"class",o=pe((t[2]?t[2]:"")+(t[1]?" responsive-container":""))+" svelte-bvyk3m")},m(i,u){T(i,e,u),F(e,n),t[6](n)},p(i,[u]){u&1&&b(n,"id",i[0]),u&2&&r!==(r=pe(i[1]?"responsive-player":"")+" svelte-bvyk3m")&&b(n,"class",r),u&6&&o!==(o=pe((i[2]?i[2]:"")+(i[1]?" responsive-container":""))+" svelte-bvyk3m")&&b(e,"class",o)},i:P,o:P,d(i){i&&A(e),t[6](null)}}}const Ae={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function _n(t,e,n){let{id:r=void 0}=e,{videoId:o}=e,{options:i=void 0}=e,{responsive:u=!1}=e,{class:a}=e,c,s;_t(()=>l());function l(){return s=mn(c,i),s.on("ready",m),s.on("error",g),s.on("stateChange",v),s.on("playbackRateChange",_),s.on("playbackQualityChange",h),()=>s.destroy()}function f(d){s&&d&&(i&&i.playerVars&&i.playerVars.autoplay===1?s.loadVideoById(d):s.cueVideoById(d))}const p=Rt();function m(d){p("ready",d),f(o)}function g(d){p("error",d)}function v(d){switch(p("stateChange",d),d.data){case Ae.ENDED:p("end",d);break;case Ae.PLAYING:p("play",d);break;case Ae.PAUSED:p("pause",d);break}}function _(d){p("playbackRateChange",d)}function h(d){p("playbackQualityChange",d)}function y(d){ye[d?"unshift":"push"](()=>{c=d,n(3,c)})}return t.$$set=d=>{"id"in d&&n(0,r=d.id),"videoId"in d&&n(4,o=d.videoId),"options"in d&&n(5,i=d.options),"responsive"in d&&n(1,u=d.responsive),"class"in d&&n(2,a=d.class)},t.$$.update=()=>{t.$$.dirty&16&&f(o)},[r,u,a,c,o,i,y]}class vn extends ce{constructor(e){super(),ae(this,e,_n,gn,te,{id:0,videoId:4,options:5,responsive:1,class:2})}}function bn(t){const e=t-1;return e*e*e+1}function Fe(t,{delay:e=0,duration:n=400,easing:r=bn,axis:o="y"}={}){const i=getComputedStyle(t),u=+i.opacity,a=o==="y"?"height":"width",c=parseFloat(i[a]),s=o==="y"?["top","bottom"]:["left","right"],l=s.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),f=parseFloat(i[`padding${l[0]}`]),p=parseFloat(i[`padding${l[1]}`]),m=parseFloat(i[`margin${l[0]}`]),g=parseFloat(i[`margin${l[1]}`]),v=parseFloat(i[`border${l[0]}Width`]),_=parseFloat(i[`border${l[1]}Width`]);return{delay:e,duration:n,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*u};${a}: ${h*c}px;padding-${s[0]}: ${h*f}px;padding-${s[1]}: ${h*p}px;margin-${s[0]}: ${h*m}px;margin-${s[1]}: ${h*g}px;border-${s[0]}-width: ${h*v}px;border-${s[1]}-width: ${h*_}px;`}}function ot(t,e,n){const r=t.slice();return r[6]=e[n],r}function st(t){let e,n,r=B(t[1].text.replace(" (FIX_THIS)","").split(/[ \n]/)),o=[];for(let i=0;i<r.length;i+=1)o[i]=ut(ot(t,r,i));return{c(){e=k("div"),n=k("div");for(let i=0;i<o.length;i+=1)o[i].c();b(n,"class","subtitle svelte-qbf2z2"),H(n,"needsFixing",t[1].text.includes("FIX_THIS")),b(e,"class","subtitleArea svelte-qbf2z2"),H(e,"hover",t[0])},m(i,u){T(i,e,u),F(e,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p(i,u){if(u&2){r=B(i[1].text.replace(" (FIX_THIS)","").split(/[ \n]/));let a;for(a=0;a<r.length;a+=1){const c=ot(i,r,a);o[a]?o[a].p(c,u):(o[a]=ut(c),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}u&2&&H(n,"needsFixing",i[1].text.includes("FIX_THIS")),u&1&&H(e,"hover",i[0])},d(i){i&&A(e),_e(o,i)}}}function lt(t){let e;return{c(){e=k("span"),b(e,"class","newline svelte-qbf2z2")},m(n,r){T(n,e,r)},d(n){n&&A(e)}}}function ut(t){let e,n=t[6]+"",r,o,i=t[1].text.includes(t[6]+`
`),u,a=i&&lt();return{c(){e=k("span"),r=j(n),o=M(),a&&a.c(),u=Be(),b(e,"class","svelte-qbf2z2")},m(c,s){T(c,e,s),F(e,r),T(c,o,s),a&&a.m(c,s),T(c,u,s)},p(c,s){s&2&&n!==(n=c[6]+"")&&It(r,n),s&2&&(i=c[1].text.includes(c[6]+`
`)),i?a||(a=lt(),a.c(),a.m(u.parentNode,u)):a&&(a.d(1),a=null)},d(c){c&&(A(e),A(o),A(u)),a&&a.d(c)}}}function yn(t){let e,n=t[1]&&st(t);return{c(){n&&n.c(),e=Be()},m(r,o){n&&n.m(r,o),T(r,e,o)},p(r,[o]){r[1]?n?n.p(r,o):(n=st(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:P,o:P,d(r){r&&A(e),n&&n.d(r)}}}function Cn(t,e,n){let{subtitles:r}=e,{target:o}=e,{hover:i}=e,u=null,a=!0;function c(){if(a&&requestAnimationFrame(c),!o)return;let s=o.getCurrentTime();if(!(u&&s>=u.start&&s<u.end)){for(let l of r){if(s>=l.start&&s<=l.end){n(1,u=l);return}if(s<l.start)break}n(1,u=null)}}return _t(()=>{requestAnimationFrame(c),a=!0}),Dt(()=>{a=!1}),t.$$set=s=>{"subtitles"in s&&n(2,r=s.subtitles),"target"in s&&n(3,o=s.target),"hover"in s&&n(0,i=s.hover)},[i,u,r,o]}class wn extends ce{constructor(e){super(),ae(this,e,Cn,yn,te,{subtitles:2,target:3,hover:0})}}const Fn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",kn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e";function Sn(t){let e;return{c(){e=k("h1"),e.textContent="Choose an episode! ➡️",b(e,"class","svelte-shi729")},m(n,r){T(n,e,r)},p:P,i:P,o:P,d(n){n&&A(e)}}}function En(t){let e,n,r,o,i,u,a,c,s,l,f,p;n=new vn({props:{videoId:t[5].id,responsive:!0,options:{playerVars:{autoplay:1,fs:0,playsinline:1}}}}),n.$on("play",t[10]),n.$on("end",t[11]);let m=t[3]&&at(t);function g(d,S){return d[2]?An:Pn}let v=g(t),_=v(t),h=!t[8]&&ct(t),y=t[9]&&ft(t);return{c(){e=k("div"),we(n.$$.fragment),r=M(),m&&m.c(),o=M(),i=k("button"),_.c(),u=M(),h&&h.c(),c=M(),y&&y.c(),s=Be(),b(i,"class","fullscreenBtn svelte-shi729"),H(i,"visible",t[6]),b(e,"class","videoInner svelte-shi729")},m(d,S){T(d,e,S),se(n,e,null),F(e,r),m&&m.m(e,null),F(e,o),F(e,i),_.m(i,null),F(e,u),h&&h.m(e,null),T(d,c,S),y&&y.m(d,S),T(d,s,S),l=!0,f||(p=[D(i,"click",t[12]),D(e,"focus",t[13]),D(e,"mouseover",t[13]),D(e,"mousemove",t[13]),D(e,"mouseout",t[14]),D(e,"blur",t[14])],f=!0)},p(d,S){const C={};S&32&&(C.videoId=d[5].id),n.$set(C),d[3]?m?(m.p(d,S),S&8&&O(m,1)):(m=at(d),m.c(),O(m,1),m.m(e,o)):m&&(Ie(),R(m,1,1,()=>{m=null}),$e()),v!==(v=g(d))&&(_.d(1),_=v(d),_&&(_.c(),_.m(i,null))),(!l||S&64)&&H(i,"visible",d[6]),d[8]?h&&(Ie(),R(h,1,1,()=>{h=null}),$e()):h?(h.p(d,S),S&256&&O(h,1)):(h=ct(d),h.c(),O(h,1),h.m(e,null)),d[9]?y?y.p(d,S):(y=ft(d),y.c(),y.m(s.parentNode,s)):y&&(y.d(1),y=null)},i(d){l||(O(n.$$.fragment,d),O(m),O(h),d&&z(()=>{l&&(a||(a=Ce(e,Fe,{duration:100,axis:"y"},!0)),a.run(1))}),l=!0)},o(d){R(n.$$.fragment,d),R(m),R(h),d&&(a||(a=Ce(e,Fe,{duration:100,axis:"y"},!1)),a.run(0)),l=!1},d(d){d&&(A(e),A(c),A(s)),le(n),m&&m.d(),_.d(),h&&h.d(),d&&a&&a.end(),y&&y.d(d),f=!1,G(p)}}}function at(t){let e,n,r,o=!1;return n=new wn({props:{subtitles:t[4],target:t[3],hover:t[6]}}),{c(){e=M(),we(n.$$.fragment)},m(i,u){T(i,e,u),se(n,i,u),r=!0},p(i,u){const a={};u&16&&(a.subtitles=i[4]),u&8&&(a.target=i[3]),u&64&&(a.hover=i[6]),n.$set(a)},i(i){r||(O(o),O(n.$$.fragment,i),r=!0)},o(i){R(o),R(n.$$.fragment,i),r=!1},d(i){i&&A(e),le(n,i)}}}function Pn(t){let e,n;return{c(){e=k("img"),b(e,"width","24px"),b(e,"height","24px"),ue(e.src,n=Fn)||b(e,"src",n),b(e,"alt","Enter Fullscreen")},m(r,o){T(r,e,o)},d(r){r&&A(e)}}}function An(t){let e,n;return{c(){e=k("img"),b(e,"width","24px"),b(e,"height","24px"),ue(e.src,n=kn)||b(e,"src",n),b(e,"alt","Exit Fullscreen")},m(r,o){T(r,e,o)},d(r){r&&A(e)}}}function ct(t){let e,n,r,o,i;return{c(){e=k("div"),e.textContent="Tap the bottom right of the video to toggle fullscreen",b(e,"class","fullscreenTooltip svelte-shi729")},m(u,a){T(u,e,a),r=!0,o||(i=D(e,"click",t[16]),o=!0)},p:P,i(u){r||(u&&z(()=>{r&&(n||(n=Ce(e,Fe,{duration:300,axis:"y"},!0)),n.run(1))}),r=!0)},o(u){u&&(n||(n=Ce(e,Fe,{duration:300,axis:"y"},!1)),n.run(0)),r=!1},d(u){u&&A(e),u&&n&&n.end(),o=!1,i()}}}function ft(t){let e,n,r;return{c(){e=k("button"),e.textContent="⚠️ Report an issue",b(e,"class","reportIssueBtn svelte-shi729")},m(o,i){T(o,e,i),n||(r=D(e,"click",t[15]),n=!0)},p:P,d(o){o&&A(e),n=!1,r()}}}function Tn(t){let e,n,r,o;const i=[En,Sn],u=[];function a(c,s){return c[5]?0:1}return n=a(t),r=u[n]=i[n](t),{c(){e=k("div"),r.c(),b(e,"class","video svelte-shi729")},m(c,s){T(c,e,s),u[n].m(e,null),t[18](e),o=!0},p(c,[s]){let l=n;n=a(c),n===l?u[n].p(c,s):(Ie(),R(u[l],1,1,()=>{u[l]=null}),$e(),r=u[n],r?r.p(c,s):(r=u[n]=i[n](c),r.c()),O(r,1),r.m(e,null))},i(c){o||(O(r),o=!0)},o(c){R(r),o=!1},d(c){c&&A(e),u[n].d(),t[18](null)}}}function In(t){let[e,n,r]=t.replace(",",".").split(":").map(parseFloat);return e*3600+n*60+r}function $n(t,e,n){let r,o,i=P,u=()=>(i(),i=ge(l,E=>n(5,o=E)),l),a,c=P,s=()=>(c(),c=ge(f,E=>n(17,a=E)),f);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>c());let{video:l}=e;u();let{source:f}=e;s();let p=!1,m=!1,g=null;function v(E){g!==E.detail.target&&(n(3,g=E.detail.target),console.log("Playing",E.detail.target),n(6,m=!0),C=setTimeout(()=>n(6,m=!1),3e3))}function _(E){if(console.log("Ended",E.detail.target),o!==null){const I=o.context.episodes;let U=I.indexOf(o);U<I.length-1&&l.set(I[U+1])}}let h=[];async function y(E){n(4,h=[]);let I=await fetch(E);if(!I.ok)return console.error("Failed to fetch subtitle");let ne=(await I.text()).split(`

`);n(4,h=[]);let W=0;for(let fe of ne)if(fe.startsWith((W+1).toString()+`
`)){W++;const q=fe.split(`
`),Y={start:-1,end:1,text:""};[Y.start,Y.end]=q[1].split(" --> ").map(In),Y.text=q.slice(2).join(`
`),h.push(Y)}}let d;function S(){je(),p?(document.exitFullscreen(),n(2,p=!1)):(d.requestFullscreen(),n(2,p=!0))}let C;function V(E){n(6,m=!0),C&&clearTimeout(C),C=setTimeout(()=>n(6,m=!1),3e3)}function w(){n(6,m=!1),C&&clearTimeout(C)}const $=E=>`${Math.floor(E/60)}:${(E%60).toFixed(2).padStart(5,"0")}`;function Q(){if(!g||!o)return;let E=g.getCurrentTime(),I=h.findIndex(Y=>E>=Y.start&&E<=Y.end);console.log(I);let U,ne,W;I>0&&(U=`(${$(h[I-1].start)} - ${$(h[I-1].end)}) `+h[I-1].text),I!==-1&&I<h.length-1&&(W=`(${$(h[I+1].start)} - ${$(h[I+1].end)}) `+h[I+1].text),I!==-1&&(ne=`(${$(h[I].start)} - ${$(h[I].end)}) `+h[I].text);let fe=`CC issue | ${o.name}, ${$(E)}`,q=`## Issue template (do not remove)
**Video**: ${o.name} <https://youtu.be/${o.id}>
⏱️ ${$(E)}`;U&&(q+=`
⏮️CC: ${U}`),ne&&(q+=`
🟦CC: ${ne}`),W&&(q+=`
⏭️CC: ${W}`),q+=`

## Describe the problem`,window.open(`https://github.com/cabalex/mcb-sub/issues/new?title=${fe}&body=${encodeURIComponent(q)}`)}let Ye=localStorage.getItem("mcb-fullscreenTooltipShown")==="true";function je(){localStorage.setItem("mcb-fullscreenTooltipShown","true"),n(8,Ye=!0)}function yt(E){ye[E?"unshift":"push"](()=>{d=E,n(7,d)})}return t.$$set=E=>{"video"in E&&u(n(0,l=E.video)),"source"in E&&s(n(1,f=E.source))},t.$$.update=()=>{t.$$.dirty&131104&&(o&&a?y(`./sub${a.path}/${o.id}.srt`):n(4,h=[])),t.$$.dirty&60&&n(9,r=!!o&&!!g&&h.length>0&&!p)},[l,f,p,g,h,o,m,d,Ye,r,v,_,S,V,w,Q,je,a,yt]}class Vn extends ce{constructor(e){super(),ae(this,e,$n,Tn,te,{video:0,source:1})}}function Mn(t){let e,n,r,o,i;return n=new Vn({props:{video:t[0],source:t[1]}}),o=new Zt({props:{video:t[0],source:t[1]}}),{c(){e=k("main"),we(n.$$.fragment),r=M(),we(o.$$.fragment),b(e,"class","svelte-1vgvhc4")},m(u,a){T(u,e,a),se(n,e,null),F(e,r),se(o,e,null),i=!0},p:P,i(u){i||(O(n.$$.fragment,u),O(o.$$.fragment,u),i=!0)},o(u){R(n.$$.fragment,u),R(o.$$.fragment,u),i=!1},d(u){u&&A(e),le(n),le(o)}}}function xn(t){let e=Je(null),n=Je(null);return[e,n]}class Nn extends ce{constructor(e){super(),ae(this,e,xn,Mn,te,{})}}new Nn({target:document.getElementById("app")});
